function bP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Ec={},Sm={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function RP(){if(g_)return Ue;g_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function C($,Z,ge){this.props=$,this.context=Z,this.refs=S,this.updater=ge||T}C.prototype.isReactComponent={},C.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=C.prototype;function L($,Z,ge){this.props=$,this.context=Z,this.refs=S,this.updater=ge||T}var V=L.prototype=new N;V.constructor=L,b(V,C.prototype),V.isPureReactComponent=!0;var W=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R($,Z,ge){var Ae,Pe={},Me=null,ue=null;if(Z!=null)for(Ae in Z.ref!==void 0&&(ue=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)q.call(Z,Ae)&&!k.hasOwnProperty(Ae)&&(Pe[Ae]=Z[Ae]);var xe=arguments.length-2;if(xe===1)Pe.children=ge;else if(1<xe){for(var Ve=Array(xe),ke=0;ke<xe;ke++)Ve[ke]=arguments[ke+2];Pe.children=Ve}if($&&$.defaultProps)for(Ae in xe=$.defaultProps,xe)Pe[Ae]===void 0&&(Pe[Ae]=xe[Ae]);return{$$typeof:t,type:$,key:Me,ref:ue,props:Pe,_owner:J.current}}function D($,Z){return{$$typeof:t,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function j($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return Z[ge]})}var F=/\/+/g;function O($,Z){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):Z.toString(36)}function ve($,Z,ge,Ae,Pe){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(Me){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case t:case e:ue=!0}}if(ue)return ue=$,Pe=Pe(ue),$=Ae===""?"."+O(ue,0):Ae,W(Pe)?(ge="",$!=null&&(ge=$.replace(F,"$&/")+"/"),ve(Pe,Z,ge,"",function(ke){return ke})):Pe!=null&&(j(Pe)&&(Pe=D(Pe,ge+(!Pe.key||ue&&ue.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+$)),Z.push(Pe)),1;if(ue=0,Ae=Ae===""?".":Ae+":",W($))for(var xe=0;xe<$.length;xe++){Me=$[xe];var Ve=Ae+O(Me,xe);ue+=ve(Me,Z,ge,Ve,Pe)}else if(Ve=_($),typeof Ve=="function")for($=Ve.call($),xe=0;!(Me=$.next()).done;)Me=Me.value,Ve=Ae+O(Me,xe++),ue+=ve(Me,Z,ge,Ve,Pe);else if(Me==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ue}function Oe($,Z,ge){if($==null)return $;var Ae=[],Pe=0;return ve($,Ae,"","",function(Me){return Z.call(ge,Me,Pe++)}),Ae}function _e($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var ce={current:null},X={transition:null},oe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:X,ReactCurrentOwner:J};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Oe,forEach:function($,Z,ge){Oe($,function(){Z.apply(this,arguments)},ge)},count:function($){var Z=0;return Oe($,function(){Z++}),Z},toArray:function($){return Oe($,function(Z){return Z})||[]},only:function($){if(!j($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ue.Component=C,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=L,Ue.StrictMode=r,Ue.Suspense=h,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ue.act=se,Ue.cloneElement=function($,Z,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ae=b({},$.props),Pe=$.key,Me=$.ref,ue=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,ue=J.current),Z.key!==void 0&&(Pe=""+Z.key),$.type&&$.type.defaultProps)var xe=$.type.defaultProps;for(Ve in Z)q.call(Z,Ve)&&!k.hasOwnProperty(Ve)&&(Ae[Ve]=Z[Ve]===void 0&&xe!==void 0?xe[Ve]:Z[Ve])}var Ve=arguments.length-2;if(Ve===1)Ae.children=ge;else if(1<Ve){xe=Array(Ve);for(var ke=0;ke<Ve;ke++)xe[ke]=arguments[ke+2];Ae.children=xe}return{$$typeof:t,type:$.type,key:Pe,ref:Me,props:Ae,_owner:ue}},Ue.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ue.createElement=R,Ue.createFactory=function($){var Z=R.bind(null,$);return Z.type=$,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function($){return{$$typeof:u,render:$}},Ue.isValidElement=j,Ue.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:_e}},Ue.memo=function($,Z){return{$$typeof:p,type:$,compare:Z===void 0?null:Z}},Ue.startTransition=function($){var Z=X.transition;X.transition={};try{$()}finally{X.transition=Z}},Ue.unstable_act=se,Ue.useCallback=function($,Z){return ce.current.useCallback($,Z)},Ue.useContext=function($){return ce.current.useContext($)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function($){return ce.current.useDeferredValue($)},Ue.useEffect=function($,Z){return ce.current.useEffect($,Z)},Ue.useId=function(){return ce.current.useId()},Ue.useImperativeHandle=function($,Z,ge){return ce.current.useImperativeHandle($,Z,ge)},Ue.useInsertionEffect=function($,Z){return ce.current.useInsertionEffect($,Z)},Ue.useLayoutEffect=function($,Z){return ce.current.useLayoutEffect($,Z)},Ue.useMemo=function($,Z){return ce.current.useMemo($,Z)},Ue.useReducer=function($,Z,ge){return ce.current.useReducer($,Z,ge)},Ue.useRef=function($){return ce.current.useRef($)},Ue.useState=function($){return ce.current.useState($)},Ue.useSyncExternalStore=function($,Z,ge){return ce.current.useSyncExternalStore($,Z,ge)},Ue.useTransition=function(){return ce.current.useTransition()},Ue.version="18.3.1",Ue}var y_;function _y(){return y_||(y_=1,Sm.exports=RP()),Sm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function PP(){if(v_)return Ec;v_=1;var t=_y(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var m,y={},_=null,T=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:_,ref:T,props:y,_owner:i.current}}return Ec.Fragment=n,Ec.jsx=l,Ec.jsxs=l,Ec}var w_;function kP(){return w_||(w_=1,Tm.exports=PP()),Tm.exports}var x=kP(),A=_y();const gi=fS(A),pS=bP({__proto__:null,default:gi},[A]);var th={},Im={exports:{}},Tn={},Cm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function NP(){return __||(__=1,function(t){function e(X,oe){var se=X.length;X.push(oe);e:for(;0<se;){var $=se-1>>>1,Z=X[$];if(0<i(Z,oe))X[$]=oe,X[se]=Z,se=$;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],se=X.pop();if(se!==oe){X[0]=se;e:for(var $=0,Z=X.length,ge=Z>>>1;$<ge;){var Ae=2*($+1)-1,Pe=X[Ae],Me=Ae+1,ue=X[Me];if(0>i(Pe,se))Me<Z&&0>i(ue,Pe)?(X[$]=ue,X[Me]=se,$=Me):(X[$]=Pe,X[Ae]=se,$=Ae);else if(Me<Z&&0>i(ue,se))X[$]=ue,X[Me]=se,$=Me;else break e}}return oe}function i(X,oe){var se=X.sortIndex-oe.sortIndex;return se!==0?se:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,y=null,_=3,T=!1,b=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(X){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=X)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(p)}}function W(X){if(S=!1,V(X),!b)if(n(h)!==null)b=!0,_e(q);else{var oe=n(p);oe!==null&&ce(W,oe.startTime-X)}}function q(X,oe){b=!1,S&&(S=!1,N(R),R=-1),T=!0;var se=_;try{for(V(oe),y=n(h);y!==null&&(!(y.expirationTime>oe)||X&&!U());){var $=y.callback;if(typeof $=="function"){y.callback=null,_=y.priorityLevel;var Z=$(y.expirationTime<=oe);oe=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===n(h)&&r(h),V(oe)}else r(h);y=n(h)}if(y!==null)var ge=!0;else{var Ae=n(p);Ae!==null&&ce(W,Ae.startTime-oe),ge=!1}return ge}finally{y=null,_=se,T=!1}}var J=!1,k=null,R=-1,D=5,j=-1;function U(){return!(t.unstable_now()-j<D)}function F(){if(k!==null){var X=t.unstable_now();j=X;var oe=!0;try{oe=k(!0,X)}finally{oe?O():(J=!1,k=null)}}else J=!1}var O;if(typeof L=="function")O=function(){L(F)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=F,O=function(){Oe.postMessage(null)}}else O=function(){C(F,0)};function _e(X){k=X,J||(J=!0,O())}function ce(X,oe){R=C(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){b||T||(b=!0,_e(q))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var se=_;_=oe;try{return X()}finally{_=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=_;_=X;try{return oe()}finally{_=se}},t.unstable_scheduleCallback=function(X,oe,se){var $=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,X){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=se+Z,X={id:m++,callback:oe,priorityLevel:X,startTime:se,expirationTime:Z,sortIndex:-1},se>$?(X.sortIndex=se,e(p,X),n(h)===null&&X===n(p)&&(S?(N(R),R=-1):S=!0,ce(W,se-$))):(X.sortIndex=Z,e(h,X),b||T||(b=!0,_e(q))),X},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(X){var oe=_;return function(){var se=_;_=oe;try{return X.apply(this,arguments)}finally{_=se}}}}(Am)),Am}var x_;function DP(){return x_||(x_=1,Cm.exports=NP()),Cm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function OP(){if(E_)return Tn;E_=1;var t=_y(),e=DP();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return h.call(y,s)?!0:h.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,c,f){if(o===null||typeof o>"u"||T(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,f,g,w,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=I}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,L);C[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,L);C[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,L);C[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,c,f){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,g,f)&&(c=null),f||g===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,$;function Z(s){if($===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var ge=!1;function Ae(s,o){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){f=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=f.stack.split(`
`),I=g.length-1,M=w.length-1;1<=I&&0<=M&&g[I]!==w[M];)M--;for(;1<=I&&0<=M;I--,M--)if(g[I]!==w[M]){if(I!==1||M!==1)do if(I--,M--,0>M||g[I]!==w[M]){var B=`
`+g[I].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=I&&0<=M);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Pe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case J:return"Portal";case D:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Oe:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case _e:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function ue(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function xe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(s){var o=Ve(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(I){f=""+I,w.call(this,I)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fe(s){s._valueTracker||(s._valueTracker=ke(s))}function $e(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Ve(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lt(s,o){var c=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function jn(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=xe(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function er(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function tr(s,o){er(s,o);var c=xe(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?nr(s,o.type,c):o.hasOwnProperty("defaultValue")&&nr(s,o.type,xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function zo(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function nr(s,o,c){(o!=="number"||ht(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Jr=Array.isArray;function Zr(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+xe(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Pl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $o(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Jr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:xe(c)}}function Wo(s,o){var c=xe(o.value),f=xe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function kl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function bt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?bt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ei,Nl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ei.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ni(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hs=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(s){Hs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ws[o]=Ws[s]})});function Dl(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ws.hasOwnProperty(s)&&Ws[s]?(""+o).trim():o+"px"}function Ol(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Dl(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Vl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(s,o){if(o){if(Vl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ll(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Ho(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Go=null,Fn=null,Cr=null;function qo(s){if(s=ac(s)){if(typeof Go!="function")throw Error(n(280));var o=s.stateNode;o&&(o=gd(o),Go(s.stateNode,s.type,o))}}function Ar(s){Fn?Cr?Cr.push(s):Cr=[s]:Fn=s}function jl(){if(Fn){var s=Fn,o=Cr;if(Cr=Fn=null,qo(s),o)for(s=0;s<o.length;s++)qo(o[s])}}function qs(s,o){return s(o)}function Fl(){}var ti=!1;function Ul(s,o,c){if(ti)return s(o,c);ti=!0;try{return qs(s,o,c)}finally{ti=!1,(Fn!==null||Cr!==null)&&(Fl(),jl())}}function mt(s,o){var c=s.stateNode;if(c===null)return null;var f=gd(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ko=!1;if(u)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Ko=!1}function Ks(s,o,c,f,g,w,I,M,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(re){this.onError(re)}}var Ys=!1,Yo=null,ir=!1,Bl=null,Xf={onError:function(s){Ys=!0,Yo=s}};function Qo(s,o,c,f,g,w,I,M,B){Ys=!1,Yo=null,Ks.apply(Xf,arguments)}function Bu(s,o,c,f,g,w,I,M,B){if(Qo.apply(this,arguments),Ys){if(Ys){var Y=Yo;Ys=!1,Yo=null}else throw Error(n(198));ir||(ir=!0,Bl=Y)}}function sr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Qs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function or(s){if(sr(s)!==s)throw Error(n(188))}function zu(s){var o=s.alternate;if(!o){if(o=sr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return or(g),s;if(w===f)return or(g),o;w=w.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=w;else{for(var I=!1,M=g.child;M;){if(M===c){I=!0,c=g,f=w;break}if(M===f){I=!0,f=g,c=w;break}M=M.sibling}if(!I){for(M=w.child;M;){if(M===c){I=!0,c=w,f=g;break}if(M===f){I=!0,f=w,c=g;break}M=M.sibling}if(!I)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function zl(s){return s=zu(s),s!==null?Xo(s):null}function Xo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Xo(s);if(o!==null)return o;s=s.sibling}return null}var Jo=e.unstable_scheduleCallback,$l=e.unstable_cancelCallback,$u=e.unstable_shouldYield,Jf=e.unstable_requestPaint,Ze=e.unstable_now,Wu=e.unstable_getCurrentPriorityLevel,Xs=e.unstable_ImmediatePriority,Di=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Wl=e.unstable_LowPriority,Hu=e.unstable_IdlePriority,Js=null,An=null;function Gu(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Js,s,void 0,(s.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Ku,Hl=Math.log,qu=Math.LN2;function Ku(s){return s>>>=0,s===0?32:31-(Hl(s)/qu|0)|0}var Zo=64,ea=4194304;function Oi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zs(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,I=c&268435455;if(I!==0){var M=I&~g;M!==0?f=Oi(M):(w&=I,w!==0&&(f=Oi(w)))}else I=c&~g,I!==0?f=Oi(I):w!==0&&(f=Oi(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-un(o),g=1<<c,f|=s[c],o&=~g;return f}function Zf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var I=31-un(w),M=1<<I,B=g[I];B===-1?((M&c)===0||(M&f)!==0)&&(g[I]=Zf(M,o)):B<=o&&(s.expiredLanes|=M),w&=~M}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function eo(){var s=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),s}function Vi(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Mi(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-un(o),s[o]=c}function Je(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-un(c),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~w}}function Li(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-un(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var We=0;function ji(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Yu,ta,Qu,Xu,Ju,Gl=!1,br=[],$t=null,ar=null,lr=null,Fi=new Map,Bn=new Map,Rr=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(s,o){switch(s){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(o.pointerId)}}function gn(s,o,c,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=ac(o),o!==null&&ta(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function tp(s,o,c,f,g){switch(o){case"focusin":return $t=gn($t,s,o,c,f,g),!0;case"dragenter":return ar=gn(ar,s,o,c,f,g),!0;case"mouseover":return lr=gn(lr,s,o,c,f,g),!0;case"pointerover":var w=g.pointerId;return Fi.set(w,gn(Fi.get(w)||null,s,o,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Bn.set(w,gn(Bn.get(w)||null,s,o,c,f,g)),!0}return!1}function ed(s){var o=so(s.target);if(o!==null){var c=sr(o);if(c!==null){if(o=c.tag,o===13){if(o=Qs(c),o!==null){s.blockedOn=o,Ju(s.priority,function(){Qu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ri(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=na(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Gs=f,c.target.dispatchEvent(f),Gs=null}else return o=ac(c),o!==null&&ta(o),s.blockedOn=c,!1;o.shift()}return!0}function to(s,o,c){ri(s)&&c.delete(o)}function td(){Gl=!1,$t!==null&&ri($t)&&($t=null),ar!==null&&ri(ar)&&(ar=null),lr!==null&&ri(lr)&&(lr=null),Fi.forEach(to),Bn.forEach(to)}function cr(s,o){s.blockedOn===o&&(s.blockedOn=null,Gl||(Gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,td)))}function ur(s){function o(g){return cr(g,s)}if(0<br.length){cr(br[0],s);for(var c=1;c<br.length;c++){var f=br[c];f.blockedOn===s&&(f.blockedOn=null)}}for($t!==null&&cr($t,s),ar!==null&&cr(ar,s),lr!==null&&cr(lr,s),Fi.forEach(o),Bn.forEach(o),c=0;c<Rr.length;c++)f=Rr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Rr.length&&(c=Rr[0],c.blockedOn===null);)ed(c),c.blockedOn===null&&Rr.shift()}var ii=W.ReactCurrentBatchConfig,Ui=!0;function st(s,o,c,f){var g=We,w=ii.transition;ii.transition=null;try{We=1,ql(s,o,c,f)}finally{We=g,ii.transition=w}}function np(s,o,c,f){var g=We,w=ii.transition;ii.transition=null;try{We=4,ql(s,o,c,f)}finally{We=g,ii.transition=w}}function ql(s,o,c,f){if(Ui){var g=na(s,o,c,f);if(g===null)fp(s,o,f,no,c),Zu(s,f);else if(tp(g,s,o,c,f))f.stopPropagation();else if(Zu(s,f),o&4&&-1<ep.indexOf(s)){for(;g!==null;){var w=ac(g);if(w!==null&&Yu(w),w=na(s,o,c,f),w===null&&fp(s,o,f,no,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else fp(s,o,f,null,c)}}var no=null;function na(s,o,c,f){if(no=null,s=Ho(f),s=so(s),s!==null)if(o=sr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Qs(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return no=s,null}function Kl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wu()){case Xs:return 1;case Di:return 4;case Un:case Wl:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var Rn=null,ra=null,yn=null;function Yl(){if(yn)return yn;var s,o=ra,c=o.length,f,g="value"in Rn?Rn.value:Rn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var I=c-s;for(f=1;f<=I&&o[c-f]===g[w-f];f++);return yn=g.slice(s,1<f?1-f:void 0)}function ia(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Pr(){return!0}function Ql(){return!1}function Wt(s){function o(c,f,g,w,I){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Pr:Ql,this.isPropagationStopped=Ql,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),o}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Wt(dr),kr=se({},dr,{view:0,detail:0}),rp=Wt(kr),oa,si,Bi,ro=se({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bi&&(Bi&&s.type==="mousemove"?(oa=s.screenX-Bi.screenX,si=s.screenY-Bi.screenY):si=oa=0,Bi=s),oa)},movementY:function(s){return"movementY"in s?s.movementY:si}}),aa=Wt(ro),Xl=se({},ro,{dataTransfer:0}),nd=Wt(Xl),la=se({},kr,{relatedTarget:0}),ca=Wt(la),rd=se({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),oi=Wt(rd),id=se({},dr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sd=Wt(id),od=se({},dr,{data:0}),Jl=Wt(od),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ld(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=ad[s])?!!o[s]:!1}function Nr(){return ld}var d=se({},kr,{key:function(s){if(s.key){var o=ua[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(s){return s.type==="keypress"?ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Wt(d),E=se({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Wt(E),H=se({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),Q=Wt(H),le=se({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Wt(le),Pt=se({},ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Wt(Pt),jt=[9,13,27,32],Et=u&&"CompositionEvent"in window,zn=null;u&&"documentMode"in document&&(zn=document.documentMode);var Pn=u&&"TextEvent"in window&&!zn,io=u&&(!Et||zn&&8<zn&&11>=zn),da=" ",u0=!1;function d0(s,o){switch(s){case"keyup":return jt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ha=!1;function IR(s,o){switch(s){case"compositionend":return h0(o);case"keypress":return o.which!==32?null:(u0=!0,da);case"textInput":return s=o.data,s===da&&u0?null:s;default:return null}}function CR(s,o){if(ha)return s==="compositionend"||!Et&&d0(s,o)?(s=Yl(),yn=ra=Rn=null,ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return io&&o.locale!=="ko"?null:o.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!AR[s.type]:o==="textarea"}function p0(s,o,c,f){Ar(f),o=fd(o,"onChange"),0<o.length&&(c=new sa("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Zl=null,ec=null;function bR(s){N0(s,0)}function cd(s){var o=ya(s);if($e(o))return s}function RR(s,o){if(s==="change")return o}var m0=!1;if(u){var ip;if(u){var sp="oninput"in document;if(!sp){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),sp=typeof g0.oninput=="function"}ip=sp}else ip=!1;m0=ip&&(!document.documentMode||9<document.documentMode)}function y0(){Zl&&(Zl.detachEvent("onpropertychange",v0),ec=Zl=null)}function v0(s){if(s.propertyName==="value"&&cd(ec)){var o=[];p0(o,ec,s,Ho(s)),Ul(bR,o)}}function PR(s,o,c){s==="focusin"?(y0(),Zl=o,ec=c,Zl.attachEvent("onpropertychange",v0)):s==="focusout"&&y0()}function kR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cd(ec)}function NR(s,o){if(s==="click")return cd(o)}function DR(s,o){if(s==="input"||s==="change")return cd(o)}function OR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var hr=typeof Object.is=="function"?Object.is:OR;function tc(s,o){if(hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(o,g)||!hr(s[g],o[g]))return!1}return!0}function w0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _0(s,o){var c=w0(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=w0(c)}}function x0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?x0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function E0(){for(var s=window,o=ht();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=ht(s.document)}return o}function op(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function VR(s){var o=E0(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&x0(c.ownerDocument.documentElement,c)){if(f!==null&&op(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=_0(c,w);var I=_0(c,f);g&&I&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MR=u&&"documentMode"in document&&11>=document.documentMode,fa=null,ap=null,nc=null,lp=!1;function T0(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lp||fa==null||fa!==ht(f)||(f=fa,"selectionStart"in f&&op(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nc&&tc(nc,f)||(nc=f,f=fd(ap,"onSelect"),0<f.length&&(o=new sa("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=fa)))}function ud(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var pa={animationend:ud("Animation","AnimationEnd"),animationiteration:ud("Animation","AnimationIteration"),animationstart:ud("Animation","AnimationStart"),transitionend:ud("Transition","TransitionEnd")},cp={},S0={};u&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function dd(s){if(cp[s])return cp[s];if(!pa[s])return s;var o=pa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in S0)return cp[s]=o[c];return s}var I0=dd("animationend"),C0=dd("animationiteration"),A0=dd("animationstart"),b0=dd("transitionend"),R0=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(s,o){R0.set(s,o),a(o,[s])}for(var up=0;up<P0.length;up++){var dp=P0[up],LR=dp.toLowerCase(),jR=dp[0].toUpperCase()+dp.slice(1);zi(LR,"on"+jR)}zi(I0,"onAnimationEnd"),zi(C0,"onAnimationIteration"),zi(A0,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(b0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function k0(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,Bu(f,o,void 0,s),s.currentTarget=null}function N0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],B=M.instance,Y=M.currentTarget;if(M=M.listener,B!==w&&g.isPropagationStopped())break e;k0(g,M,Y),w=B}else for(I=0;I<f.length;I++){if(M=f[I],B=M.instance,Y=M.currentTarget,M=M.listener,B!==w&&g.isPropagationStopped())break e;k0(g,M,Y),w=B}}}if(ir)throw s=Bl,ir=!1,Bl=null,s}function tt(s,o){var c=o[wp];c===void 0&&(c=o[wp]=new Set);var f=s+"__bubble";c.has(f)||(D0(o,s,2,!1),c.add(f))}function hp(s,o,c){var f=0;o&&(f|=4),D0(c,s,f,o)}var hd="_reactListening"+Math.random().toString(36).slice(2);function ic(s){if(!s[hd]){s[hd]=!0,r.forEach(function(c){c!=="selectionchange"&&(FR.has(c)||hp(c,!1,s),hp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[hd]||(o[hd]=!0,hp("selectionchange",!1,o))}}function D0(s,o,c,f){switch(Kl(o)){case 1:var g=st;break;case 4:g=np;break;default:g=ql}c=g.bind(null,o,c,s),g=void 0,!Ko||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function fp(s,o,c,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(I===4)for(I=f.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;I=I.return}for(;M!==null;){if(I=so(M),I===null)return;if(B=I.tag,B===5||B===6){f=w=I;continue e}M=M.parentNode}}f=f.return}Ul(function(){var Y=w,re=Ho(c),ie=[];e:{var ne=R0.get(s);if(ne!==void 0){var de=sa,me=s;switch(s){case"keypress":if(ia(c)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":me="focus",de=ca;break;case"focusout":me="blur",de=ca;break;case"beforeblur":case"afterblur":de=ca;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case I0:case C0:case A0:de=oi;break;case b0:de=Xe;break;case"scroll":de=rp;break;case"wheel":de=He;break;case"copy":case"cut":case"paste":de=sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=P}var ye=(o&4)!==0,gt=!ye&&s==="scroll",G=ye?ne!==null?ne+"Capture":null:ne;ye=[];for(var z=Y,K;z!==null;){K=z;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,G!==null&&(ae=mt(z,G),ae!=null&&ye.push(sc(z,ae,K)))),gt)break;z=z.return}0<ye.length&&(ne=new de(ne,me,null,c,re),ie.push({event:ne,listeners:ye}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ne&&c!==Gs&&(me=c.relatedTarget||c.fromElement)&&(so(me)||me[ai]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(me=c.relatedTarget||c.toElement,de=Y,me=me?so(me):null,me!==null&&(gt=sr(me),me!==gt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=Y),de!==me)){if(ye=aa,ae="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ye=P,ae="onPointerLeave",G="onPointerEnter",z="pointer"),gt=de==null?ne:ya(de),K=me==null?ne:ya(me),ne=new ye(ae,z+"leave",de,c,re),ne.target=gt,ne.relatedTarget=K,ae=null,so(re)===Y&&(ye=new ye(G,z+"enter",me,c,re),ye.target=K,ye.relatedTarget=gt,ae=ye),gt=ae,de&&me)t:{for(ye=de,G=me,z=0,K=ye;K;K=ma(K))z++;for(K=0,ae=G;ae;ae=ma(ae))K++;for(;0<z-K;)ye=ma(ye),z--;for(;0<K-z;)G=ma(G),K--;for(;z--;){if(ye===G||G!==null&&ye===G.alternate)break t;ye=ma(ye),G=ma(G)}ye=null}else ye=null;de!==null&&O0(ie,ne,de,ye,!1),me!==null&&gt!==null&&O0(ie,gt,me,ye,!0)}}e:{if(ne=Y?ya(Y):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var we=RR;else if(f0(ne))if(m0)we=DR;else{we=kR;var Te=PR}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(we=NR);if(we&&(we=we(s,Y))){p0(ie,we,c,re);break e}Te&&Te(s,ne,Y),s==="focusout"&&(Te=ne._wrapperState)&&Te.controlled&&ne.type==="number"&&nr(ne,"number",ne.value)}switch(Te=Y?ya(Y):window,s){case"focusin":(f0(Te)||Te.contentEditable==="true")&&(fa=Te,ap=Y,nc=null);break;case"focusout":nc=ap=fa=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,T0(ie,c,re);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":T0(ie,c,re)}var Se;if(Et)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ha?d0(s,c)&&(Re="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(io&&c.locale!=="ko"&&(ha||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ha&&(Se=Yl()):(Rn=re,ra="value"in Rn?Rn.value:Rn.textContent,ha=!0)),Te=fd(Y,Re),0<Te.length&&(Re=new Jl(Re,s,null,c,re),ie.push({event:Re,listeners:Te}),Se?Re.data=Se:(Se=h0(c),Se!==null&&(Re.data=Se)))),(Se=Pn?IR(s,c):CR(s,c))&&(Y=fd(Y,"onBeforeInput"),0<Y.length&&(re=new Jl("onBeforeInput","beforeinput",null,c,re),ie.push({event:re,listeners:Y}),re.data=Se))}N0(ie,o)})}function sc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function fd(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=mt(s,c),w!=null&&f.unshift(sc(s,w,g)),w=mt(s,o),w!=null&&f.push(sc(s,w,g))),s=s.return}return f}function ma(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function O0(s,o,c,f,g){for(var w=o._reactName,I=[];c!==null&&c!==f;){var M=c,B=M.alternate,Y=M.stateNode;if(B!==null&&B===f)break;M.tag===5&&Y!==null&&(M=Y,g?(B=mt(c,w),B!=null&&I.unshift(sc(c,B,M))):g||(B=mt(c,w),B!=null&&I.push(sc(c,B,M)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var UR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function V0(s){return(typeof s=="string"?s:""+s).replace(UR,`
`).replace(BR,"")}function pd(s,o,c){if(o=V0(o),V0(s)!==o&&c)throw Error(n(425))}function md(){}var pp=null,mp=null;function gp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(s){return M0.resolve(null).then(s).catch(WR)}:yp;function WR(s){setTimeout(function(){throw s})}function vp(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),ur(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);ur(o)}function $i(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function L0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ga,oc="__reactProps$"+ga,ai="__reactContainer$"+ga,wp="__reactEvents$"+ga,HR="__reactListeners$"+ga,GR="__reactHandles$"+ga;function so(s){var o=s[Dr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ai]||c[Dr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=L0(s);s!==null;){if(c=s[Dr])return c;s=L0(s)}return o}s=c,c=s.parentNode}return null}function ac(s){return s=s[Dr]||s[ai],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ya(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function gd(s){return s[oc]||null}var _p=[],va=-1;function Wi(s){return{current:s}}function nt(s){0>va||(s.current=_p[va],_p[va]=null,va--)}function et(s,o){va++,_p[va]=s.current,s.current=o}var Hi={},Zt=Wi(Hi),vn=Wi(!1),oo=Hi;function wa(s,o){var c=s.type.contextTypes;if(!c)return Hi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function wn(s){return s=s.childContextTypes,s!=null}function yd(){nt(vn),nt(Zt)}function j0(s,o,c){if(Zt.current!==Hi)throw Error(n(168));et(Zt,o),et(vn,c)}function F0(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ue(s)||"Unknown",g));return se({},c,f)}function vd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,oo=Zt.current,et(Zt,s),et(vn,vn.current),!0}function U0(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=F0(s,o,oo),f.__reactInternalMemoizedMergedChildContext=s,nt(vn),nt(Zt),et(Zt,s)):nt(vn),et(vn,c)}var li=null,wd=!1,xp=!1;function B0(s){li===null?li=[s]:li.push(s)}function qR(s){wd=!0,B0(s)}function Gi(){if(!xp&&li!==null){xp=!0;var s=0,o=We;try{var c=li;for(We=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}li=null,wd=!1}catch(g){throw li!==null&&(li=li.slice(s+1)),Jo(Xs,Gi),g}finally{We=o,xp=!1}}return null}var _a=[],xa=0,_d=null,xd=0,$n=[],Wn=0,ao=null,ci=1,ui="";function lo(s,o){_a[xa++]=xd,_a[xa++]=_d,_d=s,xd=o}function z0(s,o,c){$n[Wn++]=ci,$n[Wn++]=ui,$n[Wn++]=ao,ao=s;var f=ci;s=ui;var g=32-un(f)-1;f&=~(1<<g),c+=1;var w=32-un(o)+g;if(30<w){var I=g-g%5;w=(f&(1<<I)-1).toString(32),f>>=I,g-=I,ci=1<<32-un(o)+g|c<<g|f,ui=w+s}else ci=1<<w|c<<g|f,ui=s}function Ep(s){s.return!==null&&(lo(s,1),z0(s,1,0))}function Tp(s){for(;s===_d;)_d=_a[--xa],_a[xa]=null,xd=_a[--xa],_a[xa]=null;for(;s===ao;)ao=$n[--Wn],$n[Wn]=null,ui=$n[--Wn],$n[Wn]=null,ci=$n[--Wn],$n[Wn]=null}var kn=null,Nn=null,ot=!1,fr=null;function $0(s,o){var c=Kn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function W0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kn=s,Nn=$i(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kn=s,Nn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ao!==null?{id:ci,overflow:ui}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Kn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,kn=s,Nn=null,!0):!1;default:return!1}}function Sp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ip(s){if(ot){var o=Nn;if(o){var c=o;if(!W0(s,o)){if(Sp(s))throw Error(n(418));o=$i(c.nextSibling);var f=kn;o&&W0(s,o)?$0(f,c):(s.flags=s.flags&-4097|2,ot=!1,kn=s)}}else{if(Sp(s))throw Error(n(418));s.flags=s.flags&-4097|2,ot=!1,kn=s}}}function H0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function Ed(s){if(s!==kn)return!1;if(!ot)return H0(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gp(s.type,s.memoizedProps)),o&&(o=Nn)){if(Sp(s))throw G0(),Error(n(418));for(;o;)$0(s,o),o=$i(o.nextSibling)}if(H0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Nn=$i(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Nn=null}}else Nn=kn?$i(s.stateNode.nextSibling):null;return!0}function G0(){for(var s=Nn;s;)s=$i(s.nextSibling)}function Ea(){Nn=kn=null,ot=!1}function Cp(s){fr===null?fr=[s]:fr.push(s)}var KR=W.ReactCurrentBatchConfig;function lc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(I){var M=g.refs;I===null?delete M[w]:M[w]=I},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Td(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function q0(s){var o=s._init;return o(s._payload)}function K0(s){function o(G,z){if(s){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function c(G,z){if(!s)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function f(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function g(G,z){return G=es(G,z),G.index=0,G.sibling=null,G}function w(G,z,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=2,z):K):(G.flags|=2,z)):(G.flags|=1048576,z)}function I(G){return s&&G.alternate===null&&(G.flags|=2),G}function M(G,z,K,ae){return z===null||z.tag!==6?(z=ym(K,G.mode,ae),z.return=G,z):(z=g(z,K),z.return=G,z)}function B(G,z,K,ae){var we=K.type;return we===k?re(G,z,K.props.children,ae,K.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_e&&q0(we)===z.type)?(ae=g(z,K.props),ae.ref=lc(G,z,K),ae.return=G,ae):(ae=qd(K.type,K.key,K.props,null,G.mode,ae),ae.ref=lc(G,z,K),ae.return=G,ae)}function Y(G,z,K,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=vm(K,G.mode,ae),z.return=G,z):(z=g(z,K.children||[]),z.return=G,z)}function re(G,z,K,ae,we){return z===null||z.tag!==7?(z=yo(K,G.mode,ae,we),z.return=G,z):(z=g(z,K),z.return=G,z)}function ie(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ym(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return K=qd(z.type,z.key,z.props,null,G.mode,K),K.ref=lc(G,null,z),K.return=G,K;case J:return z=vm(z,G.mode,K),z.return=G,z;case _e:var ae=z._init;return ie(G,ae(z._payload),K)}if(Jr(z)||oe(z))return z=yo(z,G.mode,K,null),z.return=G,z;Td(G,z)}return null}function ne(G,z,K,ae){var we=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:M(G,z,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===we?B(G,z,K,ae):null;case J:return K.key===we?Y(G,z,K,ae):null;case _e:return we=K._init,ne(G,z,we(K._payload),ae)}if(Jr(K)||oe(K))return we!==null?null:re(G,z,K,ae,null);Td(G,K)}return null}function de(G,z,K,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return G=G.get(K)||null,M(z,G,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case q:return G=G.get(ae.key===null?K:ae.key)||null,B(z,G,ae,we);case J:return G=G.get(ae.key===null?K:ae.key)||null,Y(z,G,ae,we);case _e:var Te=ae._init;return de(G,z,K,Te(ae._payload),we)}if(Jr(ae)||oe(ae))return G=G.get(K)||null,re(z,G,ae,we,null);Td(z,ae)}return null}function me(G,z,K,ae){for(var we=null,Te=null,Se=z,Re=z=0,Bt=null;Se!==null&&Re<K.length;Re++){Se.index>Re?(Bt=Se,Se=null):Bt=Se.sibling;var Ye=ne(G,Se,K[Re],ae);if(Ye===null){Se===null&&(Se=Bt);break}s&&Se&&Ye.alternate===null&&o(G,Se),z=w(Ye,z,Re),Te===null?we=Ye:Te.sibling=Ye,Te=Ye,Se=Bt}if(Re===K.length)return c(G,Se),ot&&lo(G,Re),we;if(Se===null){for(;Re<K.length;Re++)Se=ie(G,K[Re],ae),Se!==null&&(z=w(Se,z,Re),Te===null?we=Se:Te.sibling=Se,Te=Se);return ot&&lo(G,Re),we}for(Se=f(G,Se);Re<K.length;Re++)Bt=de(Se,G,Re,K[Re],ae),Bt!==null&&(s&&Bt.alternate!==null&&Se.delete(Bt.key===null?Re:Bt.key),z=w(Bt,z,Re),Te===null?we=Bt:Te.sibling=Bt,Te=Bt);return s&&Se.forEach(function(ts){return o(G,ts)}),ot&&lo(G,Re),we}function ye(G,z,K,ae){var we=oe(K);if(typeof we!="function")throw Error(n(150));if(K=we.call(K),K==null)throw Error(n(151));for(var Te=we=null,Se=z,Re=z=0,Bt=null,Ye=K.next();Se!==null&&!Ye.done;Re++,Ye=K.next()){Se.index>Re?(Bt=Se,Se=null):Bt=Se.sibling;var ts=ne(G,Se,Ye.value,ae);if(ts===null){Se===null&&(Se=Bt);break}s&&Se&&ts.alternate===null&&o(G,Se),z=w(ts,z,Re),Te===null?we=ts:Te.sibling=ts,Te=ts,Se=Bt}if(Ye.done)return c(G,Se),ot&&lo(G,Re),we;if(Se===null){for(;!Ye.done;Re++,Ye=K.next())Ye=ie(G,Ye.value,ae),Ye!==null&&(z=w(Ye,z,Re),Te===null?we=Ye:Te.sibling=Ye,Te=Ye);return ot&&lo(G,Re),we}for(Se=f(G,Se);!Ye.done;Re++,Ye=K.next())Ye=de(Se,G,Re,Ye.value,ae),Ye!==null&&(s&&Ye.alternate!==null&&Se.delete(Ye.key===null?Re:Ye.key),z=w(Ye,z,Re),Te===null?we=Ye:Te.sibling=Ye,Te=Ye);return s&&Se.forEach(function(AP){return o(G,AP)}),ot&&lo(G,Re),we}function gt(G,z,K,ae){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var we=K.key,Te=z;Te!==null;){if(Te.key===we){if(we=K.type,we===k){if(Te.tag===7){c(G,Te.sibling),z=g(Te,K.props.children),z.return=G,G=z;break e}}else if(Te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_e&&q0(we)===Te.type){c(G,Te.sibling),z=g(Te,K.props),z.ref=lc(G,Te,K),z.return=G,G=z;break e}c(G,Te);break}else o(G,Te);Te=Te.sibling}K.type===k?(z=yo(K.props.children,G.mode,ae,K.key),z.return=G,G=z):(ae=qd(K.type,K.key,K.props,null,G.mode,ae),ae.ref=lc(G,z,K),ae.return=G,G=ae)}return I(G);case J:e:{for(Te=K.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){c(G,z.sibling),z=g(z,K.children||[]),z.return=G,G=z;break e}else{c(G,z);break}else o(G,z);z=z.sibling}z=vm(K,G.mode,ae),z.return=G,G=z}return I(G);case _e:return Te=K._init,gt(G,z,Te(K._payload),ae)}if(Jr(K))return me(G,z,K,ae);if(oe(K))return ye(G,z,K,ae);Td(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(c(G,z.sibling),z=g(z,K),z.return=G,G=z):(c(G,z),z=ym(K,G.mode,ae),z.return=G,G=z),I(G)):c(G,z)}return gt}var Ta=K0(!0),Y0=K0(!1),Sd=Wi(null),Id=null,Sa=null,Ap=null;function bp(){Ap=Sa=Id=null}function Rp(s){var o=Sd.current;nt(Sd),s._currentValue=o}function Pp(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ia(s,o){Id=s,Ap=Sa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(_n=!0),s.firstContext=null)}function Hn(s){var o=s._currentValue;if(Ap!==s)if(s={context:s,memoizedValue:o,next:null},Sa===null){if(Id===null)throw Error(n(308));Sa=s,Id.dependencies={lanes:0,firstContext:s}}else Sa=Sa.next=s;return o}var co=null;function kp(s){co===null?co=[s]:co.push(s)}function Q0(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,kp(o)):(c.next=g.next,g.next=c),o.interleaved=c,di(s,f)}function di(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var qi=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function hi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ki(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,di(s,c)}return g=f.interleaved,g===null?(o.next=o,kp(f)):(o.next=g.next,g.next=o),f.interleaved=o,di(s,c)}function Cd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Li(s,c)}}function J0(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=I:w=w.next=I,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Ad(s,o,c,f){var g=s.updateQueue;qi=!1;var w=g.firstBaseUpdate,I=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var B=M,Y=B.next;B.next=null,I===null?w=Y:I.next=Y,I=B;var re=s.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==I&&(M===null?re.firstBaseUpdate=Y:M.next=Y,re.lastBaseUpdate=B))}if(w!==null){var ie=g.baseState;I=0,re=Y=B=null,M=w;do{var ne=M.lane,de=M.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var me=s,ye=M;switch(ne=o,de=c,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ie=me.call(de,ie,ne);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,ne=typeof me=="function"?me.call(de,ie,ne):me,ne==null)break e;ie=se({},ie,ne);break e;case 2:qi=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,ne=g.effects,ne===null?g.effects=[M]:ne.push(M))}else de={eventTime:de,lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(Y=re=de,B=ie):re=re.next=de,I|=ne;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ne=M,M=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(B=ie),g.baseState=B,g.firstBaseUpdate=Y,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);fo|=I,s.lanes=I,s.memoizedState=ie}}function Z0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var cc={},Or=Wi(cc),uc=Wi(cc),dc=Wi(cc);function uo(s){if(s===cc)throw Error(n(174));return s}function Dp(s,o){switch(et(dc,o),et(uc,s),et(Or,cc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Rt(o,s)}nt(Or),et(Or,o)}function Ca(){nt(Or),nt(uc),nt(dc)}function ew(s){uo(dc.current);var o=uo(Or.current),c=Rt(o,s.type);o!==c&&(et(uc,s),et(Or,c))}function Op(s){uc.current===s&&(nt(Or),nt(uc))}var at=Wi(0);function bd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vp=[];function Mp(){for(var s=0;s<Vp.length;s++)Vp[s]._workInProgressVersionPrimary=null;Vp.length=0}var Rd=W.ReactCurrentDispatcher,Lp=W.ReactCurrentBatchConfig,ho=0,lt=null,kt=null,Ft=null,Pd=!1,hc=!1,fc=0,YR=0;function en(){throw Error(n(321))}function jp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!hr(s[c],o[c]))return!1;return!0}function Fp(s,o,c,f,g,w){if(ho=w,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rd.current=s===null||s.memoizedState===null?ZR:eP,s=c(f,g),hc){w=0;do{if(hc=!1,fc=0,25<=w)throw Error(n(301));w+=1,Ft=kt=null,o.updateQueue=null,Rd.current=tP,s=c(f,g)}while(hc)}if(Rd.current=Dd,o=kt!==null&&kt.next!==null,ho=0,Ft=kt=lt=null,Pd=!1,o)throw Error(n(300));return s}function Up(){var s=fc!==0;return fc=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?lt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Gn(){if(kt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=Ft===null?lt.memoizedState:Ft.next;if(o!==null)Ft=o,kt=s;else{if(s===null)throw Error(n(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ft===null?lt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function pc(s,o){return typeof o=="function"?o(s):o}function Bp(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=kt,g=f.baseQueue,w=c.pending;if(w!==null){if(g!==null){var I=g.next;g.next=w.next,w.next=I}f.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,f=f.baseState;var M=I=null,B=null,Y=w;do{var re=Y.lane;if((ho&re)===re)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(M=B=ie,I=f):B=B.next=ie,lt.lanes|=re,fo|=re}Y=Y.next}while(Y!==null&&Y!==w);B===null?I=f:B.next=M,hr(f,o.memoizedState)||(_n=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=B,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do w=g.lane,lt.lanes|=w,fo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function zp(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var I=g=g.next;do w=s(w,I.action),I=I.next;while(I!==g);hr(w,o.memoizedState)||(_n=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function tw(){}function nw(s,o){var c=lt,f=Gn(),g=o(),w=!hr(f.memoizedState,g);if(w&&(f.memoizedState=g,_n=!0),f=f.queue,$p(sw.bind(null,c,f,s),[s]),f.getSnapshot!==o||w||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,mc(9,iw.bind(null,c,f,g,o),void 0,null),Ut===null)throw Error(n(349));(ho&30)!==0||rw(c,o,g)}return g}function rw(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function iw(s,o,c,f){o.value=c,o.getSnapshot=f,ow(o)&&aw(s)}function sw(s,o,c){return c(function(){ow(o)&&aw(s)})}function ow(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!hr(s,c)}catch{return!0}}function aw(s){var o=di(s,1);o!==null&&yr(o,s,1,-1)}function lw(s){var o=Vr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:s},o.queue=s,s=s.dispatch=JR.bind(null,lt,s),[o.memoizedState,s]}function mc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function cw(){return Gn().memoizedState}function kd(s,o,c,f){var g=Vr();lt.flags|=s,g.memoizedState=mc(1|o,c,void 0,f===void 0?null:f)}function Nd(s,o,c,f){var g=Gn();f=f===void 0?null:f;var w=void 0;if(kt!==null){var I=kt.memoizedState;if(w=I.destroy,f!==null&&jp(f,I.deps)){g.memoizedState=mc(o,c,w,f);return}}lt.flags|=s,g.memoizedState=mc(1|o,c,w,f)}function uw(s,o){return kd(8390656,8,s,o)}function $p(s,o){return Nd(2048,8,s,o)}function dw(s,o){return Nd(4,2,s,o)}function hw(s,o){return Nd(4,4,s,o)}function fw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function pw(s,o,c){return c=c!=null?c.concat([s]):null,Nd(4,4,fw.bind(null,o,s),c)}function Wp(){}function mw(s,o){var c=Gn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&jp(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function gw(s,o){var c=Gn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&jp(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function yw(s,o,c){return(ho&21)===0?(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=c):(hr(c,o)||(c=eo(),lt.lanes|=c,fo|=c,s.baseState=!0),o)}function QR(s,o){var c=We;We=c!==0&&4>c?c:4,s(!0);var f=Lp.transition;Lp.transition={};try{s(!1),o()}finally{We=c,Lp.transition=f}}function vw(){return Gn().memoizedState}function XR(s,o,c){var f=Ji(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},ww(s))_w(o,c);else if(c=Q0(s,o,c,f),c!==null){var g=fn();yr(c,s,f,g),xw(c,o,f)}}function JR(s,o,c){var f=Ji(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(ww(s))_w(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,M=w(I,c);if(g.hasEagerState=!0,g.eagerState=M,hr(M,I)){var B=o.interleaved;B===null?(g.next=g,kp(o)):(g.next=B.next,B.next=g),o.interleaved=g;return}}catch{}finally{}c=Q0(s,o,g,f),c!==null&&(g=fn(),yr(c,s,f,g),xw(c,o,f))}}function ww(s){var o=s.alternate;return s===lt||o!==null&&o===lt}function _w(s,o){hc=Pd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function xw(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Li(s,c)}}var Dd={readContext:Hn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},ZR={readContext:Hn,useCallback:function(s,o){return Vr().memoizedState=[s,o===void 0?null:o],s},useContext:Hn,useEffect:uw,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,kd(4194308,4,fw.bind(null,o,s),c)},useLayoutEffect:function(s,o){return kd(4194308,4,s,o)},useInsertionEffect:function(s,o){return kd(4,2,s,o)},useMemo:function(s,o){var c=Vr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=Vr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=XR.bind(null,lt,s),[f.memoizedState,s]},useRef:function(s){var o=Vr();return s={current:s},o.memoizedState=s},useState:lw,useDebugValue:Wp,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=lw(!1),o=s[0];return s=QR.bind(null,s[1]),Vr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=lt,g=Vr();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Ut===null)throw Error(n(349));(ho&30)!==0||rw(f,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,uw(sw.bind(null,f,w,s),[s]),f.flags|=2048,mc(9,iw.bind(null,f,w,c,o),void 0,null),c},useId:function(){var s=Vr(),o=Ut.identifierPrefix;if(ot){var c=ui,f=ci;c=(f&~(1<<32-un(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=fc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=YR++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},eP={readContext:Hn,useCallback:mw,useContext:Hn,useEffect:$p,useImperativeHandle:pw,useInsertionEffect:dw,useLayoutEffect:hw,useMemo:gw,useReducer:Bp,useRef:cw,useState:function(){return Bp(pc)},useDebugValue:Wp,useDeferredValue:function(s){var o=Gn();return yw(o,kt.memoizedState,s)},useTransition:function(){var s=Bp(pc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:tw,useSyncExternalStore:nw,useId:vw,unstable_isNewReconciler:!1},tP={readContext:Hn,useCallback:mw,useContext:Hn,useEffect:$p,useImperativeHandle:pw,useInsertionEffect:dw,useLayoutEffect:hw,useMemo:gw,useReducer:zp,useRef:cw,useState:function(){return zp(pc)},useDebugValue:Wp,useDeferredValue:function(s){var o=Gn();return kt===null?o.memoizedState=s:yw(o,kt.memoizedState,s)},useTransition:function(){var s=zp(pc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:tw,useSyncExternalStore:nw,useId:vw,unstable_isNewReconciler:!1};function pr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Hp(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:se({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Od={isMounted:function(s){return(s=s._reactInternals)?sr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=fn(),g=Ji(s),w=hi(f,g);w.payload=o,c!=null&&(w.callback=c),o=Ki(s,w,g),o!==null&&(yr(o,s,g,f),Cd(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=fn(),g=Ji(s),w=hi(f,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ki(s,w,g),o!==null&&(yr(o,s,g,f),Cd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=fn(),f=Ji(s),g=hi(c,f);g.tag=2,o!=null&&(g.callback=o),o=Ki(s,g,f),o!==null&&(yr(o,s,f,c),Cd(o,s,f))}};function Ew(s,o,c,f,g,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,I):o.prototype&&o.prototype.isPureReactComponent?!tc(c,f)||!tc(g,w):!0}function Tw(s,o,c){var f=!1,g=Hi,w=o.contextType;return typeof w=="object"&&w!==null?w=Hn(w):(g=wn(o)?oo:Zt.current,f=o.contextTypes,w=(f=f!=null)?wa(s,g):Hi),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Od,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function Sw(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&Od.enqueueReplaceState(o,o.state,null)}function Gp(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Np(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=Hn(w):(w=wn(o)?oo:Zt.current,g.context=wa(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Od.enqueueReplaceState(g,g.state,null),Ad(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Aa(s,o){try{var c="",f=o;do c+=Pe(f),f=f.return;while(f);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function qp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Kp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var nP=typeof WeakMap=="function"?WeakMap:Map;function Iw(s,o,c){c=hi(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Bd||(Bd=!0,cm=f),Kp(s,o)},c}function Cw(s,o,c){c=hi(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){Kp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Kp(s,o),typeof f!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),c}function Aw(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new nP;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=gP.bind(null,s,o,c),o.then(s,s))}function bw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Rw(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=hi(-1,1),o.tag=2,Ki(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var rP=W.ReactCurrentOwner,_n=!1;function hn(s,o,c,f){o.child=s===null?Y0(o,null,c,f):Ta(o,s.child,c,f)}function Pw(s,o,c,f,g){c=c.render;var w=o.ref;return Ia(o,g),f=Fp(s,o,c,f,w,g),c=Up(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,fi(s,o,g)):(ot&&c&&Ep(o),o.flags|=1,hn(s,o,f,g),o.child)}function kw(s,o,c,f,g){if(s===null){var w=c.type;return typeof w=="function"&&!gm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Nw(s,o,w,f,g)):(s=qd(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var I=w.memoizedProps;if(c=c.compare,c=c!==null?c:tc,c(I,f)&&s.ref===o.ref)return fi(s,o,g)}return o.flags|=1,s=es(w,f),s.ref=o.ref,s.return=o,o.child=s}function Nw(s,o,c,f,g){if(s!==null){var w=s.memoizedProps;if(tc(w,f)&&s.ref===o.ref)if(_n=!1,o.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,fi(s,o,g)}return Yp(s,o,c,f,g)}function Dw(s,o,c){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ra,Dn),Dn|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(Ra,Dn),Dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,et(Ra,Dn),Dn|=f}else w!==null?(f=w.baseLanes|c,o.memoizedState=null):f=c,et(Ra,Dn),Dn|=f;return hn(s,o,g,c),o.child}function Ow(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Yp(s,o,c,f,g){var w=wn(c)?oo:Zt.current;return w=wa(o,w),Ia(o,g),c=Fp(s,o,c,f,w,g),f=Up(),s!==null&&!_n?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,fi(s,o,g)):(ot&&f&&Ep(o),o.flags|=1,hn(s,o,c,g),o.child)}function Vw(s,o,c,f,g){if(wn(c)){var w=!0;vd(o)}else w=!1;if(Ia(o,g),o.stateNode===null)Md(s,o),Tw(o,c,f),Gp(o,c,f,g),f=!0;else if(s===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var B=I.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Hn(Y):(Y=wn(c)?oo:Zt.current,Y=wa(o,Y));var re=c.getDerivedStateFromProps,ie=typeof re=="function"||typeof I.getSnapshotBeforeUpdate=="function";ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||B!==Y)&&Sw(o,I,f,Y),qi=!1;var ne=o.memoizedState;I.state=ne,Ad(o,f,I,g),B=o.memoizedState,M!==f||ne!==B||vn.current||qi?(typeof re=="function"&&(Hp(o,c,re,f),B=o.memoizedState),(M=qi||Ew(o,c,M,f,ne,B,Y))?(ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),I.props=f,I.state=B,I.context=Y,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,X0(s,o),M=o.memoizedProps,Y=o.type===o.elementType?M:pr(o.type,M),I.props=Y,ie=o.pendingProps,ne=I.context,B=c.contextType,typeof B=="object"&&B!==null?B=Hn(B):(B=wn(c)?oo:Zt.current,B=wa(o,B));var de=c.getDerivedStateFromProps;(re=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ie||ne!==B)&&Sw(o,I,f,B),qi=!1,ne=o.memoizedState,I.state=ne,Ad(o,f,I,g);var me=o.memoizedState;M!==ie||ne!==me||vn.current||qi?(typeof de=="function"&&(Hp(o,c,de,f),me=o.memoizedState),(Y=qi||Ew(o,c,Y,f,ne,me,B)||!1)?(re||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,me,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,me,B)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=me),I.props=f,I.state=me,I.context=B,f=Y):(typeof I.componentDidUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),f=!1)}return Qp(s,o,c,f,w,g)}function Qp(s,o,c,f,g,w){Ow(s,o);var I=(o.flags&128)!==0;if(!f&&!I)return g&&U0(o,c,!1),fi(s,o,w);f=o.stateNode,rP.current=o;var M=I&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&I?(o.child=Ta(o,s.child,null,w),o.child=Ta(o,null,M,w)):hn(s,o,M,w),o.memoizedState=f.state,g&&U0(o,c,!0),o.child}function Mw(s){var o=s.stateNode;o.pendingContext?j0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&j0(s,o.context,!1),Dp(s,o.containerInfo)}function Lw(s,o,c,f,g){return Ea(),Cp(g),o.flags|=256,hn(s,o,c,f),o.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(s){return{baseLanes:s,cachePool:null,transitions:null}}function jw(s,o,c){var f=o.pendingProps,g=at.current,w=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),et(at,g&1),s===null)return Ip(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,s=f.fallback,w?(f=o.mode,w=o.child,I={mode:"hidden",children:I},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Kd(I,f,0,null),s=yo(s,f,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Jp(c),o.memoizedState=Xp,s):Zp(o,I));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return iP(s,o,I,f,M,g,c);if(w){w=f.fallback,I=o.mode,g=s.child,M=g.sibling;var B={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=es(g,B),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?w=es(M,w):(w=yo(w,I,c,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,I=s.child.memoizedState,I=I===null?Jp(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=s.childLanes&~c,o.memoizedState=Xp,f}return w=s.child,s=w.sibling,f=es(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Zp(s,o){return o=Kd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Vd(s,o,c,f){return f!==null&&Cp(f),Ta(o,s.child,null,c),s=Zp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function iP(s,o,c,f,g,w,I){if(c)return o.flags&256?(o.flags&=-257,f=qp(Error(n(422))),Vd(s,o,I,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Kd({mode:"visible",children:f.children},g,0,null),w=yo(w,g,I,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Ta(o,s.child,null,I),o.child.memoizedState=Jp(I),o.memoizedState=Xp,w);if((o.mode&1)===0)return Vd(s,o,I,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,w=Error(n(419)),f=qp(w,f,void 0),Vd(s,o,I,f)}if(M=(I&s.childLanes)!==0,_n||M){if(f=Ut,f!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|I))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,di(s,g),yr(f,s,g,-1))}return mm(),f=qp(Error(n(421))),Vd(s,o,I,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=yP.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Nn=$i(g.nextSibling),kn=o,ot=!0,fr=null,s!==null&&($n[Wn++]=ci,$n[Wn++]=ui,$n[Wn++]=ao,ci=s.id,ui=s.overflow,ao=o),o=Zp(o,f.children),o.flags|=4096,o)}function Fw(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Pp(s.return,o,c)}function em(s,o,c,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function Uw(s,o,c){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(hn(s,o,f.children,c),f=at.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fw(s,c,o);else if(s.tag===19)Fw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(et(at,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&bd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),em(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&bd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}em(o,!0,c,null,w);break;case"together":em(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Md(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function fi(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),fo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=es(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=es(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function sP(s,o,c){switch(o.tag){case 3:Mw(o),Ea();break;case 5:ew(o);break;case 1:wn(o.type)&&vd(o);break;case 4:Dp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;et(Sd,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(et(at,at.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?jw(s,o,c):(et(at,at.current&1),s=fi(s,o,c),s!==null?s.sibling:null);et(at,at.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return Uw(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(at,at.current),f)break;return null;case 22:case 23:return o.lanes=0,Dw(s,o,c)}return fi(s,o,c)}var Bw,tm,zw,$w;Bw=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},tm=function(){},zw=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,uo(Or.current);var w=null;switch(c){case"input":g=Lt(s,g),f=Lt(s,f),w=[];break;case"select":g=se({},g,{value:void 0}),f=se({},f,{value:void 0}),w=[];break;case"textarea":g=Pl(s,g),f=Pl(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=md)}Ml(c,f);var I;c=null;for(Y in g)if(!f.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var M=g[Y];for(I in M)M.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in f){var B=f[Y];if(M=g!=null?g[Y]:void 0,f.hasOwnProperty(Y)&&B!==M&&(B!=null||M!=null))if(Y==="style")if(M){for(I in M)!M.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in B)B.hasOwnProperty(I)&&M[I]!==B[I]&&(c||(c={}),c[I]=B[I])}else c||(w||(w=[]),w.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(w=w||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&tt("scroll",s),w||M===B||(w=[])):(w=w||[]).push(Y,B))}c&&(w=w||[]).push("style",c);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},$w=function(s,o,c,f){c!==f&&(o.flags|=4)};function gc(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function oP(s,o,c){var f=o.pendingProps;switch(Tp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return wn(o.type)&&yd(),tn(o),null;case 3:return f=o.stateNode,Ca(),nt(vn),nt(Zt),Mp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ed(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fr!==null&&(hm(fr),fr=null))),tm(s,o),tn(o),null;case 5:Op(o);var g=uo(dc.current);if(c=o.type,s!==null&&o.stateNode!=null)zw(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return tn(o),null}if(s=uo(Or.current),Ed(o)){f=o.stateNode,c=o.type;var w=o.memoizedProps;switch(f[Dr]=o,f[oc]=w,s=(o.mode&1)!==0,c){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(g=0;g<rc.length;g++)tt(rc[g],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":jn(f,w),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},tt("invalid",f);break;case"textarea":$o(f,w),tt("invalid",f)}Ml(c,w),g=null;for(var I in w)if(w.hasOwnProperty(I)){var M=w[I];I==="children"?typeof M=="string"?f.textContent!==M&&(w.suppressHydrationWarning!==!0&&pd(f.textContent,M,s),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&pd(f.textContent,M,s),g=["children",""+M]):i.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&tt("scroll",f)}switch(c){case"input":Fe(f),zo(f,w,!0);break;case"textarea":Fe(f),kl(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=md)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=bt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=I.createElement(c,{is:f.is}):(s=I.createElement(c),c==="select"&&(I=s,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):s=I.createElementNS(s,c),s[Dr]=o,s[oc]=f,Bw(s,o,!1,!1),o.stateNode=s;e:{switch(I=Ll(c,f),c){case"dialog":tt("cancel",s),tt("close",s),g=f;break;case"iframe":case"object":case"embed":tt("load",s),g=f;break;case"video":case"audio":for(g=0;g<rc.length;g++)tt(rc[g],s);g=f;break;case"source":tt("error",s),g=f;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=f;break;case"details":tt("toggle",s),g=f;break;case"input":jn(s,f),g=Lt(s,f),tt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=se({},f,{value:void 0}),tt("invalid",s);break;case"textarea":$o(s,f),g=Pl(s,f),tt("invalid",s);break;default:g=f}Ml(c,g),M=g;for(w in M)if(M.hasOwnProperty(w)){var B=M[w];w==="style"?Ol(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Nl(s,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Ni(s,B):typeof B=="number"&&Ni(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&tt("scroll",s):B!=null&&V(s,w,B,I))}switch(c){case"input":Fe(s),zo(s,f,!1);break;case"textarea":Fe(s),kl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+xe(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Zr(s,!!f.multiple,w,!1):f.defaultValue!=null&&Zr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=md)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(s&&o.stateNode!=null)$w(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=uo(dc.current),uo(Or.current),Ed(o)){if(f=o.stateNode,c=o.memoizedProps,f[Dr]=o,(w=f.nodeValue!==c)&&(s=kn,s!==null))switch(s.tag){case 3:pd(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pd(f.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Dr]=o,o.stateNode=f}return tn(o),null;case 13:if(nt(at),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Nn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)G0(),Ea(),o.flags|=98560,w=!1;else if(w=Ed(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Dr]=o}else Ea(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),w=!1}else fr!==null&&(hm(fr),fr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(at.current&1)!==0?Nt===0&&(Nt=3):mm())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return Ca(),tm(s,o),s===null&&ic(o.stateNode.containerInfo),tn(o),null;case 10:return Rp(o.type._context),tn(o),null;case 17:return wn(o.type)&&yd(),tn(o),null;case 19:if(nt(at),w=o.memoizedState,w===null)return tn(o),null;if(f=(o.flags&128)!==0,I=w.rendering,I===null)if(f)gc(w,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=bd(s),I!==null){for(o.flags|=128,gc(w,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)w=c,s=f,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,s=I.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return et(at,at.current&1|2),o.child}s=s.sibling}w.tail!==null&&Ze()>Pa&&(o.flags|=128,f=!0,gc(w,!1),o.lanes=4194304)}else{if(!f)if(s=bd(I),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),gc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!ot)return tn(o),null}else 2*Ze()-w.renderingStartTime>Pa&&c!==1073741824&&(o.flags|=128,f=!0,gc(w,!1),o.lanes=4194304);w.isBackwards?(I.sibling=o.child,o.child=I):(c=w.last,c!==null?c.sibling=I:o.child=I,w.last=I)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Ze(),o.sibling=null,c=at.current,et(at,f?c&1|2:c&1),o):(tn(o),null);case 22:case 23:return pm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function aP(s,o){switch(Tp(o),o.tag){case 1:return wn(o.type)&&yd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ca(),nt(vn),nt(Zt),Mp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Op(o),null;case 13:if(nt(at),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ea()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(at),null;case 4:return Ca(),null;case 10:return Rp(o.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Ld=!1,nn=!1,lP=typeof WeakSet=="function"?WeakSet:Set,pe=null;function ba(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){ft(s,o,f)}else c.current=null}function nm(s,o,c){try{c()}catch(f){ft(s,o,f)}}var Ww=!1;function cP(s,o){if(pp=Ui,s=E0(),op(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var I=0,M=-1,B=-1,Y=0,re=0,ie=s,ne=null;t:for(;;){for(var de;ie!==c||g!==0&&ie.nodeType!==3||(M=I+g),ie!==w||f!==0&&ie.nodeType!==3||(B=I+f),ie.nodeType===3&&(I+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ne=ie,ie=de;for(;;){if(ie===s)break t;if(ne===c&&++Y===g&&(M=I),ne===w&&++re===f&&(B=I),(de=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=de}c=M===-1||B===-1?null:{start:M,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(mp={focusedElem:s,selectionRange:c},Ui=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,gt=me.memoizedState,G=o.stateNode,z=G.getSnapshotBeforeUpdate(o.elementType===o.type?ye:pr(o.type,ye),gt);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){ft(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return me=Ww,Ww=!1,me}function yc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&nm(o,c,w)}g=g.next}while(g!==f)}}function jd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function rm(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Hw(s){var o=s.alternate;o!==null&&(s.alternate=null,Hw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Dr],delete o[oc],delete o[wp],delete o[HR],delete o[GR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Gw(s){return s.tag===5||s.tag===3||s.tag===4}function qw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function im(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=md));else if(f!==4&&(s=s.child,s!==null))for(im(s,o,c),s=s.sibling;s!==null;)im(s,o,c),s=s.sibling}function sm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(sm(s,o,c),s=s.sibling;s!==null;)sm(s,o,c),s=s.sibling}var Ht=null,mr=!1;function Yi(s,o,c){for(c=c.child;c!==null;)Kw(s,o,c),c=c.sibling}function Kw(s,o,c){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Js,c)}catch{}switch(c.tag){case 5:nn||ba(c,o);case 6:var f=Ht,g=mr;Ht=null,Yi(s,o,c),Ht=f,mr=g,Ht!==null&&(mr?(s=Ht,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Ht.removeChild(c.stateNode));break;case 18:Ht!==null&&(mr?(s=Ht,c=c.stateNode,s.nodeType===8?vp(s.parentNode,c):s.nodeType===1&&vp(s,c),ur(s)):vp(Ht,c.stateNode));break;case 4:f=Ht,g=mr,Ht=c.stateNode.containerInfo,mr=!0,Yi(s,o,c),Ht=f,mr=g;break;case 0:case 11:case 14:case 15:if(!nn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&nm(c,o,I),g=g.next}while(g!==f)}Yi(s,o,c);break;case 1:if(!nn&&(ba(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){ft(c,o,M)}Yi(s,o,c);break;case 21:Yi(s,o,c);break;case 22:c.mode&1?(nn=(f=nn)||c.memoizedState!==null,Yi(s,o,c),nn=f):Yi(s,o,c);break;default:Yi(s,o,c)}}function Yw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new lP),o.forEach(function(f){var g=vP.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function gr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var w=s,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:Ht=M.stateNode,mr=!1;break e;case 3:Ht=M.stateNode.containerInfo,mr=!0;break e;case 4:Ht=M.stateNode.containerInfo,mr=!0;break e}M=M.return}if(Ht===null)throw Error(n(160));Kw(w,I,g),Ht=null,mr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Y){ft(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qw(o,s),o=o.sibling}function Qw(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gr(o,s),Mr(s),f&4){try{yc(3,s,s.return),jd(3,s)}catch(ye){ft(s,s.return,ye)}try{yc(5,s,s.return)}catch(ye){ft(s,s.return,ye)}}break;case 1:gr(o,s),Mr(s),f&512&&c!==null&&ba(c,c.return);break;case 5:if(gr(o,s),Mr(s),f&512&&c!==null&&ba(c,c.return),s.flags&32){var g=s.stateNode;try{Ni(g,"")}catch(ye){ft(s,s.return,ye)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,I=c!==null?c.memoizedProps:w,M=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&er(g,w),Ll(M,I);var Y=Ll(M,w);for(I=0;I<B.length;I+=2){var re=B[I],ie=B[I+1];re==="style"?Ol(g,ie):re==="dangerouslySetInnerHTML"?Nl(g,ie):re==="children"?Ni(g,ie):V(g,re,ie,Y)}switch(M){case"input":tr(g,w);break;case"textarea":Wo(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?Zr(g,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?Zr(g,!!w.multiple,w.defaultValue,!0):Zr(g,!!w.multiple,w.multiple?[]:"",!1))}g[oc]=w}catch(ye){ft(s,s.return,ye)}}break;case 6:if(gr(o,s),Mr(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(ye){ft(s,s.return,ye)}}break;case 3:if(gr(o,s),Mr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(ye){ft(s,s.return,ye)}break;case 4:gr(o,s),Mr(s);break;case 13:gr(o,s),Mr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(lm=Ze())),f&4&&Yw(s);break;case 22:if(re=c!==null&&c.memoizedState!==null,s.mode&1?(nn=(Y=nn)||re,gr(o,s),nn=Y):gr(o,s),Mr(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!re&&(s.mode&1)!==0)for(pe=s,re=s.child;re!==null;){for(ie=pe=re;pe!==null;){switch(ne=pe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:yc(4,ne,ne.return);break;case 1:ba(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){f=ne,c=ne.return;try{o=f,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){ft(f,c,ye)}}break;case 5:ba(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Zw(ie);continue}}de!==null?(de.return=ne,pe=de):Zw(ie)}re=re.sibling}e:for(re=null,ie=s;;){if(ie.tag===5){if(re===null){re=ie;try{g=ie.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ie.stateNode,B=ie.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Dl("display",I))}catch(ye){ft(s,s.return,ye)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(ye){ft(s,s.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:gr(o,s),Mr(s),f&4&&Yw(s);break;case 21:break;default:gr(o,s),Mr(s)}}function Mr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Gw(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Ni(g,""),f.flags&=-33);var w=qw(s);sm(s,w,g);break;case 3:case 4:var I=f.stateNode.containerInfo,M=qw(s);im(s,M,I);break;default:throw Error(n(161))}}catch(B){ft(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uP(s,o,c){pe=s,Xw(s)}function Xw(s,o,c){for(var f=(s.mode&1)!==0;pe!==null;){var g=pe,w=g.child;if(g.tag===22&&f){var I=g.memoizedState!==null||Ld;if(!I){var M=g.alternate,B=M!==null&&M.memoizedState!==null||nn;M=Ld;var Y=nn;if(Ld=I,(nn=B)&&!Y)for(pe=g;pe!==null;)I=pe,B=I.child,I.tag===22&&I.memoizedState!==null?e_(g):B!==null?(B.return=I,pe=B):e_(g);for(;w!==null;)pe=w,Xw(w),w=w.sibling;pe=g,Ld=M,nn=Y}Jw(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,pe=w):Jw(s)}}function Jw(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||jd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!nn)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:pr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Z0(o,w,f);break;case 3:var I=o.updateQueue;if(I!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Z0(o,I,c)}break;case 5:var M=o.stateNode;if(c===null&&o.flags&4){c=M;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&ur(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||o.flags&512&&rm(o)}catch(ne){ft(o,o.return,ne)}}if(o===s){pe=null;break}if(c=o.sibling,c!==null){c.return=o.return,pe=c;break}pe=o.return}}function Zw(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,pe=c;break}pe=o.return}}function e_(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{jd(4,o)}catch(B){ft(o,c,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(B){ft(o,g,B)}}var w=o.return;try{rm(o)}catch(B){ft(o,w,B)}break;case 5:var I=o.return;try{rm(o)}catch(B){ft(o,I,B)}}}catch(B){ft(o,o.return,B)}if(o===s){pe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,pe=M;break}pe=o.return}}var dP=Math.ceil,Fd=W.ReactCurrentDispatcher,om=W.ReactCurrentOwner,qn=W.ReactCurrentBatchConfig,qe=0,Ut=null,Tt=null,Gt=0,Dn=0,Ra=Wi(0),Nt=0,vc=null,fo=0,Ud=0,am=0,wc=null,xn=null,lm=0,Pa=1/0,pi=null,Bd=!1,cm=null,Qi=null,zd=!1,Xi=null,$d=0,_c=0,um=null,Wd=-1,Hd=0;function fn(){return(qe&6)!==0?Ze():Wd!==-1?Wd:Wd=Ze()}function Ji(s){return(s.mode&1)===0?1:(qe&2)!==0&&Gt!==0?Gt&-Gt:KR.transition!==null?(Hd===0&&(Hd=eo()),Hd):(s=We,s!==0||(s=window.event,s=s===void 0?16:Kl(s.type)),s)}function yr(s,o,c,f){if(50<_c)throw _c=0,um=null,Error(n(185));Mi(s,c,f),((qe&2)===0||s!==Ut)&&(s===Ut&&((qe&2)===0&&(Ud|=c),Nt===4&&Zi(s,Gt)),En(s,f),c===1&&qe===0&&(o.mode&1)===0&&(Pa=Ze()+500,wd&&Gi()))}function En(s,o){var c=s.callbackNode;ni(s,o);var f=Zs(s,s===Ut?Gt:0);if(f===0)c!==null&&$l(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&$l(c),o===1)s.tag===0?qR(n_.bind(null,s)):B0(n_.bind(null,s)),$R(function(){(qe&6)===0&&Gi()}),c=null;else{switch(ji(f)){case 1:c=Xs;break;case 4:c=Di;break;case 16:c=Un;break;case 536870912:c=Hu;break;default:c=Un}c=u_(c,t_.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function t_(s,o){if(Wd=-1,Hd=0,(qe&6)!==0)throw Error(n(327));var c=s.callbackNode;if(ka()&&s.callbackNode!==c)return null;var f=Zs(s,s===Ut?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Gd(s,f);else{o=f;var g=qe;qe|=2;var w=i_();(Ut!==s||Gt!==o)&&(pi=null,Pa=Ze()+500,mo(s,o));do try{pP();break}catch(M){r_(s,M)}while(!0);bp(),Fd.current=w,qe=g,Tt!==null?o=0:(Ut=null,Gt=0,o=Nt)}if(o!==0){if(o===2&&(g=bn(s),g!==0&&(f=g,o=dm(s,g))),o===1)throw c=vc,mo(s,0),Zi(s,f),En(s,Ze()),c;if(o===6)Zi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!hP(g)&&(o=Gd(s,f),o===2&&(w=bn(s),w!==0&&(f=w,o=dm(s,w))),o===1))throw c=vc,mo(s,0),Zi(s,f),En(s,Ze()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:go(s,xn,pi);break;case 3:if(Zi(s,f),(f&130023424)===f&&(o=lm+500-Ze(),10<o)){if(Zs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){fn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=yp(go.bind(null,s,xn,pi),o);break}go(s,xn,pi);break;case 4:if(Zi(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var I=31-un(f);w=1<<I,I=o[I],I>g&&(g=I),f&=~w}if(f=g,f=Ze()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*dP(f/1960))-f,10<f){s.timeoutHandle=yp(go.bind(null,s,xn,pi),f);break}go(s,xn,pi);break;case 5:go(s,xn,pi);break;default:throw Error(n(329))}}}return En(s,Ze()),s.callbackNode===c?t_.bind(null,s):null}function dm(s,o){var c=wc;return s.current.memoizedState.isDehydrated&&(mo(s,o).flags|=256),s=Gd(s,o),s!==2&&(o=xn,xn=c,o!==null&&hm(o)),s}function hm(s){xn===null?xn=s:xn.push.apply(xn,s)}function hP(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!hr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zi(s,o){for(o&=~am,o&=~Ud,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-un(o),f=1<<c;s[c]=-1,o&=~f}}function n_(s){if((qe&6)!==0)throw Error(n(327));ka();var o=Zs(s,0);if((o&1)===0)return En(s,Ze()),null;var c=Gd(s,o);if(s.tag!==0&&c===2){var f=bn(s);f!==0&&(o=f,c=dm(s,f))}if(c===1)throw c=vc,mo(s,0),Zi(s,o),En(s,Ze()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,go(s,xn,pi),En(s,Ze()),null}function fm(s,o){var c=qe;qe|=1;try{return s(o)}finally{qe=c,qe===0&&(Pa=Ze()+500,wd&&Gi())}}function po(s){Xi!==null&&Xi.tag===0&&(qe&6)===0&&ka();var o=qe;qe|=1;var c=qn.transition,f=We;try{if(qn.transition=null,We=1,s)return s()}finally{We=f,qn.transition=c,qe=o,(qe&6)===0&&Gi()}}function pm(){Dn=Ra.current,nt(Ra)}function mo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,zR(c)),Tt!==null)for(c=Tt.return;c!==null;){var f=c;switch(Tp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&yd();break;case 3:Ca(),nt(vn),nt(Zt),Mp();break;case 5:Op(f);break;case 4:Ca();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Rp(f.type._context);break;case 22:case 23:pm()}c=c.return}if(Ut=s,Tt=s=es(s.current,null),Gt=Dn=o,Nt=0,vc=null,am=Ud=fo=0,xn=wc=null,co!==null){for(o=0;o<co.length;o++)if(c=co[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,w=c.pending;if(w!==null){var I=w.next;w.next=g,f.next=I}c.pending=f}co=null}return s}function r_(s,o){do{var c=Tt;try{if(bp(),Rd.current=Dd,Pd){for(var f=lt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Pd=!1}if(ho=0,Ft=kt=lt=null,hc=!1,fc=0,om.current=null,c===null||c.return===null){Nt=1,vc=o,Tt=null;break}e:{var w=s,I=c.return,M=c,B=o;if(o=Gt,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,re=M,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=bw(I);if(de!==null){de.flags&=-257,Rw(de,I,M,w,o),de.mode&1&&Aw(w,Y,o),o=de,B=Y;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(B),o.updateQueue=ye}else me.add(B);break e}else{if((o&1)===0){Aw(w,Y,o),mm();break e}B=Error(n(426))}}else if(ot&&M.mode&1){var gt=bw(I);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Rw(gt,I,M,w,o),Cp(Aa(B,M));break e}}w=B=Aa(B,M),Nt!==4&&(Nt=2),wc===null?wc=[w]:wc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var G=Iw(w,B,o);J0(w,G);break e;case 1:M=B;var z=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Qi===null||!Qi.has(K)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=Cw(w,M,o);J0(w,ae);break e}}w=w.return}while(w!==null)}o_(c)}catch(we){o=we,Tt===c&&c!==null&&(Tt=c=c.return);continue}break}while(!0)}function i_(){var s=Fd.current;return Fd.current=Dd,s===null?Dd:s}function mm(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ut===null||(fo&268435455)===0&&(Ud&268435455)===0||Zi(Ut,Gt)}function Gd(s,o){var c=qe;qe|=2;var f=i_();(Ut!==s||Gt!==o)&&(pi=null,mo(s,o));do try{fP();break}catch(g){r_(s,g)}while(!0);if(bp(),qe=c,Fd.current=f,Tt!==null)throw Error(n(261));return Ut=null,Gt=0,Nt}function fP(){for(;Tt!==null;)s_(Tt)}function pP(){for(;Tt!==null&&!$u();)s_(Tt)}function s_(s){var o=c_(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?o_(s):Tt=o,om.current=null}function o_(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=oP(c,o,Dn),c!==null){Tt=c;return}}else{if(c=aP(c,o),c!==null){c.flags&=32767,Tt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nt=6,Tt=null;return}}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=s}while(o!==null);Nt===0&&(Nt=5)}function go(s,o,c){var f=We,g=qn.transition;try{qn.transition=null,We=1,mP(s,o,c,f)}finally{qn.transition=g,We=f}return null}function mP(s,o,c,f){do ka();while(Xi!==null);if((qe&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Je(s,w),s===Ut&&(Tt=Ut=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||zd||(zd=!0,u_(Un,function(){return ka(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=qn.transition,qn.transition=null;var I=We;We=1;var M=qe;qe|=4,om.current=null,cP(s,c),Qw(c,s),VR(mp),Ui=!!pp,mp=pp=null,s.current=c,uP(c),Jf(),qe=M,We=I,qn.transition=w}else s.current=c;if(zd&&(zd=!1,Xi=s,$d=g),w=s.pendingLanes,w===0&&(Qi=null),Gu(c.stateNode),En(s,Ze()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bd)throw Bd=!1,s=cm,cm=null,s;return($d&1)!==0&&s.tag!==0&&ka(),w=s.pendingLanes,(w&1)!==0?s===um?_c++:(_c=0,um=s):_c=0,Gi(),null}function ka(){if(Xi!==null){var s=ji($d),o=qn.transition,c=We;try{if(qn.transition=null,We=16>s?16:s,Xi===null)var f=!1;else{if(s=Xi,Xi=null,$d=0,(qe&6)!==0)throw Error(n(331));var g=qe;for(qe|=4,pe=s.current;pe!==null;){var w=pe,I=w.child;if((pe.flags&16)!==0){var M=w.deletions;if(M!==null){for(var B=0;B<M.length;B++){var Y=M[B];for(pe=Y;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:yc(8,re,w)}var ie=re.child;if(ie!==null)ie.return=re,pe=ie;else for(;pe!==null;){re=pe;var ne=re.sibling,de=re.return;if(Hw(re),re===Y){pe=null;break}if(ne!==null){ne.return=de,pe=ne;break}pe=de}}}var me=w.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var gt=ye.sibling;ye.sibling=null,ye=gt}while(ye!==null)}}pe=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,pe=I;else e:for(;pe!==null;){if(w=pe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:yc(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,pe=G;break e}pe=w.return}}var z=s.current;for(pe=z;pe!==null;){I=pe;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,pe=K;else e:for(I=z;pe!==null;){if(M=pe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:jd(9,M)}}catch(we){ft(M,M.return,we)}if(M===I){pe=null;break e}var ae=M.sibling;if(ae!==null){ae.return=M.return,pe=ae;break e}pe=M.return}}if(qe=g,Gi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Js,s)}catch{}f=!0}return f}finally{We=c,qn.transition=o}}return!1}function a_(s,o,c){o=Aa(c,o),o=Iw(s,o,1),s=Ki(s,o,1),o=fn(),s!==null&&(Mi(s,1,o),En(s,o))}function ft(s,o,c){if(s.tag===3)a_(s,s,c);else for(;o!==null;){if(o.tag===3){a_(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))){s=Aa(c,s),s=Cw(o,s,1),o=Ki(o,s,1),s=fn(),o!==null&&(Mi(o,1,s),En(o,s));break}}o=o.return}}function gP(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=fn(),s.pingedLanes|=s.suspendedLanes&c,Ut===s&&(Gt&c)===c&&(Nt===4||Nt===3&&(Gt&130023424)===Gt&&500>Ze()-lm?mo(s,0):am|=c),En(s,o)}function l_(s,o){o===0&&((s.mode&1)===0?o=1:(o=ea,ea<<=1,(ea&130023424)===0&&(ea=4194304)));var c=fn();s=di(s,o),s!==null&&(Mi(s,o,c),En(s,c))}function yP(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),l_(s,c)}function vP(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),l_(s,c)}var c_;c_=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||vn.current)_n=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return _n=!1,sP(s,o,c);_n=(s.flags&131072)!==0}else _n=!1,ot&&(o.flags&1048576)!==0&&z0(o,xd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Md(s,o),s=o.pendingProps;var g=wa(o,Zt.current);Ia(o,c),g=Fp(null,o,f,s,g,c);var w=Up();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,wn(f)?(w=!0,vd(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Np(o),g.updater=Od,o.stateNode=g,g._reactInternals=o,Gp(o,f,s,c),o=Qp(null,o,f,!0,w,c)):(o.tag=0,ot&&w&&Ep(o),hn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(Md(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=_P(f),s=pr(f,s),g){case 0:o=Yp(null,o,f,s,c);break e;case 1:o=Vw(null,o,f,s,c);break e;case 11:o=Pw(null,o,f,s,c);break e;case 14:o=kw(null,o,f,pr(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),Yp(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),Vw(s,o,f,g,c);case 3:e:{if(Mw(o),s===null)throw Error(n(387));f=o.pendingProps,w=o.memoizedState,g=w.element,X0(s,o),Ad(o,f,null,c);var I=o.memoizedState;if(f=I.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Aa(Error(n(423)),o),o=Lw(s,o,f,c,g);break e}else if(f!==g){g=Aa(Error(n(424)),o),o=Lw(s,o,f,c,g);break e}else for(Nn=$i(o.stateNode.containerInfo.firstChild),kn=o,ot=!0,fr=null,c=Y0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ea(),f===g){o=fi(s,o,c);break e}hn(s,o,f,c)}o=o.child}return o;case 5:return ew(o),s===null&&Ip(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,I=g.children,gp(f,g)?I=null:w!==null&&gp(f,w)&&(o.flags|=32),Ow(s,o),hn(s,o,I,c),o.child;case 6:return s===null&&Ip(o),null;case 13:return jw(s,o,c);case 4:return Dp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ta(o,null,f,c):hn(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),Pw(s,o,f,g,c);case 7:return hn(s,o,o.pendingProps,c),o.child;case 8:return hn(s,o,o.pendingProps.children,c),o.child;case 12:return hn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,I=g.value,et(Sd,f._currentValue),f._currentValue=I,w!==null)if(hr(w.value,I)){if(w.children===g.children&&!vn.current){o=fi(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var M=w.dependencies;if(M!==null){I=w.child;for(var B=M.firstContext;B!==null;){if(B.context===f){if(w.tag===1){B=hi(-1,c&-c),B.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?B.next=B:(B.next=re.next,re.next=B),Y.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),Pp(w.return,c,o),M.lanes|=c;break}B=B.next}}else if(w.tag===10)I=w.type===o.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=c,M=I.alternate,M!==null&&(M.lanes|=c),Pp(I,c,o),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===o){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}hn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ia(o,c),g=Hn(g),f=f(g),o.flags|=1,hn(s,o,f,c),o.child;case 14:return f=o.type,g=pr(f,o.pendingProps),g=pr(f.type,g),kw(s,o,f,g,c);case 15:return Nw(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:pr(f,g),Md(s,o),o.tag=1,wn(f)?(s=!0,vd(o)):s=!1,Ia(o,c),Tw(o,f,g),Gp(o,f,g,c),Qp(null,o,f,!0,s,c);case 19:return Uw(s,o,c);case 22:return Dw(s,o,c)}throw Error(n(156,o.tag))};function u_(s,o){return Jo(s,o)}function wP(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(s,o,c,f){return new wP(s,o,c,f)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _P(s){if(typeof s=="function")return gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Oe)return 14}return 2}function es(s,o){var c=s.alternate;return c===null?(c=Kn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function qd(s,o,c,f,g,w){var I=2;if(f=s,typeof s=="function")gm(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case k:return yo(c.children,g,w,o);case R:I=8,g|=8;break;case D:return s=Kn(12,c,o,g|2),s.elementType=D,s.lanes=w,s;case O:return s=Kn(13,c,o,g),s.elementType=O,s.lanes=w,s;case ve:return s=Kn(19,c,o,g),s.elementType=ve,s.lanes=w,s;case ce:return Kd(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case U:I=9;break e;case F:I=11;break e;case Oe:I=14;break e;case _e:I=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Kn(I,c,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function yo(s,o,c,f){return s=Kn(7,s,f,o),s.lanes=c,s}function Kd(s,o,c,f){return s=Kn(22,s,f,o),s.elementType=ce,s.lanes=c,s.stateNode={isHidden:!1},s}function ym(s,o,c){return s=Kn(6,s,null,o),s.lanes=c,s}function vm(s,o,c){return o=Kn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function xP(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wm(s,o,c,f,g,w,I,M,B){return s=new xP(s,o,c,M,B),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Kn(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(w),s}function EP(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function d_(s){if(!s)return Hi;s=s._reactInternals;e:{if(sr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(wn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(wn(c))return F0(s,c,o)}return o}function h_(s,o,c,f,g,w,I,M,B){return s=wm(c,f,!0,s,g,w,I,M,B),s.context=d_(null),c=s.current,f=fn(),g=Ji(c),w=hi(f,g),w.callback=o??null,Ki(c,w,g),s.current.lanes=g,Mi(s,g,f),En(s,f),s}function Yd(s,o,c,f){var g=o.current,w=fn(),I=Ji(g);return c=d_(c),o.context===null?o.context=c:o.pendingContext=c,o=hi(w,I),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ki(g,o,I),s!==null&&(yr(s,g,I,w),Cd(s,g,I)),I}function Qd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function _m(s,o){f_(s,o),(s=s.alternate)&&f_(s,o)}function TP(){return null}var p_=typeof reportError=="function"?reportError:function(s){console.error(s)};function xm(s){this._internalRoot=s}Xd.prototype.render=xm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Yd(s,o,null,null)},Xd.prototype.unmount=xm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;po(function(){Yd(null,s,null,null)}),o[ai]=null}};function Xd(s){this._internalRoot=s}Xd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Xu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Rr.length&&o!==0&&o<Rr[c].priority;c++);Rr.splice(c,0,s),c===0&&ed(s)}};function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function m_(){}function SP(s,o,c,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var Y=Qd(I);w.call(Y)}}var I=h_(o,f,s,0,null,!1,!1,"",m_);return s._reactRootContainer=I,s[ai]=I.current,ic(s.nodeType===8?s.parentNode:s),po(),I}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var Y=Qd(B);M.call(Y)}}var B=wm(s,0,!1,null,null,!1,!1,"",m_);return s._reactRootContainer=B,s[ai]=B.current,ic(s.nodeType===8?s.parentNode:s),po(function(){Yd(o,B,c,f)}),B}function Zd(s,o,c,f,g){var w=c._reactRootContainer;if(w){var I=w;if(typeof g=="function"){var M=g;g=function(){var B=Qd(I);M.call(B)}}Yd(o,I,s,g)}else I=SP(c,o,s,g,f);return Qd(I)}Yu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Oi(o.pendingLanes);c!==0&&(Li(o,c|1),En(o,Ze()),(qe&6)===0&&(Pa=Ze()+500,Gi()))}break;case 13:po(function(){var f=di(s,1);if(f!==null){var g=fn();yr(f,s,1,g)}}),_m(s,1)}},ta=function(s){if(s.tag===13){var o=di(s,134217728);if(o!==null){var c=fn();yr(o,s,134217728,c)}_m(s,134217728)}},Qu=function(s){if(s.tag===13){var o=Ji(s),c=di(s,o);if(c!==null){var f=fn();yr(c,s,o,f)}_m(s,o)}},Xu=function(){return We},Ju=function(s,o){var c=We;try{return We=s,o()}finally{We=c}},Go=function(s,o,c){switch(o){case"input":if(tr(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=gd(f);if(!g)throw Error(n(90));$e(f),tr(f,g)}}}break;case"textarea":Wo(s,c);break;case"select":o=c.value,o!=null&&Zr(s,!!c.multiple,o,!1)}},qs=fm,Fl=po;var IP={usingClientEntryPoint:!1,Events:[ac,ya,gd,Ar,jl,fm]},xc={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CP={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zl(s),s===null?null:s.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||TP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Js=eh.inject(CP),An=eh}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IP,Tn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(o))throw Error(n(200));return EP(s,o,null,c)},Tn.createRoot=function(s,o){if(!Em(s))throw Error(n(299));var c=!1,f="",g=p_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=wm(s,1,!1,null,null,c,!1,f,g),s[ai]=o.current,ic(s.nodeType===8?s.parentNode:s),new xm(o)},Tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=zl(o),s=s===null?null:s.stateNode,s},Tn.flushSync=function(s){return po(s)},Tn.hydrate=function(s,o,c){if(!Jd(o))throw Error(n(200));return Zd(null,s,o,!0,c)},Tn.hydrateRoot=function(s,o,c){if(!Em(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,w="",I=p_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),o=h_(o,null,s,1,c??null,g,!1,w,I),s[ai]=o.current,ic(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Xd(o)},Tn.render=function(s,o,c){if(!Jd(o))throw Error(n(200));return Zd(null,s,o,!1,c)},Tn.unmountComponentAtNode=function(s){if(!Jd(s))throw Error(n(40));return s._reactRootContainer?(po(function(){Zd(null,null,s,!1,function(){s._reactRootContainer=null,s[ai]=null})}),!0):!1},Tn.unstable_batchedUpdates=fm,Tn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Jd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Zd(s,o,c,!1,f)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var T_;function mS(){if(T_)return Im.exports;T_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=OP(),Im.exports}var S_;function VP(){if(S_)return th;S_=1;var t=mS();return th.createRoot=t.createRoot,th.hydrateRoot=t.hydrateRoot,th}var MP=VP();const LP=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class jP extends gi.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?x.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[x.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),x.jsx("pre",{className:"mt-2 text-sm",children:LP(this.state.error)})]}):this.props.children}}var _u=mS();const FP=fS(_u);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const I_="popstate";function UP(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return ug("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jh(i)}return zP(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substr(2,8)}function C_(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n,r){return n===void 0&&(n=null),Yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:n,key:e&&e.key||r||BP()})}function jh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=fs.Pop,h=null,p=m();p==null&&(p=0,l.replaceState(Yc({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){u=fs.Pop;let C=m(),N=C==null?null:C-p;p=C,h&&h({action:u,location:S.location,delta:N})}function _(C,N){u=fs.Push;let L=ug(S.location,C,N);p=m()+1;let V=C_(L,p),W=S.createHref(L);try{l.pushState(V,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(W)}a&&h&&h({action:u,location:S.location,delta:1})}function T(C,N){u=fs.Replace;let L=ug(S.location,C,N);p=m();let V=C_(L,p),W=S.createHref(L);l.replaceState(V,"",W),a&&h&&h({action:u,location:S.location,delta:0})}function b(C){let N=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof C=="string"?C:jh(C);return L=L.replace(/ $/,"%20"),wt(N,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,N)}let S={get action(){return u},get location(){return t(i,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(I_,y),h=C,()=>{i.removeEventListener(I_,y),h=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let N=b(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:T,go(C){return l.go(C)}};return S}var A_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A_||(A_={}));function $P(t,e,n){return n===void 0&&(n="/"),WP(t,e,n)}function WP(t,e,n,r){let i=typeof e=="string"?dl(e):e,a=xy(i.pathname||"/",n);if(a==null)return null;let l=yS(t);HP(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=rk(a);u=ek(l[h],p)}return u}function yS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(wt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=vs([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),yS(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:JP(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of vS(a.path))i(a,l,h)}),e}function vS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=vS(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function HP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GP=/^:[\w-]+$/,qP=3,KP=2,YP=1,QP=10,XP=-2,b_=t=>t==="*";function JP(t,e){let n=t.split("/"),r=n.length;return n.some(b_)&&(r+=XP),e&&(r+=KP),n.filter(i=>!b_(i)).reduce((i,a)=>i+(GP.test(a)?qP:a===""?YP:QP),r)}function ZP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ek(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=tk({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),_=h.route;if(!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:vs([a,y.pathname]),pathnameBase:ak(vs([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=vs([a,y.pathnameBase]))}return l}function tk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:_,isOptional:T}=m;if(_==="*"){let S=u[y]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[y];return T&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function nk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ik(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:sk(n,e):e,search:lk(r),hash:ck(i)}}function sk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ok(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t,e){let n=ok(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ty(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=dl(t):(i=Yc({},t),wt(!i.pathname||!i.pathname.includes("?"),bm("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),bm("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),bm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}u=y>=0?e[y]:"/"}let h=ik(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),ak=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ck=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wS=["post","put","patch","delete"];new Set(wS);const dk=["get",...wS];new Set(dk);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}const Sy=A.createContext(null),hk=A.createContext(null),Ms=A.createContext(null),mf=A.createContext(null),Ls=A.createContext({outlet:null,matches:[],isDataRoute:!1}),_S=A.createContext(null);function fk(t,e){let{relative:n}=e===void 0?{}:e;hl()||wt(!1);let{basename:r,navigator:i}=A.useContext(Ms),{hash:a,pathname:l,search:u}=ES(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:vs([r,l])),i.createHref({pathname:h,search:u,hash:a})}function hl(){return A.useContext(mf)!=null}function xu(){return hl()||wt(!1),A.useContext(mf).location}function xS(t){A.useContext(Ms).static||A.useLayoutEffect(t)}function Lo(){let{isDataRoute:t}=A.useContext(Ls);return t?Ck():pk()}function pk(){hl()||wt(!1);let t=A.useContext(Sy),{basename:e,future:n,navigator:r}=A.useContext(Ms),{matches:i}=A.useContext(Ls),{pathname:a}=xu(),l=JSON.stringify(Ey(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return xS(()=>{u.current=!0}),A.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=Ty(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vs([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,a,t])}function ES(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Ms),{matches:i}=A.useContext(Ls),{pathname:a}=xu(),l=JSON.stringify(Ey(i,r.v7_relativeSplatPath));return A.useMemo(()=>Ty(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function mk(t,e){return gk(t,e)}function gk(t,e,n,r){hl()||wt(!1);let{navigator:i,static:a}=A.useContext(Ms),{matches:l}=A.useContext(Ls),u=l[l.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=xu(),y;if(e){var _;let N=typeof e=="string"?dl(e):e;p==="/"||(_=N.pathname)!=null&&_.startsWith(p)||wt(!1),y=N}else y=m;let T=y.pathname||"/",b=T;if(p!=="/"){let N=p.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=$P(t,{pathname:b}),C=xk(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:vs([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:vs([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,r);return e&&C?A.createElement(mf.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:fs.Pop}},C):C}function yk(){let t=Ik(),e=uk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const vk=A.createElement(yk,null);class wk extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ls.Provider,{value:this.props.routeContext},A.createElement(_S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _k(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Sy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ls.Provider,{value:e},r)}function xk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||wt(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:_,errors:T}=n,b=y.route.loader&&_[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||b){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,_)=>{let T,b=!1,S=null,C=null;n&&(T=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||vk,h&&(p<0&&_===0?(Ak("route-fallback"),b=!0,C=null):p===_&&(b=!0,C=y.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,_+1)),L=()=>{let V;return T?V=S:b?V=C:y.route.Component?V=A.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,A.createElement(_k,{match:y,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:V})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?A.createElement(wk,{location:n.location,revalidation:n.revalidation,component:S,error:T,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}var TS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TS||{}),SS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(SS||{});function Ek(t){let e=A.useContext(Sy);return e||wt(!1),e}function Tk(t){let e=A.useContext(hk);return e||wt(!1),e}function Sk(t){let e=A.useContext(Ls);return e||wt(!1),e}function IS(t){let e=Sk(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function Ik(){var t;let e=A.useContext(_S),n=Tk(),r=IS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ck(){let{router:t}=Ek(TS.UseNavigateStable),e=IS(SS.UseNavigateStable),n=A.useRef(!1);return xS(()=>{n.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qc({fromRouteId:e},a)))},[t,e])}const R_={};function Ak(t,e,n){R_[t]||(R_[t]=!0)}function bk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function CS(t){let{to:e,replace:n,state:r,relative:i}=t;hl()||wt(!1);let{future:a,static:l}=A.useContext(Ms),{matches:u}=A.useContext(Ls),{pathname:h}=xu(),p=Lo(),m=Ty(e,Ey(u,a.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(m);return A.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:i}),[p,y,i,n,r]),null}function wo(t){wt(!1)}function Rk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fs.Pop,navigator:a,static:l=!1,future:u}=t;hl()&&wt(!1);let h=e.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:h,navigator:a,static:l,future:Qc({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=dl(r));let{pathname:m="/",search:y="",hash:_="",state:T=null,key:b="default"}=r,S=A.useMemo(()=>{let C=xy(m,h);return C==null?null:{location:{pathname:C,search:y,hash:_,state:T,key:b},navigationType:i}},[h,m,y,_,T,b,i]);return S==null?null:A.createElement(Ms.Provider,{value:p},A.createElement(mf.Provider,{children:n,value:S}))}function Pk(t){let{children:e,location:n}=t;return mk(dg(e),n)}new Promise(()=>{});function dg(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let a=[...e,i];if(r.type===A.Fragment){n.push.apply(n,dg(r.props.children,a));return}r.type!==wo&&wt(!1),!r.props.index||!r.props.children||wt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dg(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function kk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dk(t,e){return t.button===0&&(!e||e==="_self")&&!Nk(t)}const Ok=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vk="6";try{window.__reactRouterVersion=Vk}catch{}const Mk="startTransition",P_=pS[Mk];function Lk(t){let{basename:e,children:n,future:r,window:i}=t,a=A.useRef();a.current==null&&(a.current=UP({window:i,v5Compat:!0}));let l=a.current,[u,h]=A.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=A.useCallback(y=>{p&&P_?P_(()=>h(y)):h(y)},[h,p]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.useEffect(()=>bk(r),[r]),A.createElement(Rk,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vc=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:m,viewTransition:y}=e,_=kk(e,Ok),{basename:T}=A.useContext(Ms),b,S=!1;if(typeof p=="string"&&Fk.test(p)&&(b=p,jk))try{let V=new URL(window.location.href),W=p.startsWith("//")?new URL(V.protocol+p):new URL(p),q=xy(W.pathname,T);W.origin===V.origin&&q!=null?p=q+W.search+W.hash:S=!0}catch{}let C=fk(p,{relative:i}),N=Uk(p,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:y});function L(V){r&&r(V),V.defaultPrevented||N(V)}return A.createElement("a",hg({},_,{href:b||C,onClick:S||a?r:L,ref:n,target:h}))});var k_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k_||(k_={}));var N_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N_||(N_={}));function Uk(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=Lo(),p=xu(),m=ES(t,{relative:l});return A.useCallback(y=>{if(Dk(y,n)){y.preventDefault();let _=r!==void 0?r:jh(p)===jh(m);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,h,m,r,i,n,t,a,l,u])}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=a>>2,y=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,T=p&63;h||(T=64,l||(_=64)),r.push(n[m],n[y],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||p==null||y==null)throw new $k;const _=a<<2|u>>4;if(r.push(_),p!==64){const T=u<<4&240|p>>2;if(r.push(T),y!==64){const b=p<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wk=function(t){const e=AS(t);return bS.encodeByteArray(e,!0)},Fh=function(t){return Wk(t).replace(/\./g,"")},RS=function(t){try{return bS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=()=>Hk().__FIREBASE_DEFAULTS__,qk=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RS(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return Bk()||Gk()||qk()||Kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PS=t=>{var e,n;return(n=(e=gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yk=t=>{const e=PS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kS=()=>{var t;return(t=gf())===null||t===void 0?void 0:t.config},NS=t=>{var e;return(e=gf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){return t.endsWith(".cloudworkstations.dev")}async function DS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fh(JSON.stringify(n)),Fh(JSON.stringify(l)),""].join(".")}const Mc={};function Jk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?t.emulator.push(e):t.prod.push(e);return t}function Zk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O_=!1;function OS(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Mc[t]===e||Mc[t]||O_)return;Mc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=Jk().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{O_=!0,l()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=Zk(r),T=n("text"),b=document.getElementById(T)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),N=n("preprendIcon"),L=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;u(V),m(C,S);const W=p();h(L,N),V.append(L,b,C,W),document.body.appendChild(V)}a?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function tN(){var t;const e=(t=gf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uN(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Pi(i,u,r)}}function uN(t,e){return t.replace(dN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dN=/\{\$([^}]+)}/g;function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(V_(a)&&V_(l)){if(!bo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ac(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(t){return t===_o?void 0:t}function vN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const _N={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},xN=Be.INFO,EN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},TN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=EN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=xN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const SN=(t,e)=>e.some(n=>t instanceof n);let M_,L_;function IN(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CN(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,fg=new WeakMap,MS=new WeakMap,Pm=new WeakMap,Cy=new WeakMap;function AN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ws(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function bN(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});fg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RN(t){pg=t(pg)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(km(this),e,...n);return MS.set(r,e.sort?e.sort():[e]),ws(r)}:CN().includes(t)?function(...e){return t.apply(km(this),e),ws(VS.get(this))}:function(...e){return ws(t.apply(km(this),e))}}function kN(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&bN(t),SN(t,IN())?new Proxy(t,pg):t)}function ws(t){if(t instanceof IDBRequest)return AN(t);if(Pm.has(t))return Pm.get(t);const e=kN(t);return e!==t&&(Pm.set(t,e),Cy.set(e,t)),e}const km=t=>Cy.get(t);function NN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=ws(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ws(l.result),h.oldVersion,h.newVersion,ws(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const DN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],Nm=new Map;function j_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ON.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DN.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&h.done]))[0]};return Nm.set(e,a),a}RN(t=>({...t,get:(e,n,r)=>j_(e,n)||t.get(e,n,r),has:(e,n)=>!!j_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",F_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Iy("@firebase/app"),LN="@firebase/app-compat",jN="@firebase/analytics-compat",FN="@firebase/analytics",UN="@firebase/app-check-compat",BN="@firebase/app-check",zN="@firebase/auth",$N="@firebase/auth-compat",WN="@firebase/database",HN="@firebase/data-connect",GN="@firebase/database-compat",qN="@firebase/functions",KN="@firebase/functions-compat",YN="@firebase/installations",QN="@firebase/installations-compat",XN="@firebase/messaging",JN="@firebase/messaging-compat",ZN="@firebase/performance",eD="@firebase/performance-compat",tD="@firebase/remote-config",nD="@firebase/remote-config-compat",rD="@firebase/storage",iD="@firebase/storage-compat",sD="@firebase/firestore",oD="@firebase/ai",aD="@firebase/firestore-compat",lD="firebase",cD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",uD={[mg]:"fire-core",[LN]:"fire-core-compat",[FN]:"fire-analytics",[jN]:"fire-analytics-compat",[BN]:"fire-app-check",[UN]:"fire-app-check-compat",[zN]:"fire-auth",[$N]:"fire-auth-compat",[WN]:"fire-rtdb",[HN]:"fire-data-connect",[GN]:"fire-rtdb-compat",[qN]:"fire-fn",[KN]:"fire-fn-compat",[YN]:"fire-iid",[QN]:"fire-iid-compat",[XN]:"fire-fcm",[JN]:"fire-fcm-compat",[ZN]:"fire-perf",[eD]:"fire-perf-compat",[tD]:"fire-rc",[nD]:"fire-rc-compat",[rD]:"fire-gcs",[iD]:"fire-gcs-compat",[sD]:"fire-fst",[aD]:"fire-fst-compat",[oD]:"fire-vertex","fire-js":"fire-js",[lD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,dD=new Map,yg=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(yg.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Uh.values())U_(n,t);for(const n of dD.values())U_(n,t);return!0}function Ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Eu("app","Firebase",hD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=cD;function LS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(n||(n=kS()),!n)throw _s.create("no-options");const a=Uh.get(i);if(a){if(bo(n,a.options)&&bo(r,a.config))return a;throw _s.create("duplicate-app",{appName:i})}const l=new wN(i);for(const h of yg.values())l.addComponent(h);const u=new fD(n,r,l);return Uh.set(i,u),u}function jS(t=gg){const e=Uh.get(t);if(!e&&t===gg&&kS())return LS();if(!e)throw _s.create("no-app",{appName:t});return e}function xs(t,e,n){var r;let i=(r=uD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(u.join(" "));return}Za(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebase-heartbeat-database",mD=1,Xc="firebase-heartbeat-store";let Dm=null;function FS(){return Dm||(Dm=NN(pD,mD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),Dm}async function gD(t){try{const n=(await FS()).transaction(Xc),r=await n.objectStore(Xc).get(US(t));return await n.done,r}catch(e){if(e instanceof Pi)xi.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function B_(t,e){try{const r=(await FS()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,US(t)),await r.done}catch(n){if(n instanceof Pi)xi.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function US(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1024,vD=30;class wD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vD){const l=ED(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z_(),{heartbeatsToSend:r,unsentEntries:i}=_D(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xi.warn(n),""}}}function z_(){return new Date().toISOString().substring(0,10)}function _D(t,e=yD){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),$_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function ED(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){Za(new Ro("platform-logger",e=>new VN(e),"PRIVATE")),Za(new Ro("heartbeat",e=>new wD(e),"PRIVATE")),xs(mg,F_,t),xs(mg,F_,"esm2017"),xs("fire-js","")}TD("");var jr=function(){return jr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jr.apply(this,arguments)};function Su(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function BS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ID=BS,zS=new Eu("auth","Firebase",BS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Iy("@firebase/auth");function CD(t,...e){Bh.logLevel<=Be.WARN&&Bh.warn(`Auth (${pl}): ${t}`,...e)}function yh(t,...e){Bh.logLevel<=Be.ERROR&&Bh.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw by(t,...e)}function Fr(t,...e){return by(t,...e)}function $S(t,e,n){const r=Object.assign(Object.assign({},ID()),{[e]:n});return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return $S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zS.create(t,...e)}function Ie(t,e,...n){if(!t)throw by(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function Ei(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AD(){return W_()==="http:"||W_()==="https:"}function W_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AD()||rN()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=eN()||iN()}get(){return bD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ND=new Iu(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return HS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Tu(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return nN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(p.credentials="include"),WS.fetch()(await GS(t,t.config.apiHost,n,u),p)})}async function HS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PD),e);try{const i=new OD(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw nh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw nh(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $S(t,m,p);Er(t,m)}}catch(i){if(i instanceof Pi)throw i;Er(t,"network-request-failed",{message:String(i)})}}async function Cu(t,e,n,r,i={}){const a=await ki(t,e,n,r,i);return"mfaPendingCredential"in a&&Er(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function GS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Ry(t.config,i):`${t.config.apiScheme}://${i}`;return kD.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function DD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),ND.get())})}}function nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function H_(t){return t!==void 0&&t.enterprise!==void 0}class VD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MD(t,e){return ki(t,"GET","/v2/recaptchaConfig",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function zh(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=Py(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Lc(Om(i.auth_time)),issuedAtTime:Lc(Om(i.iat)),expirationTime:Lc(Om(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Om(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=RS(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function G_(t){const e=Py(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&FD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){var e;const n=t.auth,r=await t.getIdToken(),i=await el(t,zh(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qS(a.providerUserInfo):[],u=zD(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),m=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new wg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function BD(t){const e=Vt(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qS(t){return t.map(e=>{var{providerId:n}=e,r=Su(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){const n=await HS(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await GS(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(h.credentials="include"),WS.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(t,e){return ki(t,"POST","/v2/accounts:revokeToken",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await $D(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ga;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Su(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return BD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await el(this,LD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,u,h,p,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,b=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,L=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:W,isAnonymous:q,providerData:J,stsTokenManager:k}=n;Ie(V&&k,e,"internal-error");const R=Ga.fromJSON(this.name,k);Ie(typeof V=="string",e,"internal-error"),ns(y,e.name),ns(_,e.name),Ie(typeof W=="boolean",e,"internal-error"),Ie(typeof q=="boolean",e,"internal-error"),ns(T,e.name),ns(b,e.name),ns(S,e.name),ns(C,e.name),ns(N,e.name),ns(L,e.name);const D=new _r({uid:V,auth:e,email:_,emailVerified:W,displayName:y,isAnonymous:q,photoURL:b,phoneNumber:T,tenantId:S,stsTokenManager:R,createdAt:N,lastLoginAt:L});return J&&Array.isArray(J)&&(D.providerData=J.map(j=>Object.assign({},j))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ga;i.updateFromServerResponse(n);const a=new _r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $h(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?qS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ga;u.updateFromIdToken(r);const h=new _r({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function vi(t){Ei(t instanceof Function,"Expected a class definition");let e=q_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KS.type="NONE";const K_=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=vh(this.userKey,i.apiKey,a),this.fullPersistenceKey=vh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?_r._fromGetAccountInfoResponse(this.auth,n,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qa(vi(K_),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||vi(K_);const l=vh(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const _=await zh(e,{idToken:m}).catch(()=>{});if(!_)break;y=await _r._fromGetAccountInfoResponse(e,_,m)}else y=_r._fromJSON(e,m);p!==a&&(u=y),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new qa(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new qa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eI(e))return"Blackberry";if(tI(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(ZS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YS(t=cn()){return/firefox\//i.test(t)}function QS(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(t=cn()){return/crios\//i.test(t)}function JS(t=cn()){return/iemobile/i.test(t)}function ZS(t=cn()){return/android/i.test(t)}function eI(t=cn()){return/blackberry/i.test(t)}function tI(t=cn()){return/webos/i.test(t)}function ky(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HD(t=cn()){var e;return ky(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GD(){return sN()&&document.documentMode===10}function nI(t=cn()){return ky(t)||ZS(t)||tI(t)||eI(t)||/windows phone/i.test(t)||JS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e=[]){let n;switch(t){case"Browser":n=Y_(cn());break;case"Worker":n=`${Y_(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e={}){return ki(t,"GET","/v2/passwordPolicy",js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=6;class QD{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:YD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),r=await _r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(wi(this));const n=e?Vt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KD(this),n=new QD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jo(t){return Vt(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(t){yf=t}function iI(t){return yf.loadJS(t)}function ZD(){return yf.recaptchaEnterpriseScript}function e2(){return yf.gapiScript}function t2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class n2{constructor(){this.enterprise=new r2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class r2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const i2="recaptcha-enterprise",sI="NO_RECAPTCHA";class s2{constructor(e){this.type=i2,this.auth=jo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{MD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new VD(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;H_(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(sI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n2().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&H_(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=ZD();h.length!==0&&(h+=u),iI(h).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function X_(t,e,n,r=!1,i=!1){const a=new s2(t);let l;if(i)l=sI;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _g(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await X_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await X_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e){const n=Ay(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(bo(a,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function a2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l2(t,e,n){const r=jo(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=oI(e),{host:l,port:u}=c2(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(bo(p,r.config.emulator)&&bo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,fl(l)?(DS(`${a}//${l}${h}`),OS("Auth",!0)):u2()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c2(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:J_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:J_(l)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function d2(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){return Cu(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function p2(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Ny{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,n,"signInWithPassword",h2);case"emailLink":return f2(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,r,"signUpPassword",d2);case"emailLink":return p2(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e){return Cu(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="http://localhost";class Po extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Su(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Po(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ka(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y2(t){const e=Cc(Ac(t)).link,n=e?Cc(Ac(e)).deep_link_id:null,r=Cc(Ac(t)).deep_link_id;return(r?Cc(Ac(r)).link:null)||r||n||e||t}class Dy{constructor(e){var n,r,i,a,l,u;const h=Cc(Ac(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,y=g2((i=h.mode)!==null&&i!==void 0?i:null);Ie(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=y2(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dy.parseLink(n);return Ie(r,"argument-error"),Jc._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends aI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Au{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Au{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Au{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e){return Cu(t,"POST","/v1/accounts:signUp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await _r._fromIdTokenResponse(e,r,i),l=Z_(r);return new ko({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z_(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Pi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wh(e,n,r,i)}}function lI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,a,e,r):a})}async function w2(t,e,n=!1){const r=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const a=await el(t,lI(r,i,e,t),n);Ie(a.idToken,r,"internal-error");const l=Py(a.idToken);Ie(l,r,"internal-error");const{sub:u}=l;return Ie(t.uid===u,r,"user-mismatch"),ko._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e,n=!1){if(Xn(t.app))return Promise.reject(wi(t));const r="signIn",i=await lI(t,r,e),a=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function x2(t,e){return cI(jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t){const e=jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E2(t,e,n){if(Xn(t.app))return Promise.reject(wi(t));const r=jo(t),l=await _g(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&uI(t),h}),u=await ko._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function T2(t,e,n){return Xn(t.app)?Promise.reject(wi(t)):x2(Vt(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await el(r,S2(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function C2(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function A2(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function b2(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function R2(t){return Vt(t).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,k2=10;class hI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);GD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,k2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const N2=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fI.type="SESSION";const pI=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await D2(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=Oy("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function V2(t){Ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function M2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j2(){return mI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",F2=1,Gh="firebaseLocalStorage",yI="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function U2(){const t=indexedDB.deleteDatabase(gI);return new bu(t).toPromise()}function xg(){const t=indexedDB.open(gI,F2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:yI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await U2(),e(await xg()))})})}async function ex(t,e,n){const r=wf(t,!0).put({[yI]:e,value:n});return new bu(r).toPromise()}async function B2(t,e){const n=wf(t,!1).get(e),r=await new bu(n).toPromise();return r===void 0?null:r.value}function tx(t,e){const n=wf(t,!0).delete(e);return new bu(n).toPromise()}const z2=800,$2=3;class vI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(j2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await ex(e,Hh,"1"),await tx(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wf(i,!1).getAll();return new bu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vI.type="LOCAL";const W2=vI;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){return e?vi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G2(t){return cI(t.auth,new Vy(t),t.bypassAuthState)}function q2(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),_2(n,new Vy(t),t.bypassAuthState)}async function K2(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),w2(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return q2;default:Er(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Iu(2e3,1e4);class Ua extends wI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="pendingRedirect",wh=new Map;class X2 extends wI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await J2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(t,e){const n=tO(e),r=eO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z2(t,e){wh.set(t._key(),e)}function eO(t){return vi(t._redirectPersistence)}function tO(t){return vh(Q2,t.config.apiKey,t.name)}async function nO(t,e,n=!1){if(Xn(t.app))return Promise.reject(wi(t));const r=jo(t),i=H2(r,e),l=await new X2(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*60*1e3;class iO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_I(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _I({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function cO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oO(t);for(const n of e)try{if(uO(n))return}catch{}Er(t,"unauthorized-domain")}function uO(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lO.test(n))return!1;if(aO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Iu(3e4,6e4);function rx(){const t=Ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hO(t){return new Promise((e,n)=>{var r,i,a;function l(){rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rx(),n(Fr(t,"network-request-failed"))},timeout:dO.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ur().gapi)===null||a===void 0)&&a.load)l();else{const u=t2("iframefcb");return Ur()[u]=()=>{gapi.load?l():n(Fr(t,"network-request-failed"))},iI(`${e2()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw _h=null,e})}let _h=null;function fO(t){return _h=_h||hO(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Iu(5e3,15e3),mO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,gO):`https://${t.config.authDomain}/${mO}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=vO.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Tu(r).slice(1)}`}async function _O(t){const e=await fO(t),n=Ur().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:wO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Fr(t,"network-request-failed"),u=Ur().setTimeout(()=>{a(l)},pO.get());function h(){Ur().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EO=500,TO=600,SO="_blank",IO="http://localhost";class ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(t,e,n,r=EO,i=TO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},xO),{width:r.toString(),height:i.toString(),top:a,left:l}),p=cn().toLowerCase();n&&(u=XS(p)?SO:n),YS(p)&&(e=e||IO,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[T,b])=>`${_}${T}=${b},`,"");if(HD(p)&&u!=="_self")return AO(e||"",u),new ix(null);const y=window.open(e||"",u,m);Ie(y,t,"popup-blocked");try{y.focus()}catch{}return new ix(y)}function AO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="__/auth/handler",RO="emulator/auth/handler",PO=encodeURIComponent("fac");async function sx(t,e,n,r,i,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof aI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Au){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),p=h?`#${PO}=${encodeURIComponent(h)}`:"";return`${kO(t)}?${Tu(u).slice(1)}${p}`}function kO({config:t}){return t.emulator?Ry(t,RO):`https://${t.authDomain}/${bO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class NO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=nO,this._overrideRedirectResult=Z2}async _openPopup(e,n,r,i){var a;Ei((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await sx(e,n,r,vg(),i);return CO(e,l,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await sx(e,n,r,vg(),i);return V2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _O(e),r=new iO(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Vm];l!==void 0&&n(!!l),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nI()||QS()||ky()}}const DO=NO;var ox="@firebase/auth",ax="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MO(t){Za(new Ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},p=new XD(r,i,a,h);return a2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new Ro("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(r=>new OO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(ox,ax,VO(t)),xs(ox,ax,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,jO=NS("authIdTokenMaxAge")||LO;let lx=null;const FO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jO)return;const i=n==null?void 0:n.token;lx!==i&&(lx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UO(t=jS()){const e=Ay(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o2(t,{popupRedirectResolver:DO,persistence:[W2,N2,pI]}),r=NS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=FO(a.toString());A2(n,l,()=>l(n.currentUser)),C2(n,u=>l(u))}}const i=PS("auth");return i&&l2(n,`http://${i}`),n}function BO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Fr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",BO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MO("Browser");var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,xI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function D(){}D.prototype=R.prototype,k.D=R.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(j,U,F){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return R.prototype[U].apply(j,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,D){D||(D=0);var j=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)j[U]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(U=0;16>U;++U)j[U]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=k.g[0],D=k.g[1],U=k.g[2];var F=k.g[3],O=R+(F^D&(U^F))+j[0]+3614090360&4294967295;R=D+(O<<7&4294967295|O>>>25),O=F+(U^R&(D^U))+j[1]+3905402710&4294967295,F=R+(O<<12&4294967295|O>>>20),O=U+(D^F&(R^D))+j[2]+606105819&4294967295,U=F+(O<<17&4294967295|O>>>15),O=D+(R^U&(F^R))+j[3]+3250441966&4294967295,D=U+(O<<22&4294967295|O>>>10),O=R+(F^D&(U^F))+j[4]+4118548399&4294967295,R=D+(O<<7&4294967295|O>>>25),O=F+(U^R&(D^U))+j[5]+1200080426&4294967295,F=R+(O<<12&4294967295|O>>>20),O=U+(D^F&(R^D))+j[6]+2821735955&4294967295,U=F+(O<<17&4294967295|O>>>15),O=D+(R^U&(F^R))+j[7]+4249261313&4294967295,D=U+(O<<22&4294967295|O>>>10),O=R+(F^D&(U^F))+j[8]+1770035416&4294967295,R=D+(O<<7&4294967295|O>>>25),O=F+(U^R&(D^U))+j[9]+2336552879&4294967295,F=R+(O<<12&4294967295|O>>>20),O=U+(D^F&(R^D))+j[10]+4294925233&4294967295,U=F+(O<<17&4294967295|O>>>15),O=D+(R^U&(F^R))+j[11]+2304563134&4294967295,D=U+(O<<22&4294967295|O>>>10),O=R+(F^D&(U^F))+j[12]+1804603682&4294967295,R=D+(O<<7&4294967295|O>>>25),O=F+(U^R&(D^U))+j[13]+4254626195&4294967295,F=R+(O<<12&4294967295|O>>>20),O=U+(D^F&(R^D))+j[14]+2792965006&4294967295,U=F+(O<<17&4294967295|O>>>15),O=D+(R^U&(F^R))+j[15]+1236535329&4294967295,D=U+(O<<22&4294967295|O>>>10),O=R+(U^F&(D^U))+j[1]+4129170786&4294967295,R=D+(O<<5&4294967295|O>>>27),O=F+(D^U&(R^D))+j[6]+3225465664&4294967295,F=R+(O<<9&4294967295|O>>>23),O=U+(R^D&(F^R))+j[11]+643717713&4294967295,U=F+(O<<14&4294967295|O>>>18),O=D+(F^R&(U^F))+j[0]+3921069994&4294967295,D=U+(O<<20&4294967295|O>>>12),O=R+(U^F&(D^U))+j[5]+3593408605&4294967295,R=D+(O<<5&4294967295|O>>>27),O=F+(D^U&(R^D))+j[10]+38016083&4294967295,F=R+(O<<9&4294967295|O>>>23),O=U+(R^D&(F^R))+j[15]+3634488961&4294967295,U=F+(O<<14&4294967295|O>>>18),O=D+(F^R&(U^F))+j[4]+3889429448&4294967295,D=U+(O<<20&4294967295|O>>>12),O=R+(U^F&(D^U))+j[9]+568446438&4294967295,R=D+(O<<5&4294967295|O>>>27),O=F+(D^U&(R^D))+j[14]+3275163606&4294967295,F=R+(O<<9&4294967295|O>>>23),O=U+(R^D&(F^R))+j[3]+4107603335&4294967295,U=F+(O<<14&4294967295|O>>>18),O=D+(F^R&(U^F))+j[8]+1163531501&4294967295,D=U+(O<<20&4294967295|O>>>12),O=R+(U^F&(D^U))+j[13]+2850285829&4294967295,R=D+(O<<5&4294967295|O>>>27),O=F+(D^U&(R^D))+j[2]+4243563512&4294967295,F=R+(O<<9&4294967295|O>>>23),O=U+(R^D&(F^R))+j[7]+1735328473&4294967295,U=F+(O<<14&4294967295|O>>>18),O=D+(F^R&(U^F))+j[12]+2368359562&4294967295,D=U+(O<<20&4294967295|O>>>12),O=R+(D^U^F)+j[5]+4294588738&4294967295,R=D+(O<<4&4294967295|O>>>28),O=F+(R^D^U)+j[8]+2272392833&4294967295,F=R+(O<<11&4294967295|O>>>21),O=U+(F^R^D)+j[11]+1839030562&4294967295,U=F+(O<<16&4294967295|O>>>16),O=D+(U^F^R)+j[14]+4259657740&4294967295,D=U+(O<<23&4294967295|O>>>9),O=R+(D^U^F)+j[1]+2763975236&4294967295,R=D+(O<<4&4294967295|O>>>28),O=F+(R^D^U)+j[4]+1272893353&4294967295,F=R+(O<<11&4294967295|O>>>21),O=U+(F^R^D)+j[7]+4139469664&4294967295,U=F+(O<<16&4294967295|O>>>16),O=D+(U^F^R)+j[10]+3200236656&4294967295,D=U+(O<<23&4294967295|O>>>9),O=R+(D^U^F)+j[13]+681279174&4294967295,R=D+(O<<4&4294967295|O>>>28),O=F+(R^D^U)+j[0]+3936430074&4294967295,F=R+(O<<11&4294967295|O>>>21),O=U+(F^R^D)+j[3]+3572445317&4294967295,U=F+(O<<16&4294967295|O>>>16),O=D+(U^F^R)+j[6]+76029189&4294967295,D=U+(O<<23&4294967295|O>>>9),O=R+(D^U^F)+j[9]+3654602809&4294967295,R=D+(O<<4&4294967295|O>>>28),O=F+(R^D^U)+j[12]+3873151461&4294967295,F=R+(O<<11&4294967295|O>>>21),O=U+(F^R^D)+j[15]+530742520&4294967295,U=F+(O<<16&4294967295|O>>>16),O=D+(U^F^R)+j[2]+3299628645&4294967295,D=U+(O<<23&4294967295|O>>>9),O=R+(U^(D|~F))+j[0]+4096336452&4294967295,R=D+(O<<6&4294967295|O>>>26),O=F+(D^(R|~U))+j[7]+1126891415&4294967295,F=R+(O<<10&4294967295|O>>>22),O=U+(R^(F|~D))+j[14]+2878612391&4294967295,U=F+(O<<15&4294967295|O>>>17),O=D+(F^(U|~R))+j[5]+4237533241&4294967295,D=U+(O<<21&4294967295|O>>>11),O=R+(U^(D|~F))+j[12]+1700485571&4294967295,R=D+(O<<6&4294967295|O>>>26),O=F+(D^(R|~U))+j[3]+2399980690&4294967295,F=R+(O<<10&4294967295|O>>>22),O=U+(R^(F|~D))+j[10]+4293915773&4294967295,U=F+(O<<15&4294967295|O>>>17),O=D+(F^(U|~R))+j[1]+2240044497&4294967295,D=U+(O<<21&4294967295|O>>>11),O=R+(U^(D|~F))+j[8]+1873313359&4294967295,R=D+(O<<6&4294967295|O>>>26),O=F+(D^(R|~U))+j[15]+4264355552&4294967295,F=R+(O<<10&4294967295|O>>>22),O=U+(R^(F|~D))+j[6]+2734768916&4294967295,U=F+(O<<15&4294967295|O>>>17),O=D+(F^(U|~R))+j[13]+1309151649&4294967295,D=U+(O<<21&4294967295|O>>>11),O=R+(U^(D|~F))+j[4]+4149444226&4294967295,R=D+(O<<6&4294967295|O>>>26),O=F+(D^(R|~U))+j[11]+3174756917&4294967295,F=R+(O<<10&4294967295|O>>>22),O=U+(R^(F|~D))+j[2]+718787259&4294967295,U=F+(O<<15&4294967295|O>>>17),O=D+(F^(U|~R))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var D=R-this.blockSize,j=this.B,U=this.h,F=0;F<R;){if(U==0)for(;F<=D;)i(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<R;)if(j[U++]=k.charCodeAt(F++),U==this.blockSize){i(this,j),U=0;break}}else for(;F<R;)if(j[U++]=k[F++],U==this.blockSize){i(this,j),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var D=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=D&255,D/=256;for(this.u(k),k=Array(16),R=D=0;4>R;++R)for(var j=0;32>j;j+=8)k[D++]=this.g[R]>>>j&255;return k};function a(k,R){var D=u;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=R(k)}function l(k,R){this.h=R;for(var D=[],j=!0,U=k.length-1;0<=U;U--){var F=k[U]|0;j&&F==R||(D[U]=F,j=!1)}this.g=D}var u={};function h(k){return-128<=k&&128>k?a(k,function(R){return new l([R|0],0>R?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return C(p(-k));for(var R=[],D=1,j=0;k>=D;j++)R[j]=k/D|0,D*=4294967296;return new l(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(m(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(R,8)),j=y,U=0;U<k.length;U+=8){var F=Math.min(8,k.length-U),O=parseInt(k.substring(U,U+F),R);8>F?(F=p(Math.pow(R,F)),j=j.j(F).add(p(O))):(j=j.j(D),j=j.add(p(O)))}return j}var y=h(0),_=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-C(this).m();for(var k=0,R=1,D=0;D<this.g.length;D++){var j=this.i(D);k+=(0<=j?j:4294967296+j)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(S(this))return"-"+C(this).toString(k);for(var R=p(Math.pow(k,6)),D=this,j="";;){var U=W(D,R).g;D=N(D,U.j(R));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=U,b(D))return F+j;for(;6>F.length;)F="0"+F;j=F+j}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=N(this,k),S(k)?-1:b(k)?0:1};function C(k){for(var R=k.g.length,D=[],j=0;j<R;j++)D[j]=~k.g[j];return new l(D,~k.h).add(_)}t.abs=function(){return S(this)?C(this):this},t.add=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],j=0,U=0;U<=R;U++){var F=j+(this.i(U)&65535)+(k.i(U)&65535),O=(F>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);j=O>>>16,F&=65535,O&=65535,D[U]=O<<16|F}return new l(D,D[D.length-1]&-2147483648?-1:0)};function N(k,R){return k.add(C(R))}t.j=function(k){if(b(this)||b(k))return y;if(S(this))return S(k)?C(this).j(C(k)):C(C(this).j(k));if(S(k))return C(this.j(C(k)));if(0>this.l(T)&&0>k.l(T))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,D=[],j=0;j<2*R;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<k.g.length;U++){var F=this.i(j)>>>16,O=this.i(j)&65535,ve=k.i(U)>>>16,Oe=k.i(U)&65535;D[2*j+2*U]+=O*Oe,L(D,2*j+2*U),D[2*j+2*U+1]+=F*Oe,L(D,2*j+2*U+1),D[2*j+2*U+1]+=O*ve,L(D,2*j+2*U+1),D[2*j+2*U+2]+=F*ve,L(D,2*j+2*U+2)}for(j=0;j<R;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=R;j<2*R;j++)D[j]=0;return new l(D,0)};function L(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function V(k,R){this.g=k,this.h=R}function W(k,R){if(b(R))throw Error("division by zero");if(b(k))return new V(y,y);if(S(k))return R=W(C(k),R),new V(C(R.g),C(R.h));if(S(R))return R=W(k,C(R)),new V(C(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var D=_,j=R;0>=j.l(k);)D=q(D),j=q(j);var U=J(D,1),F=J(j,1);for(j=J(j,2),D=J(D,2);!b(j);){var O=F.add(j);0>=O.l(k)&&(U=U.add(D),F=O),j=J(j,1),D=J(D,1)}return R=N(k,U.j(R)),new V(U,R)}for(U=y;0<=k.l(R);){for(D=Math.max(1,Math.floor(k.m()/R.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),F=p(D),O=F.j(R);S(O)||0<O.l(k);)D-=j,F=p(D),O=F.j(R);b(F)&&(F=_),U=U.add(F),k=N(k,O)}return new V(U,k)}t.A=function(k){return W(this,k).h},t.and=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],j=0;j<R;j++)D[j]=this.i(j)&k.i(j);return new l(D,this.h&k.h)},t.or=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],j=0;j<R;j++)D[j]=this.i(j)|k.i(j);return new l(D,this.h|k.h)},t.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],j=0;j<R;j++)D[j]=this.i(j)^k.i(j);return new l(D,this.h^k.h)};function q(k){for(var R=k.g.length+1,D=[],j=0;j<R;j++)D[j]=k.i(j)<<1|k.i(j-1)>>>31;return new l(D,k.h)}function J(k,R){var D=R>>5;R%=32;for(var j=k.g.length-D,U=[],F=0;F<j;F++)U[F]=0<R?k.i(F+D)>>>R|k.i(F+D+1)<<32-R:k.i(F+D);return new l(U,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Es=l}).apply(typeof cx<"u"?cx:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EI,bc,TI,xh,Eg,SI,II,CI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var H=d[P];if(!(H in E))break e;E=E[H]}d=d[d.length-1],P=E[d],v=v(P),v!=P&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var E=0,P=!1,H={next:function(){if(!P&&E<d.length){var Q=E++;return{value:v(Q,d[Q]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function _(d,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function b(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,H,Q){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return v.prototype[H].apply(P,le)}}function S(d){const v=d.length;if(0<v){const E=Array(v);for(let P=0;P<v;P++)E[P]=d[P];return E}return[]}function C(d,v){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(h(P)){const H=d.length||0,Q=P.length||0;d.length=H+Q;for(let le=0;le<Q;le++)d[H+le]=P[le]}else d.push(P)}}class N{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function W(d){return W[" "](d),d}W[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(d,v,E){for(const P in d)v.call(E,d[P],P,d)}function k(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function R(d){const v={};for(const E in d)v[E]=d[E];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,v){let E,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(E in P)d[E]=P[E];for(let Q=0;Q<D.length;Q++)E=D[Q],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=oe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ve{constructor(){this.h=this.g=null}add(v,E){const P=Oe.get();P.set(v,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Oe=new N(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,X=!1,oe=new ve,se=()=>{const d=u.Promise.resolve(void 0);ce=()=>{d.then($)}};var $=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){F(E)}var v=Oe;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}X=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return d}();function Pe(d,v){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{W(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}b(Pe,ge);var Me={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ve(d,v,E,P,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!P,this.ha=H,this.key=++xe,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fe(d){this.src=d,this.g={},this.h=0}Fe.prototype.add=function(d,v,E,P,H){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var le=ht(d,v,P,H);return-1<le?(v=d[le],E||(v.fa=!1)):(v=new Ve(v,this.src,Q,!!P,H),v.fa=E,d.push(v)),v};function $e(d,v){var E=v.type;if(E in d.g){var P=d.g[E],H=Array.prototype.indexOf.call(P,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(P,H,1),Q&&(ke(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ht(d,v,E,P){for(var H=0;H<d.length;++H){var Q=d[H];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==P)return H}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),jn={};function er(d,v,E,P,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)er(d,v[Q],E,P,H);return null}return E=kl(E),d&&d[ue]?d.K(v,E,p(P)?!!P.capture:!1,H):tr(d,v,E,!1,P,H)}function tr(d,v,E,P,H,Q){if(!v)throw Error("Invalid event type");var le=p(H)?!!H.capture:!!H,Xe=$o(d);if(Xe||(d[Lt]=Xe=new Fe(d)),E=Xe.add(v,E,P,le,Q),E.proxy)return E;if(P=zo(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)Ae||(H=le),H===void 0&&(H=!1),d.addEventListener(v.toString(),P,H);else if(d.attachEvent)d.attachEvent(Zr(v.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function zo(){function d(E){return v.call(d.src,d.listener,E)}const v=Pl;return d}function nr(d,v,E,P,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)nr(d,v[Q],E,P,H);else P=p(P)?!!P.capture:!!P,E=kl(E),d&&d[ue]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],E=ht(Q,E,P,H),-1<E&&(ke(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=$o(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ht(v,E,P,H)),(E=-1<d?v[d]:null)&&Jr(E))}function Jr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ue])$e(v.i,d);else{var E=d.type,P=d.proxy;v.removeEventListener?v.removeEventListener(E,P,d.capture):v.detachEvent?v.detachEvent(Zr(E),P):v.addListener&&v.removeListener&&v.removeListener(P),(E=$o(v))?($e(E,d),E.h==0&&(E.src=null,v[Lt]=null)):ke(d)}}}function Zr(d){return d in jn?jn[d]:jn[d]="on"+d}function Pl(d,v){if(d.da)d=!0;else{v=new Pe(v,this);var E=d.listener,P=d.ha||d.src;d.fa&&Jr(d),d=E.call(P,v)}return d}function $o(d){return d=d[Lt],d instanceof Fe?d:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(d){return typeof d=="function"?d:(d[Wo]||(d[Wo]=function(v){return d.handleEvent(v)}),d[Wo])}function bt(){Z.call(this),this.i=new Fe(this),this.M=this,this.F=null}b(bt,Z),bt.prototype[ue]=!0,bt.prototype.removeEventListener=function(d,v,E,P){nr(this,d,v,E,P)};function Rt(d,v){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=v.type||v,typeof v=="string")v=new ge(v,d);else if(v instanceof ge)v.target=v.target||d;else{var H=v;v=new ge(P,d),j(v,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var le=v.g=E[Q];H=ei(le,P,!0,v)&&H}if(le=v.g=d,H=ei(le,P,!0,v)&&H,H=ei(le,P,!1,v)&&H,E)for(Q=0;Q<E.length;Q++)le=v.g=E[Q],H=ei(le,P,!1,v)&&H}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],P=0;P<E.length;P++)ke(E[P]);delete d.g[v],d.h--}}this.F=null},bt.prototype.K=function(d,v,E,P){return this.i.add(String(d),v,!1,E,P)},bt.prototype.L=function(d,v,E,P){return this.i.add(String(d),v,!0,E,P)};function ei(d,v,E,P){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var le=v[Q];if(le&&!le.da&&le.capture==E){var Xe=le.listener,Pt=le.ha||le.src;le.fa&&$e(d.i,le),H=Xe.call(Pt,P)!==!1&&H}}return H&&!P.defaultPrevented}function Nl(d,v,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Ni(d){d.g=Nl(()=>{d.g=null,d.i&&(d.i=!1,Ni(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ws extends Z{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(d){Z.call(this),this.h=d,this.g={}}b(Hs,Z);var Dl=[];function Ol(d){J(d.g,function(v,E){this.g.hasOwnProperty(E)&&Jr(v)},d),d.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),Ol(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vl=u.JSON.stringify,Ml=u.JSON.parse,Ll=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Gs(){}Gs.prototype.h=null;function Ho(d){return d.h||(d.h=d.i())}function Go(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){ge.call(this,"d")}b(Cr,ge);function qo(){ge.call(this,"c")}b(qo,ge);var Ar={},jl=null;function qs(){return jl=jl||new bt}Ar.La="serverreachability";function Fl(d){ge.call(this,Ar.La,d)}b(Fl,ge);function ti(d){const v=qs();Rt(v,new Fl(v))}Ar.STAT_EVENT="statevent";function Ul(d,v){ge.call(this,Ar.STAT_EVENT,d),this.stat=v}b(Ul,ge);function mt(d){const v=qs();Rt(v,new Ul(v,d))}Ar.Ma="timingevent";function Ko(d,v){ge.call(this,Ar.Ma,d),this.size=v}b(Ko,ge);function rr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function Ys(d,v,E,P,H,Q){d.info(function(){if(d.g)if(Q)for(var le="",Xe=Q.split("&"),Pt=0;Pt<Xe.length;Pt++){var He=Xe[Pt].split("=");if(1<He.length){var jt=He[0];He=He[1];var Et=jt.split("_");le=2<=Et.length&&Et[1]=="type"?le+(jt+"="+He+"&"):le+(jt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+v+`
`+E+`
`+le})}function Yo(d,v,E,P,H,Q,le){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+v+`
`+E+`
`+Q+" "+le})}function ir(d,v,E,P){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Xf(d,E)+(P?" "+P:"")})}function Bl(d,v){d.info(function(){return"TIMEOUT: "+v})}Ks.prototype.info=function(){};function Xf(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return Vl(E)}catch{return v}}var Qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function Qs(){}b(Qs,Gs),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},sr=new Qs;function or(d,v,E,P){this.j=d,this.i=v,this.l=E,this.R=P||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zu}function zu(){this.i=null,this.g="",this.h=!1}var zl={},Xo={};function Jo(d,v,E){d.L=1,d.v=Li(bn(v)),d.m=E,d.P=!0,$l(d,null)}function $l(d,v){d.F=Date.now(),Ze(d),d.A=bn(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Fi(E.i,"t",P),d.C=0,E=d.j.J,d.h=new zu,d.g=od(d.j,E?v:null,!d.m),0<d.O&&(d.M=new Ws(_(d.Y,d,d.g),d.O)),v=d.U,E=d.g,P=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Dl[0]=H.toString()),H=Dl);for(var Q=0;Q<H.length;Q++){var le=er(E,H[Q],P||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ti(),Ys(d.i,d.u,d.A,d.l,d.R,d.m)}or.prototype.ca=function(d){d=d.target;const v=this.M;v&&yn(d)==3?v.j():this.Y(d)},or.prototype.Y=function(d){try{if(d==this.g)e:{const Et=yn(this.g);var v=this.g.Ba();const zn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||Et!=4||v==7||(v==8||0>=zn?ti(3):ti(2)),Xs(this);var E=this.g.Z();this.X=E;t:if($u(this)){var P=Yl(this.g);d="";var H=P.length,Q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),Di(this);var le="";break t}this.h.i=new u.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(P[v],{stream:!(Q&&v==H-1)});P.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,Yo(this.i,this.u,this.A,this.l,this.R,Et,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Pt=this.g;if((Xe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Xe)){var He=Xe;break t}}He=null}if(E=He)ir(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,E);else{this.o=!1,this.s=3,mt(12),Un(this),Di(this);break e}}if(this.P){E=!0;let Pn;for(;!this.J&&this.C<le.length;)if(Pn=Jf(this,le),Pn==Xo){Et==4&&(this.s=4,mt(14),E=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==zl){this.s=4,mt(15),ir(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else ir(this.i,this.l,Pn,null),Wl(this,Pn);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||le.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)ir(this.i,this.l,le,"[Invalid Chunked Response]"),Un(this),Di(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Xl(jt),jt.M=!0,mt(11))}}else ir(this.i,this.l,le,null),Wl(this,le);Et==4&&Un(this),this.o&&!this.J&&(Et==4?ca(this.j,this):(this.o=!1,Ze(this)))}else ia(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Un(this),Di(this)}}}catch{}finally{}};function $u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Jf(d,v){var E=d.C,P=v.indexOf(`
`,E);return P==-1?Xo:(E=Number(v.substring(E,P)),isNaN(E)?zl:(P+=1,P+E>v.length?Xo:(v=v.slice(P,P+E),d.C=P+E,v)))}or.prototype.cancel=function(){this.J=!0,Un(this)};function Ze(d){d.S=Date.now()+d.I,Wu(d,d.I)}function Wu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=rr(_(d.ba,d),v)}function Xs(d){d.B&&(u.clearTimeout(d.B),d.B=null)}or.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Bl(this.i,this.A),this.L!=2&&(ti(),mt(17)),Un(this),this.s=2,Di(this)):Wu(this,this.S-d)};function Di(d){d.j.G==0||d.J||ca(d.j,d)}function Un(d){Xs(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Ol(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Wl(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||un(E.h,d))){if(!d.K&&un(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)la(E),dr(E);else break e;aa(E),mt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=rr(_(E.Za,E),6e3));if(1>=Gu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else oi(E,11)}else if((d.K||E.g==d)&&la(E),!L(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let He=H[v];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const jt=He[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const Et=He[4];Et!=null&&(E.Aa=Et,E.j.info("SVER="+E.Aa));const zn=He[5];zn!=null&&typeof zn=="number"&&0<zn&&(P=1.5*zn,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Pn=d.g;if(Pn){const io=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var Q=P.h;Q.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Hl(Q,Q.h),Q.h=null))}if(P.D){const da=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(P.ya=da,Je(P.I,P.D,da))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var le=d;if(P.qa=sd(P,P.J?P.ia:null,P.W),le.K){qu(P.h,le);var Xe=le,Pt=P.L;Pt&&(Xe.I=Pt),Xe.B&&(Xs(Xe),Ze(Xe)),P.g=le}else ro(P);0<E.i.length&&kr(E)}else He[0]!="stop"&&He[0]!="close"||oi(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?oi(E,7):Wt(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}ti(4)}catch{}}var Hu=class{constructor(d,v){this.g=d,this.map=v}};function Js(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gu(d){return d.h?1:d.g?d.g.size:0}function un(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Hl(d,v){d.g?d.g.add(v):d.h=v}function qu(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Js.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ku(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return S(d.i)}function Zo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,P=0;P<E;P++)v.push(d[P]);return v}v=[],E=0;for(P in d)v[E++]=d[P];return v}function ea(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const P in d)v[E++]=P;return v}}}function Oi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=ea(d),P=Zo(d),H=P.length,Q=0;Q<H;Q++)v.call(void 0,P[Q],E&&E[Q],d)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),H=null;if(0<=P){var Q=d[E].substring(0,P);H=d[E].substring(P+1)}else Q=d[E];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ni(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ni){this.h=d.h,eo(this,d.j),this.o=d.o,this.g=d.g,Vi(this,d.s),this.l=d.l;var v=d.i,E=new br;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Mi(this,E),this.m=d.m}else d&&(v=String(d).match(Zs))?(this.h=!1,eo(this,v[1]||"",!0),this.o=We(v[2]||""),this.g=We(v[3]||"",!0),Vi(this,v[4]),this.l=We(v[5]||"",!0),Mi(this,v[6]||"",!0),this.m=We(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ni.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ji(v,ta,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ji(v,ta,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ji(E,E.charAt(0)=="/"?Xu:Qu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ji(E,Gl)),d.join("")};function bn(d){return new ni(d)}function eo(d,v,E){d.j=E?We(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Vi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Mi(d,v,E){v instanceof br?(d.i=v,Rr(d.i,d.h)):(E||(v=ji(v,Ju)),d.i=new br(v,d.h))}function Je(d,v,E){d.i.set(v,E)}function Li(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function We(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ji(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Yu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ta=/[#\/\?@]/g,Qu=/[#\?:]/g,Xu=/[#\?]/g,Ju=/[#\?@]/g,Gl=/#/g;function br(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function $t(d){d.g||(d.g=new Map,d.h=0,d.i&&Zf(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=br.prototype,t.add=function(d,v){$t(this),this.i=null,d=Bn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function ar(d,v){$t(d),v=Bn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function lr(d,v){return $t(d),v=Bn(d,v),d.g.has(v)}t.forEach=function(d,v){$t(this),this.g.forEach(function(E,P){E.forEach(function(H){d.call(v,H,P,this)},this)},this)},t.na=function(){$t(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let P=0;P<v.length;P++){const H=d[P];for(let Q=0;Q<H.length;Q++)E.push(v[P])}return E},t.V=function(d){$t(this);let v=[];if(typeof d=="string")lr(this,d)&&(v=v.concat(this.g.get(Bn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return $t(this),this.i=null,d=Bn(this,d),lr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Fi(d,v,E){ar(d,v),0<E.length&&(d.i=null,d.g.set(Bn(d,v),S(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var P=v[E];const Q=encodeURIComponent(String(P)),le=this.V(P);for(P=0;P<le.length;P++){var H=Q;le[P]!==""&&(H+="="+encodeURIComponent(String(le[P]))),d.push(H)}}return this.i=d.join("&")};function Bn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Rr(d,v){v&&!d.j&&($t(d),d.i=null,d.g.forEach(function(E,P){var H=P.toLowerCase();P!=H&&(ar(this,P),Fi(this,H,E))},d)),d.j=v}function ep(d,v){const E=new Ks;if(u.Image){const P=new Image;P.onload=T(gn,E,"TestLoadImage: loaded",!0,v,P),P.onerror=T(gn,E,"TestLoadImage: error",!1,v,P),P.onabort=T(gn,E,"TestLoadImage: abort",!1,v,P),P.ontimeout=T(gn,E,"TestLoadImage: timeout",!1,v,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else v(!1)}function Zu(d,v){const E=new Ks,P=new AbortController,H=setTimeout(()=>{P.abort(),gn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:P.signal}).then(Q=>{clearTimeout(H),Q.ok?gn(E,"TestPingServer: ok",!0,v):gn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),gn(E,"TestPingServer: error",!1,v)})}function gn(d,v,E,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(E)}catch{}}function tp(){this.g=new Ll}function ed(d,v,E){const P=E||"";try{Oi(d,function(H,Q){let le=H;p(H)&&(le=Vl(H)),v.push(P+Q+"="+encodeURIComponent(le))})}catch(H){throw v.push(P+"type="+encodeURIComponent("_badmap")),H}}function ri(d){this.l=d.Ub||null,this.j=d.eb||!1}b(ri,Gs),ri.prototype.g=function(){return new to(this.l,this.j)},ri.prototype.i=function(d){return function(){return d}}({});function to(d,v){bt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(to,bt),t=to.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ur(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;td(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function td(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?cr(this):ur(this),this.readyState==3&&td(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,cr(this))},t.Qa=function(d){this.g&&(this.response=d,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ur(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function ur(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ii(d){let v="";return J(d,function(E,P){v+=P,v+=":",v+=E,v+=`\r
`}),v}function Ui(d,v,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=ii(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Je(d,v,E))}function st(d){bt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(st,bt);var np=/^https?$/i,ql=["POST","PUT"];t=st.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Ho(this.o):Ho(sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){no(this,Q);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)E.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Q of P.keys())E.set(Q,P.get(Q));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ql,v,void 0))||P||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of E)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){no(this,Q)}};function no(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,na(d),Rn(d)}function na(d){d.A||(d.A=!0,Rt(d,"complete"),Rt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Rt(this,"complete"),Rt(this,"abort"),Rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},t.bb=function(){Kl(this)};function Kl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||yn(d)!=4||d.Z()!=2)){if(d.u&&yn(d)==4)Nl(d.Ea,0,d);else if(Rt(d,"readystatechange"),yn(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var P;if(P=le===0){var H=String(d.D).match(Zs)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),P=!np.test(H?H.toLowerCase():"")}E=P}if(E)Rt(d,"complete"),Rt(d,"success");else{d.m=6;try{var Q=2<yn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",na(d)}}finally{Rn(d)}}}}function Rn(d,v){if(d.g){ra(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Rt(d,"ready");try{E.onreadystatechange=P}catch{}}}function ra(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function yn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ml(v)}};function Yl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(d){const v={};d=(d.g&&2<=yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(L(d[P]))continue;var E=U(d[P]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[H]||[];v[H]=Q,Q.push(E)}k(v,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Ql(d){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,d),this.cb=Pr("retryDelaySeedMs",1e4,d),this.Wa=Pr("forwardChannelMaxRetries",2,d),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(d&&d.concurrentRequestLimit),this.Da=new tp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ql.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,P){mt(0),this.W=d,this.H=v||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=sd(this,null,this.W),kr(this)};function Wt(d){if(sa(d),d.G==3){var v=d.U++,E=bn(d.I);if(Je(E,"SID",d.K),Je(E,"RID",v),Je(E,"TYPE","terminate"),si(d,E),v=new or(d,d.j,v),v.L=2,v.v=Li(bn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=od(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ze(v)}id(d)}function dr(d){d.g&&(Xl(d),d.g.cancel(),d.g=null)}function sa(d){dr(d),d.u&&(u.clearTimeout(d.u),d.u=null),la(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function kr(d){if(!An(d.h)&&!d.s){d.s=!0;var v=d.Ga;ce||se(),X||(ce(),X=!0),oe.add(v,d),d.B=0}}function rp(d,v){return Gu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=rr(_(d.Ga,d,v),rd(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new or(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=R(Q),j(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Bi(this,H,v),E=bn(this.I),Je(E,"RID",d),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),si(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(ii(Q)))+"&"+v:this.m&&Ui(E,this.m,Q)),Hl(this.h,H),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",v),Je(E,"SID","null"),H.T=!0,Jo(H,E,null)):Jo(H,E,v),this.G=2}}else this.G==3&&(d?oa(this,d):this.i.length==0||An(this.h)||oa(this))};function oa(d,v){var E;v?E=v.l:E=d.U++;const P=bn(d.I);Je(P,"SID",d.K),Je(P,"RID",E),Je(P,"AID",d.T),si(d,P),d.m&&d.o&&Ui(P,d.m,d.o),E=new or(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Bi(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hl(d.h,E),Jo(E,P,v)}function si(d,v){d.H&&J(d.H,function(E,P){Je(v,P,E)}),d.l&&Oi({},function(E,P){Je(v,P,E)})}function Bi(d,v,E){E=Math.min(d.i.length,E);var P=d.l?_(d.l.Na,d.l,d):null;e:{var H=d.i;let Q=-1;for(;;){const le=["count="+E];Q==-1?0<E?(Q=H[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Xe=!0;for(let Pt=0;Pt<E;Pt++){let He=H[Pt].g;const jt=H[Pt].map;if(He-=Q,0>He)Q=Math.max(0,H[Pt].g-100),Xe=!1;else try{ed(jt,le,"req"+He+"_")}catch{P&&P(jt)}}if(Xe){P=le.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,P}function ro(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ce||se(),X||(ce(),X=!0),oe.add(v,d),d.v=0}}function aa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=rr(_(d.Fa,d),rd(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=rr(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),dr(this),nd(this))};function Xl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function nd(d){d.g=new or(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=bn(d.qa);Je(v,"RID","rpc"),Je(v,"SID",d.K),Je(v,"AID",d.T),Je(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(v,"TO",d.ja),Je(v,"TYPE","xmlhttp"),si(d,v),d.m&&d.o&&Ui(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Li(bn(v)),E.m=null,E.P=!0,$l(E,d)}t.Za=function(){this.C!=null&&(this.C=null,dr(this),aa(this),mt(19))};function la(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ca(d,v){var E=null;if(d.g==v){la(d),Xl(d),d.g=null;var P=2}else if(un(d.h,v))E=v.D,qu(d.h,v),P=1;else return;if(d.G!=0){if(v.o)if(P==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;P=qs(),Rt(P,new Ko(P,E)),kr(d)}else ro(d);else if(H=v.s,H==3||H==0&&0<v.X||!(P==1&&rp(d,v)||P==2&&aa(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:oi(d,5);break;case 4:oi(d,10);break;case 3:oi(d,6);break;default:oi(d,2)}}}function rd(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function oi(d,v){if(d.j.info("Error code "+v),v==2){var E=_(d.fb,d),P=d.Xa;const H=!P;P=new ni(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||eo(P,"https"),Li(P),H?ep(P.toString(),E):Zu(P.toString(),E)}else mt(2);d.G=0,d.l&&d.l.sa(v),id(d),sa(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function id(d){if(d.G=0,d.ka=[],d.l){const v=Ku(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ka,v),C(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function sd(d,v,E){var P=E instanceof ni?bn(E):new ni(E);if(P.g!="")v&&(P.g=v+"."+P.g),Vi(P,P.s);else{var H=u.location;P=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new ni(null);P&&eo(Q,P),v&&(Q.g=v),H&&Vi(Q,H),E&&(Q.l=E),P=Q}return E=d.D,v=d.ya,E&&v&&Je(P,E,v),Je(P,"VER",d.la),si(d,P),P}function od(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new st(new ri({eb:E})):new st(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}t=Jl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ua(){}ua.prototype.g=function(d,v){return new dn(d,v)};function dn(d,v){bt.call(this),this.g=new Ql(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!L(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Nr(this)}b(dn,bt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Wt(this.g)},dn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Vl(d),d=E);v.i.push(new Hu(v.Ya++,d)),v.G==3&&kr(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,dn.aa.N.call(this)};function ad(d){Cr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(ad,Cr);function ld(){qo.call(this),this.status=1}b(ld,qo);function Nr(d){this.g=d}b(Nr,Jl),Nr.prototype.ua=function(){Rt(this.g,"a")},Nr.prototype.ta=function(d){Rt(this.g,new ad(d))},Nr.prototype.sa=function(d){Rt(this.g,new ld)},Nr.prototype.ra=function(){Rt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,CI=function(){return new ua},II=function(){return qs()},SI=Ar,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qo.NO_ERROR=0,Qo.TIMEOUT=8,Qo.HTTP_ERROR=6,xh=Qo,Bu.COMPLETE="complete",TI=Bu,Go.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,bc=Go,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,EI=st}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const ux="@firebase/firestore",dx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Iy("@firebase/firestore");function Ma(){return No.logLevel}function he(t,...e){if(No.logLevel<=Be.DEBUG){const n=e.map(My);No.debug(`Firestore (${gl}): ${t}`,...n)}}function Ti(t,...e){if(No.logLevel<=Be.ERROR){const n=e.map(My);No.error(`Firestore (${gl}): ${t}`,...n)}}function tl(t,...e){if(No.logLevel<=Be.WARN){const n=e.map(My);No.warn(`Firestore (${gl}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AI(t,r,n)}function AI(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ti(r),new Error(r)}function Qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AI(e,i,r)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class $O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new bI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class HO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Tg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return je(r,i);{const a=RI(),l=YO(a.encode(fx(t,n)),a.encode(fx(e,n)));return l!==0?l:je(r,i)}}n+=r>65535?2:1}return je(t.length,e.length)}function fx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function YO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return je(t[n],e[n]);return je(t.length,e.length)}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=-62135596800,mx=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mx);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<px)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mx}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-px;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Dt(0,0))}static max(){return new Ne(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__name__";class Lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Lr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return je(e.length,n.length)}static compareSegments(e,n){const r=Lr.isNumericId(e),i=Lr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):Tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class it extends Lr{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const QO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Lr{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return QO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gx}static keyField(){return new Yt([gx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function XO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Is(i,Ee.empty(),e)}function JO(t){return new Is(t.readTime,t.key,Zc)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Ne.min(),Ee.empty(),Zc)}static max(){return new Is(Ne.max(),Ee.empty(),Zc)}}function ZO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==eV)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&n()},h=>r(h))}),l=!0,a===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(m=>{l[p]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,n){return new te((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function nV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_f.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function xf(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function rV(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="";function iV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yx(e)),e=sV(t.get(n),e);return yx(e)}function sV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case kI:n+="";break;default:n+=a}}return n}function yx(t){return t+kI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wx(this.data.getIterator())}getIteratorFrom(e){return new wx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class wx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ot(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DI("Invalid base64 string: "+a):a}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const oV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=oV.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function As(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="server_timestamp",VI="__type__",MI="__previous_value__",LI="__local_write_time__";function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VI])===null||n===void 0?void 0:n.stringValue)===OI}function Ef(t){const e=t.mapValue.fields[MI];return jy(e)?Ef(e):e}function eu(t){const e=Cs(t.mapValue.fields[LI].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i,a,l,u,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m}}const Kh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="__type__",lV="__max__",sh={mapValue:{}},FI="__vector__",Yh="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:uV(t)?9007199254740991:cV(t)?10:11:Ce(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Cs(i.timestampValue),u=Cs(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return As(i.bytesValue).isEqual(As(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vt(i.doubleValue),u=vt(a.doubleValue);return l===u?qh(l)===qh(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(vx(l)!==vx(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Kr(l[h],u[h])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=vt(a.integerValue||a.doubleValue),h=vt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return _x(t.timestampValue,e.timestampValue);case 4:return _x(eu(t),eu(e));case 5:return Tg(t.stringValue,e.stringValue);case 6:return function(a,l){const u=As(a),h=As(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=je(u[p],h[p]);if(m!==0)return m}return je(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=je(vt(a.latitude),vt(l.latitude));return u!==0?u:je(vt(a.longitude),vt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xx(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,p,m;const y=a.fields||{},_=l.fields||{},T=(u=y[Yh])===null||u===void 0?void 0:u.arrayValue,b=(h=_[Yh])===null||h===void 0?void 0:h.arrayValue,S=je(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:xx(T,b)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===sh.mapValue&&l===sh.mapValue)return 0;if(a===sh.mapValue)return 1;if(l===sh.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=Tg(h[y],m[y]);if(_!==0)return _;const T=rl(u[h[y]],p[m[y]]);if(T!==0)return T}return je(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{Pe:n})}}function _x(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Cs(t),r=Cs(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function xx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=rl(n[i],r[i]);if(a)return a}return je(n.length,r.length)}function il(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return As(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Sg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Sg(n.fields[l])}`;return i+"}"}(t.mapValue):Ce(61005,{value:t})}function Eh(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+Eh(e):16;case 5:return 2*t.stringValue.length;case 6:return As(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Eh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fs(r.fields,(a,l)=>{i+=a.length+Eh(l)}),i}(t.mapValue);default:throw Ce(13486,{value:t})}}function Ex(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ig(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function Tx(t){return!!t&&"nullValue"in t}function Sx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function cV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jI])===null||n===void 0?void 0:n.stringValue)===FI}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=jc(l):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new In(jc(this.value))}}function UI(t){const e=[];return Fs(t.fields,(n,r)=>{const i=new Yt([n]);if(Th(r)){const a=UI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new on(e,0,Ne.min(),Ne.min(),Ne.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,Ne.min(),Ne.min(),In.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ne.min(),Ne.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function Ix(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),n.key):r=rl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function dV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{}class At extends BI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fV(e,n,r):n==="array-contains"?new gV(e,r):n==="in"?new yV(e,r):n==="not-in"?new vV(e,r):n==="array-contains-any"?new wV(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pV(e,r):new mV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends BI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Tr(e,n)}matches(e){return zI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function zI(t){return t.op==="and"}function $I(t){return hV(t)&&zI(t)}function hV(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function Cg(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+il(t.value);if($I(t))return t.filters.map(e=>Cg(e)).join(",");{const e=t.filters.map(n=>Cg(n)).join(",");return`${t.op}(${e})`}}function WI(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(t,e):t instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&WI(l,i.filters[u]),!0):!1}(t,e):void Ce(19439)}function HI(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(HI).join(" ,")+"}"}(t):"Filter"}class fV extends At{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class pV extends At{constructor(e,n){super(e,"in",n),this.keys=GI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mV extends At{constructor(e,n){super(e,"not-in",n),this.keys=GI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class gV extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fy(n)&&nu(n.arrayValue,this.value)}}class yV extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class vV extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class wV extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function Ax(t,e=null,n=[],r=[],i=null,a=null,l=null){return new _V(t,e,n,r,i,a,l)}function Uy(t){const e=De(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.Ie=n}return e.Ie}function By(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cx(t.startAt,e.startAt)&&Cx(t.endAt,e.endAt)}function Ag(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xV(t,e,n,r,i,a,l,u){return new wl(t,e,n,r,i,a,l,u)}function zy(t){return new wl(t)}function bx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qI(t){return t.collectionGroup!==null}function Fc(t){const e=De(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ot(Yt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ru(a,r))}),n.has(Yt.keyField().canonicalString())||e.Ee.push(new ru(Yt.keyField(),r))}return e.Ee}function Br(t){const e=De(t);return e.de||(e.de=EV(e,Fc(t))),e.de}function EV(t,e){if(t.limitType==="F")return Ax(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ru(i.field,a)});const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return Ax(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rg(t,e,n){return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tf(t,e){return By(Br(t),Br(e))&&t.limitType===e.limitType}function KI(t){return`${Uy(Br(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HI(i)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Fc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const p=Ix(l,u,h);return l.inclusive?p<=0:p<0}(r.startAt,Fc(r),i)||r.endAt&&!function(l,u,h){const p=Ix(l,u,h);return l.inclusive?p>=0:p>0}(r.endAt,Fc(r),i))}(t,e)}function TV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YI(t){return(e,n)=>{let r=!1;for(const i of Fc(t)){const a=SV(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function SV(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?rl(h,p):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return NI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new dt(Ee.comparator);function Si(){return IV}const QI=new dt(Ee.comparator);function Rc(...t){let e=QI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=QI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return Uc()}function JI(){return Uc()}function Uc(){return new Fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const CV=new dt(Ee.comparator),AV=new Ot(Ee.comparator);function ze(...t){let e=AV;for(const n of t)e=e.add(n);return e}const bV=new Ot(je);function RV(){return bV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function PV(t,e){return rV(e)?ZI(e):$y(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function kV(t,e,n){return t instanceof Xh?function(i,a){const l={fields:{[VI]:{stringValue:OI},[LI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&jy(a)&&(a=Ef(a)),a&&(l.fields[MI]=a),{mapValue:l}}(n,e):t instanceof iu?tC(t,e):t instanceof su?nC(t,e):function(i,a){const l=eC(i,a),u=Rx(l)+Rx(i.Re);return Ig(l)&&Ig(i.Re)?ZI(u):$y(i.serializer,u)}(t,e)}function NV(t,e,n){return t instanceof iu?tC(t,e):t instanceof su?nC(t,e):n}function eC(t,e){return t instanceof Jh?function(r){return Ig(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Xh extends If{}class iu extends If{constructor(e){super(),this.elements=e}}function tC(t,e){const n=rC(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class su extends If{constructor(e){super(),this.elements=e}}function nC(t,e){let n=rC(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Jh extends If{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Rx(t){return vt(t.integerValue||t.doubleValue)}function rC(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof iu&&i instanceof iu||r instanceof su&&i instanceof su?nl(r.elements,i.elements,Kr):r instanceof Jh&&i instanceof Jh?Kr(r.Re,i.Re):r instanceof Xh&&i instanceof Xh}(t.transform,e.transform)}class OV{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cf{}function iC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oC(t.key,xr.none()):new Ru(t.key,t.data,xr.none());{const n=t.data,r=In.empty();let i=new Ot(Yt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Us(t.key,r,new Vn(i.toArray()),xr.none())}}function VV(t,e,n){t instanceof Ru?function(i,a,l){const u=i.value.clone(),h=kx(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(i,a,l){if(!Sh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=kx(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(sC(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof Ru?function(a,l,u,h){if(!Sh(a.precondition,l))return u;const p=a.value.clone(),m=Nx(a.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Us?function(a,l,u,h){if(!Sh(a.precondition,l))return u;const p=Nx(a.fieldTransforms,h,l),m=l.data;return m.setAll(sC(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,u){return Sh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function MV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=eC(r.transform,i||null);a!=null&&(n===null&&(n=In.empty()),n.set(r.field,a))}return n||null}function Px(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(a,l)=>DV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends Cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Us extends Cf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kx(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,NV(l,u,n[i]))}return r}function Nx(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,kV(a,l,e))}return r}class oC extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LV extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VV(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const h=iC(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>Px(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>Px(n,r))}}class Wy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return CV}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Wy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ge;function BV(t){switch(t){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function aC(t){if(t===void 0)return Ti("GRPC error has no .code"),ee.UNKNOWN;switch(t){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ge=St||(St={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Es([4294967295,4294967295],0);function Dx(t){const e=RI().encode(t),n=new xI;return n.update(e),new Uint8Array(n.digest())}function Ox(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Es([n,r],0),new Es([i,a],0)]}class Hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Es.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Es.fromNumber(r)));return i.compare(zV)===1&&(i=new Es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Dx(e),[r,i]=Ox(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Hy(a,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=Dx(e),[r,i]=Ox(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(Ne.min(),i,new dt(je),Si(),ze())}}class Pu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class lC{constructor(e,n){this.targetId=e,this.Ce=n}}class cC{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Vx{constructor(){this.Fe=0,this.Me=Mx(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:a})}}),new Pu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Mx()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $V{constructor(e){this.ze=e,this.je=new Map,this.He=Si(),this.Je=oh(),this.Ye=oh(),this.Ze=new dt(je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(Ag(a))if(r===0){const l=new Ee(a.path);this.tt(n,l,on.newNoDocument(l,Ne.min()))}else Qe(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=As(r).toUint8Array()}catch(h){if(h instanceof DI)return tl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Hy(l,i,a)}catch(h){return tl(h instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&Ag(u.target)){const h=new Ee(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,on.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=ze();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new Af(e,n,this.Ze,this.He,r);return this.He=Si(),this.Je=oh(),this.Ye=oh(),this.Ze=new dt(je),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Vx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Vx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function oh(){return new dt(Ee.comparator)}function Mx(){return new dt(Ee.comparator)}const WV={asc:"ASCENDING",desc:"DESCENDING"},HV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GV={and:"AND",or:"OR"};class qV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KV(t,e){return Zh(t,e.toTimestamp())}function zr(t){return Qe(!!t,49232),Ne.fromTimestamp(function(n){const r=Cs(n);return new Dt(r.seconds,r.nanos)}(t))}function Gy(t,e){return kg(t,e).canonicalString()}function kg(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dC(t){const e=it.fromString(t);return Qe(gC(e),10190,{key:e.toString()}),e}function Ng(t,e){return Gy(t.databaseId,e.path)}function Mm(t,e){const n=dC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(fC(n))}function hC(t,e){return Gy(t.databaseId,e)}function YV(t){const e=dC(t);return e.length===4?it.emptyPath():fC(e)}function Dg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fC(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lx(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function QV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Qe(m===void 0||typeof m=="string",58123),Xt.fromBase64String(m||"")):(Qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?ee.UNKNOWN:aC(p.code);return new fe(m,p.message||"")}(l);n=new cC(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mm(t,r.document.name),a=zr(r.document.updateTime),l=r.document.createTime?zr(r.document.createTime):Ne.min(),u=new In({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(i,a,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Ih(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mm(t,r.document),a=r.readTime?zr(r.readTime):Ne.min(),l=on.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Ih([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mm(t,r.document),a=r.removedTargetIds||[];n=new Ih([],a,i,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new UV(i,a),u=r.targetId;n=new lC(u,l)}}return n}function XV(t,e){let n;if(e instanceof Ru)n={update:Lx(t,e.key,e.value)};else if(e instanceof oC)n={delete:Ng(t,e.key)};else if(e instanceof Us)n={update:Lx(t,e.key,e.data),updateMask:oM(e.fieldMask)};else{if(!(e instanceof LV))return Ce(16599,{ft:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Xh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof iu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof su)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jh)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Ce(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)}(t,e.precondition)),n}function JV(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?zr(i.updateTime):zr(a);return l.isEqual(Ne.min())&&(l=zr(a)),new OV(l,i.transformResults||[])}(n,e))):[]}function ZV(t,e){return{documents:[hC(t,e.path)]}}function eM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hC(t,i);const a=function(p){if(p.length!==0)return mC(Tr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:ja(_.field),direction:rM(_.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Pg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:i}}function tM(t){let e=YV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const _=pC(y);return _ instanceof Tr&&$I(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(b){return new ru(Fa(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,xf(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,T=y.values||[];return new Qh(T,_)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const _=!y.before,T=y.values||[];return new Qh(T,_)}(n.endAt)),xV(e,i,l,a,u,"F",h,p)}function nM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fa(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fa(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fa(n.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(r=>pC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function rM(t){return WV[t]}function iM(t){return HV[t]}function sM(t){return GV[t]}function ja(t){return{fieldPath:t.canonicalString()}}function Fa(t){return Yt.fromServerFormat(t.fieldPath)}function mC(t){return t instanceof At?function(n){if(n.op==="=="){if(Sx(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(Tx(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sx(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(Tx(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:iM(n.op),value:n.value}}}(t):t instanceof Tr?function(n){const r=n.getFilters().map(i=>mC(i));return r.length===1?r[0]:{compositeFilter:{op:sM(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function oM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,i,a=Ne.min(),l=Ne.min(),u=Xt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.wt=e}}function lM(t){const e=tM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Cn=new uM}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Is.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class uM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(it.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yC=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(yC,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sl(0)}static lr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="LruGarbageCollector",dM=1048576;function Ux([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class hM{constructor(e){this.Er=e,this.buffer=new Ot(Ux),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ux(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(Fx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?he(Fx,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.mr(3e5)})}}class pM{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(_f.le);const r=new hM(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(jx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,l,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),Ma()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function mM(t,e){return new pM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.changes=new Fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,Vn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=Eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Rc();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let a=Si();const l=Uc(),u=function(){return Uc()}();return n.forEach((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Us)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Bc(m.mutation,p,m.mutation.getFieldMask(),Dt.now())):l.set(p.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var y;return u.set(p,new yM(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Uc();let i=new dt((l,u)=>l-u),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||Vn.empty();m=u.applyToLocalView(p,m),r.set(h,m);const y=(i.get(u.batchId)||ze()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,y=JI();m.forEach(_=>{if(!a.has(_)){const T=iC(n.get(_),r.get(_));T!==null&&y.set(_,T),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(Eo());let u=Zc,h=a;return l.next(p=>te.forEach(p,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,ze())).next(m=>({batchId:u,changes:XI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Rc();return this.indexManager.getCollectionParents(e,a).next(u=>te.forEach(u,h=>{const p=function(y,_){return new wl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,on.newInvalidDocument(m)))});let u=Rc();return l.forEach((h,p)=>{const m=a.get(h);m!==void 0&&Bc(m.mutation,p,Vn.empty(),Dt.now()),Sf(n,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return te.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:lM(i.bundledQuery),readTime:zr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.overlays=new dt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return te.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Eo(),a=n.length+1,l=new Ee(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new dt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=Eo(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Eo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return te.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FV(n,r));let a=this.Qr.get(n);a===void 0&&(a=ze(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.$r=new Ot(zt.Ur),this.Kr=new Ot(zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new zt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new zt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ee(new it([])),r=new zt(n,e),i=new zt(n,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new it([])),r=new zt(n,e),i=new zt(n,e+1);let a=ze();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new zt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||je(e.Zr,n.Zr)}static Wr(e,n){return je(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(zt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jV(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new zt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ly:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);a.push(u)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(je);return n.forEach(i=>{const a=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],u=>{r=r.add(u.Zr)})}),te.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new zt(new Ee(a),0);let u=new Ot(je);return this.Xr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Zr)),!0)},l),te.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return te.forEach(n.mutations,i=>{const a=new zt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new zt(n,0),i=this.Xr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.ii=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():on.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Si();const l=n.path,u=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||ZO(JO(m),r)<=0||(i.has(m.key)||Sf(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}si(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SM(this)}getSize(e){return te.resolve(this.size)}}class SM extends gM{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.persistence=e,this.oi=new Fo(n=>Uy(n),By),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new qy,this.targetCount=0,this.ui=sl.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),te.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new sl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Tr(n),te.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.ci={},this.overlays={},this.li=new _f(0),this.hi=!1,this.hi=!0,this.Pi=new xM,this.referenceDelegate=e(this),this.Ti=new IM(this),this.indexManager=new cM,this.remoteDocumentCache=function(i){return new TM(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new aM(n),this.Ei=new wM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _M,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new EM(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new CM(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return te.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class CM extends tV{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Vi=new qy,this.mi=null}static fi(e){return new Ky(e)}get gi(){if(this.mi)return this.mi;throw Ce(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,r=>{const i=Ee.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,Ne.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return te.or([()=>te.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.yi=new Fo(r=>iV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mM(this,n)}static fi(e,n){return new ef(e,n)}di(){}Ai(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return te.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,n).next(u=>{u||(r++,a.removeEntry(l,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}Dr(e,n,r){return te.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ze(),i=ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oN()?8:nV(cn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new AM;return this.Ss(e,n,l).next(u=>{if(a.result=u,this.fs)return this.Ds(e,n,l,u.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ma()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(Ma()<=Be.DEBUG&&he("QueryEngine","Query:",La(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ma()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):te.resolve())}ws(e,n){if(bx(n))return te.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rg(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ze(...a);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.vs(n,u);return this.Cs(n,p,l,h.readTime)?this.ws(e,Rg(n,null,"F")):this.Fs(e,p,n,h)}))})))}bs(e,n,r,i){return bx(n)||i.isEqual(Ne.min())?te.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(n,a);return this.Cs(n,l,r,i)?te.resolve(null):(Ma()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(n)),this.Fs(e,l,n,XO(i,Zc)).next(u=>u))})}vs(e,n){let r=new Ot(YI(e));return n.forEach((i,a)=>{Sf(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Ma()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",La(n)),this.ys.getDocumentsMatchingQuery(e,n,Is.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",RM=3e8;class PM{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new dt(je),this.Os=new Fo(a=>Uy(a),By),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function kM(t,e,n,r){return new PM(t,e,n,r)}async function wC(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=ze();for(const p of i){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of a){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(p=>({ks:p,removedBatchIds:l,addedBatchIds:u}))})})}function NM(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,p,m){const y=p.batch,_=y.keys();let T=te.resolve();return _.forEach(b=>{T=T.next(()=>m.getEntry(h,b)).next(S=>{const C=p.docVersions.get(b);Qe(C!==null,48541),S.version.compareTo(C)<0&&(y.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=ze();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _C(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function DM(t,e){const n=De(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const u=[];e.targetChanges.forEach((m,y)=>{const _=i.get(y);if(!_)return;u.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,y)));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(y,T),function(S,C,N){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=RM?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,T,m)&&u.push(n.Ti.updateTargetData(a,T))});let h=Si(),p=ze();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(OM(a,l,e.documentUpdates).next(m=>{h=m.qs,p=m.Qs})),!r.isEqual(Ne.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(y=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return te.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.xs=i,a))}function OM(t,e,n){let r=ze(),i=ze();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Si();return n.forEach((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(Qy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function VM(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MM(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):n.Ti.allocateTargetId(r).next(l=>(i=new ps(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Og(t,e,n){const r=De(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!vl(l))throw l;he(Qy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Bx(t,e,n){const r=De(t);let i=Ne.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,m){const y=De(h),_=y.Os.get(m);return _!==void 0?te.resolve(y.xs.get(_)):y.Ti.getTargetData(p,m)}(r,l,Br(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?i:Ne.min(),n?a:ze())).next(u=>(LM(r,TV(e),u),{documents:u,$s:a})))}function LM(t,e,n){let r=t.Ns.get(e)||Ne.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class zx{constructor(){this.activeTargetIds=RV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(){this.xo=new zx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="ConnectivityMonitor";class Wx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he($x,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he($x,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Vg(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",UM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const l=Vg(),u=this.jo(e,n.toUriEncodedString());he(Lm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,a);const{host:p}=new URL(u),m=fl(p);return this.Jo(e,u,h,r,m).then(y=>(he(Lm,`Received RPC '${e}' ${l}: `,y),y),y=>{throw tl(Lm,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y})}Yo(e,n,r,i,a,l){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=UM[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class $M extends BM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Vg();return new Promise((u,h)=>{const p=new EI;p.setWithCredentials(!0),p.listenOnce(TI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const y=p.getResponseJson();he(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case xh.TIMEOUT:he(rn,`RPC '${e}' ${l} timed out`),h(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const _=p.getStatus();if(he(rn,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const S=function(N){const L=N.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(L)>=0?L:ee.UNKNOWN}(b.status);h(new fe(S,b.message))}else h(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{h_:e,streamId:l,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{he(rn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);he(rn,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",m,r,15)})}I_(e,n,r){const i=Vg(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CI(),u=II(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");he(rn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const y=l.createWebChannel(m,h);this.E_(y);let _=!1,T=!1;const b=new zM({Zo:C=>{T?he(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(he(rn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),_=!0),he(rn,`RPC '${e}' stream ${i} sending:`,C),y.send(C))},Xo:()=>y.close()}),S=(C,N,L)=>{C.listen(N,V=>{try{L(V)}catch(W){setTimeout(()=>{throw W},0)}})};return S(y,bc.EventType.OPEN,()=>{T||(he(rn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),S(y,bc.EventType.CLOSE,()=>{T||(T=!0,he(rn,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(y))}),S(y,bc.EventType.ERROR,C=>{T||(T=!0,tl(rn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),b.u_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),S(y,bc.EventType.MESSAGE,C=>{var N;if(!T){const L=C.data[0];Qe(!!L,16349);const V=L,W=(V==null?void 0:V.error)||((N=V[0])===null||N===void 0?void 0:N.error);if(W){he(rn,`RPC '${e}' stream ${i} received error:`,W);const q=W.status;let J=function(D){const j=St[D];if(j!==void 0)return aC(j)}(q),k=W.message;J===void 0&&(J=ee.INTERNAL,k="Unknown error status: "+q+" with message "+W.message),T=!0,b.u_(new fe(J,k)),y.close()}else he(rn,`RPC '${e}' stream ${i} received:`,L),b.c_(L)}}),S(u,SI.STAT_EVENT,C=>{C.stat===Eg.PROXY?he(rn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Eg.NOPROXY&&he(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return new qV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="PersistentStream";class EC{constructor(e,n,r,i,a,l,u,h){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new xC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(Hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(he(Hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WM extends EC{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=QV(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?zr(l.readTime):Ne.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=Ag(h)?{documents:ZV(a,h)}:{query:eM(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uC(a,l.resumeToken);const p=Pg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){u.readTime=Zh(a,l.snapshotVersion.toTimestamp());const p=Pg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=nM(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.Q_(n)}}class HM extends EC{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=JV(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Dg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{}class qM extends GM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,kg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,kg(n,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ee.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class KM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ti(n),this.ua=!1):he("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class YM{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Uo(this)&&(he(Do,"Restarting streams for network reachability change."),await async function(h){const p=De(h);p.da.add(4),await ku(p),p.Va.set("Unknown"),p.da.delete(4),await Rf(p)}(this))})}),this.Va=new KM(r,i)}}async function Rf(t){if(Uo(t))for(const e of t.Aa)await e(!0)}async function ku(t){for(const e of t.Aa)await e(!1)}function TC(t,e){const n=De(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ev(n)?Zy(n):_l(n).N_()&&Jy(n,e))}function Xy(t,e){const n=De(t),r=_l(n);n.Ea.delete(e),r.N_()&&SC(n,e),n.Ea.size===0&&(r.N_()?r.k_():Uo(n)&&n.Va.set("Unknown"))}function Jy(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Z_(e)}function SC(t,e){t.ma.Ke(e),_l(t).X_(e)}function Zy(t){t.ma=new $V({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Va.ca()}function ev(t){return Uo(t)&&!_l(t).O_()&&t.Ea.size>0}function Uo(t){return De(t).da.size===0}function IC(t){t.ma=void 0}async function QM(t){t.Va.set("Online")}async function XM(t){t.Ea.forEach((e,n)=>{Jy(t,e)})}async function JM(t,e){IC(t),ev(t)?(t.Va.Pa(e),Zy(t)):t.Va.set("Unknown")}async function ZM(t,e,n){if(t.Va.set("Online"),e instanceof cC&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(t,e)}catch(r){he(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tf(t,r)}else if(e instanceof Ih?t.ma.Xe(e):e instanceof lC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ne.min()))try{const r=await _C(t.localStore);n.compareTo(r)>=0&&await function(a,l){const u=a.ma.It(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ea.get(p);m&&a.Ea.set(p,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const m=a.Ea.get(h);if(!m)return;a.Ea.set(h,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),SC(a,h);const y=new ps(m.target,h,p,m.sequenceNumber);Jy(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){he(Do,"Failed to raise snapshot:",r),await tf(t,r)}}async function tf(t,e,n){if(!vl(e))throw e;t.da.add(1),await ku(t),t.Va.set("Offline"),n||(n=()=>_C(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Do,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Rf(t)})}function CC(t,e){return e().catch(n=>tf(t,n,e))}async function Pf(t){const e=De(t),n=Rs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ly;for(;eL(e);)try{const i=await VM(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,tL(e,i)}catch(i){await tf(e,i)}AC(e)&&bC(e)}function eL(t){return Uo(t)&&t.Ia.length<10}function tL(t,e){t.Ia.push(e);const n=Rs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function AC(t){return Uo(t)&&!Rs(t).O_()&&t.Ia.length>0}function bC(t){Rs(t).start()}async function nL(t){Rs(t).ia()}async function rL(t){const e=Rs(t);for(const n of t.Ia)e.ta(n.mutations)}async function iL(t,e,n){const r=t.Ia.shift(),i=Wy.from(r,e,n);await CC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pf(t)}async function sL(t,e){e&&Rs(t).ea&&await async function(r,i){if(function(l){return BV(l)&&l!==ee.ABORTED}(i.code)){const a=r.Ia.shift();Rs(r).L_(),await CC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Pf(r)}}(t,e),AC(t)&&bC(t)}async function Gx(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he(Do,"RemoteStore received new credentials");const r=Uo(n);n.da.add(3),await ku(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Rf(n)}async function oL(t,e){const n=De(t);e?(n.da.delete(2),await Rf(n)):e||(n.da.add(2),await ku(n),n.Va.set("Unknown"))}function _l(t){return t.fa||(t.fa=function(n,r,i){const a=De(n);return a.oa(),new WM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:QM.bind(null,t),n_:XM.bind(null,t),i_:JM.bind(null,t),Y_:ZM.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),ev(t)?Zy(t):t.Va.set("Unknown")):(await t.fa.stop(),IC(t))})),t.fa}function Rs(t){return t.ga||(t.ga=function(n,r,i){const a=De(n);return a.oa(),new HM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:nL.bind(null,t),i_:sL.bind(null,t),na:rL.bind(null,t),ra:iL.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Pf(t)):(await t.ga.stop(),t.Ia.length>0&&(he(Do,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new tv(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),vl(t))return new fe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.pa=new dt(Ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,i,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new ol(e,n,Ya.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class lL{constructor(){this.queries=Kx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=De(n),a=i.queries;i.queries=Kx(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(r)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function Kx(){return new Fo(t=>KI(t),Tf)}async function RC(t,e){const n=De(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new aL,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=nv(l,`Initialization of query '${La(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&rv(n)}async function PC(t,e){const n=De(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cL(t,e){const n=De(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&rv(n)}function uL(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function rv(t){t.Ca.forEach(e=>{e.next()})}var Mg,Yx;(Yx=Mg||(Mg={})).xa="default",Yx.Cache="cache";class kC{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.key=e}}class DC{constructor(e){this.key=e}}class dL{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=YI(e),this.Xa=new Ya(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new qx,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const _=i.get(m),T=Sf(this.query,y)?y:null,b=!!_&&this.mutatedKeys.has(_.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;_&&T?_.data.isEqual(T.data)?b!==S&&(r.track({type:3,doc:T}),C=!0):this.ru(_,T)||(r.track({type:2,doc:T}),C=!0,(h&&this.Za(T,h)>0||p&&this.Za(T,p)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),C=!0):_&&!T&&(r.track({type:1,doc:_}),C=!0,(h||p)&&(u=!0)),C&&(T?(l=l.add(T),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,y)=>function(T,b){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:C})}};return S(T)-S(b)}(m.type,y.type)||this.Za(m.doc,y.doc)),this.iu(r),i=i!=null&&i;const u=n&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,p=h!==this.Ja;return this.Ja=h,l.length!==0||p?{snapshot:new ol(this.query,e.Xa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new qx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new DC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new NC(r))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ol.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const iv="SyncEngine";class hL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fL{constructor(e){this.key=e,this.cu=!1}}class pL{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Fo(u=>KI(u),Tf),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(Ee.comparator),this.Eu=new Map,this.du=new qy,this.Au={},this.Ru=new Map,this.Vu=sl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mL(t,e,n=!0){const r=FC(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await OC(r,e,n,!0),i}async function gL(t,e){const n=FC(t);await OC(n,e,!0,!1)}async function OC(t,e,n,r){const i=await MM(t.localStore,Br(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await yL(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&TC(t.remoteStore,i),u}async function yL(t,e,n,r,i){t.fu=(y,_,T)=>async function(S,C,N,L){let V=C.view.tu(N);V.Cs&&(V=await Bx(S.localStore,C.query,!1).then(({documents:k})=>C.view.tu(k,V)));const W=L&&L.targetChanges.get(C.targetId),q=L&&L.targetMismatches.get(C.targetId)!=null,J=C.view.applyChanges(V,S.isPrimaryClient,W,q);return Xx(S,C.targetId,J.ou),J.snapshot}(t,y,_,T);const a=await Bx(t.localStore,e,!0),l=new dL(e,a.$s),u=l.tu(a.documents),h=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(u,t.isPrimaryClient,h);Xx(t,n,p.ou);const m=new hL(e,n,l);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function vL(t,e,n){const r=De(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!Tf(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Og(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xy(r.remoteStore,i.targetId),Lg(r,i.targetId)}).catch(yl)):(Lg(r,i.targetId),await Og(r.localStore,i.targetId,!0))}async function wL(t,e){const n=De(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(n.remoteStore,r.targetId))}async function _L(t,e,n){const r=AL(t);try{const i=await function(l,u){const h=De(l),p=Dt.now(),m=u.reduce((T,b)=>T.add(b.key),ze());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Si(),S=ze();return h.Bs.getEntries(T,m).next(C=>{b=C,b.forEach((N,L)=>{L.isValidDocument()||(S=S.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,b)).next(C=>{y=C;const N=[];for(const L of u){const V=MV(L,y.get(L.key).overlayedDocument);V!=null&&N.push(new Us(L.key,V,UI(V.value.mapValue),xr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,N,u)}).next(C=>{_=C;const N=C.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(T,C.batchId,N)})}).then(()=>({batchId:_.batchId,changes:XI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let p=l.Au[l.currentUser.toKey()];p||(p=new dt(je)),p=p.insert(u,h),l.Au[l.currentUser.toKey()]=p}(r,i.batchId,n),await Nu(r,i.changes),await Pf(r.remoteStore)}catch(i){const a=nv(i,"Failed to persist write");n.reject(a)}}async function VC(t,e){const n=De(t);try{const r=await DM(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Eu.get(a);l&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Qe(l.cu,14607):i.removedDocuments.size>0&&(Qe(l.cu,42227),l.cu=!1))}),await Nu(n,r,e)}catch(r){await yl(r)}}function Qx(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=De(l);h.onlineState=u;let p=!1;h.queries.forEach((m,y)=>{for(const _ of y.Sa)_.Fa(u)&&(p=!0)}),p&&rv(h)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xL(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new dt(Ee.comparator);l=l.insert(a,on.newNoDocument(a,Ne.min()));const u=ze().add(a),h=new Af(Ne.min(),new Map,new dt(je),l,u);await VC(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),sv(r)}else await Og(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(yl)}async function EL(t,e){const n=De(t),r=e.batch.batchId;try{const i=await NM(n.localStore,e);LC(n,r,null),MC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,i)}catch(i){await yl(i)}}async function TL(t,e,n){const r=De(t);try{const i=await function(l,u){const h=De(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next(y=>(Qe(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(p,y))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);LC(r,e,n),MC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,i)}catch(i){await yl(i)}}function MC(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function LC(t,e,n){const r=De(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||jC(t,r)})}function jC(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Xy(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),sv(t))}function Xx(t,e,n){for(const r of n)r instanceof NC?(t.du.addReference(r.key,e),SL(t,r)):r instanceof DC?(he(iv,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||jC(t,r.key)):Ce(19791,{pu:r})}function SL(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(he(iv,"New document in limbo: "+n),t.Tu.add(r),sv(t))}function sv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ee(it.fromString(e)),r=t.Vu.next();t.Eu.set(r,new fL(n)),t.Iu=t.Iu.insert(n,r),TC(t.remoteStore,new ps(Br(zy(n.path)),r,"TargetPurposeLimboResolution",_f.le))}}async function Nu(t,e,n){const r=De(t),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,h)=>{l.push(r.fu(h,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Yy.Rs(h.targetId,p);a.push(y)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(h,p){const m=De(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>te.forEach(p,_=>te.forEach(_.ds,T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>te.forEach(_.As,T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!vl(y))throw y;he(Qy,"Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const T=m.xs.get(_),b=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(b);m.xs=m.xs.insert(_,S)}}}(r.localStore,a))}async function IL(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he(iv,"User change. New user:",e.toKey());const r=await wC(n.localStore,e);n.currentUser=e,function(a,l){a.Ru.forEach(u=>{u.forEach(h=>{h.reject(new fe(ee.CANCELLED,l))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.ks)}}function CL(t,e){const n=De(t),r=n.Eu.get(e);if(r&&r.cu)return ze().add(r.key);{let i=ze();const a=n.Pu.get(e);if(!a)return i;for(const l of a){const u=n.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function FC(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xL.bind(null,e),e.lu.Y_=cL.bind(null,e.eventManager),e.lu.gu=uL.bind(null,e.eventManager),e}function AL(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TL.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return kM(this.persistence,new bM,e.initialUser,this.serializer)}Su(e){return new vC(Ky.fi,this.serializer)}bu(e){return new jM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class bL extends nf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Qe(this.persistence.referenceDelegate instanceof ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fM(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new vC(r=>ef.fi(r,n),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lL}()}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=function(a){return new $M(a)}(e.databaseInfo);return function(a,l,u,h){return new qM(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,u){return new YM(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Qx(this.syncEngine,n,0),function(){return Wx.C()?new Wx:new FM}())}createSyncEngine(e,n){return function(i,a,l,u,h,p,m){const y=new pL(i,a,l,u,h,p);return m&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=De(i);he(Do,"RemoteStore shutting down."),a.da.add(5),await ku(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class RL{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=PI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(Ps,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(Ps,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fm(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PL(t);he(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Gx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Gx(e.remoteStore,i)),t._onlineComponents=e}async function PL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ps,"Using user provided OfflineComponentProvider");try{await Fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Fm(t,new nf)}}else he(Ps,"Using default OfflineComponentProvider"),await Fm(t,new bL(void 0));return t._offlineComponents}async function BC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ps,"Using user provided OnlineComponentProvider"),await Jx(t,t._uninitializedComponentsProvider._online)):(he(Ps,"Using default OnlineComponentProvider"),await Jx(t,new jg))),t._onlineComponents}function kL(t){return BC(t).then(e=>e.syncEngine)}async function zC(t){const e=await BC(t),n=e.eventManager;return n.onListen=mL.bind(null,e.syncEngine),n.onUnlisten=vL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wL.bind(null,e.syncEngine),n}function NL(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const m=new UC({next:_=>{m.xu(),l.enqueueAndForget(()=>PC(a,y));const T=_.docs.has(u);!T&&_.fromCache?p.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new kC(zy(u.path),m,{includeMetadataChanges:!0,Qa:!0});return RC(a,y)}(await zC(t),t.asyncQueue,e,n,r)),r.promise}function DL(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const m=new UC({next:_=>{m.xu(),l.enqueueAndForget(()=>PC(a,y)),_.fromCache&&h.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new kC(u,m,{includeMetadataChanges:!0,Qa:!0});return RC(a,y)}(await zC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OL(t,e,n,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eE(t){if(!Ee.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(Ee.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firestore.googleapis.com",nE=!0;class rE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=nE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dM)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$C((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zO;switch(r.type){case"firstParty":return new GO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Zx.get(n);r&&(he("ComponentProvider","Removing Datastore"),Zx.delete(n),r.terminate())}(this),Promise.resolve()}}function VL(t,e,n,r={}){var i;t=Yr(t,Nf);const a=fl(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(DS(`https://${h}`),OS("Firestore",!0)),l.host!==HC&&l.host!==h&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:r});if(!bo(p,u)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=sn.MOCK_USER;else{m=Xk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(_)}t._authCredentials=new $O(new bI(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Ts extends Bo{constructor(e,n,r){super(e,n,zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ee(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function GC(t,e,...n){if(t=Vt(t),WC("collection","path",e),t instanceof Nf){const r=it.fromString(e,...n);return tE(r),new Ts(t,null,r)}{if(!(t instanceof mn||t instanceof Ts))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return tE(r),new Ts(t.firestore,null,r)}}function Df(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=PI.newId()),WC("doc","path",e),t instanceof Nf){const r=it.fromString(e,...n);return eE(r),new mn(t,null,new Ee(r))}{if(!(t instanceof mn||t instanceof Ts))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return eE(r),new mn(t.firestore,t instanceof Ts?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new xC(this,"async_queue_retry"),this.rc=()=>{const r=jm();r&&he(iE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new _i;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vl(e))throw e;he(iE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ti("INTERNAL UNHANDLED ERROR: ",oE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=tv.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Ce(47125,{cc:oE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function oE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xl extends Nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function ML(t,e){const n=typeof t=="object"?t:jS(),r=typeof t=="string"?t:Kh,i=Ay(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Yk("firestore");a&&VL(i,...a)}return i}function ov(t){if(t._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LL(t),t._firestoreClient}function LL(t){var e,n,r;const i=t._freezeSettings(),a=function(u,h,p,m){return new aV(u,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$C(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(Xt.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new al(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class qC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ic:t})}}class uv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return rf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KC(this.Ic)&&jL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class UL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}bc(e,n,r,i=!1){return new uv({Ic:e,methodName:n,wc:r,path:Yt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vf(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new UL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YC(t,e,n,r,i,a={}){const l=t.bc(a.merge||a.mergeFields?2:0,e,n,i);dv("Data must be an object, but it was:",l,r);const u=QC(r,l);let h,p;if(a.merge)h=new Vn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const _=Fg(e,y,n);if(!l.contains(_))throw new fe(ee.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);JC(m,_)||m.push(_)}h=new Vn(m),p=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,p=l.fieldTransforms;return new FL(new In(u),h,p)}class Mf extends av{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function BL(t,e,n,r){const i=t.bc(1,e,n);dv("Data must be an object, but it was:",i,r);const a=[],l=In.empty();Fs(r,(h,p)=>{const m=hv(e,h,n);p=Vt(p);const y=i.mc(m);if(p instanceof Mf)a.push(m);else{const _=Du(p,y);_!=null&&(a.push(m),l.set(m,_))}});const u=new Vn(a);return new qC(l,u,i.fieldTransforms)}function zL(t,e,n,r,i,a){const l=t.bc(1,e,n),u=[Fg(e,r,n)],h=[i];if(a.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(Fg(e,a[_])),h.push(a[_+1]);const p=[],m=In.empty();for(let _=u.length-1;_>=0;--_)if(!JC(p,u[_])){const T=u[_];let b=h[_];b=Vt(b);const S=l.mc(T);if(b instanceof Mf)p.push(T);else{const C=Du(b,S);C!=null&&(p.push(T),m.set(T,C))}}const y=new Vn(p);return new qC(m,y,l.fieldTransforms)}function $L(t,e,n,r=!1){return Du(n,t.bc(r?4:3,e))}function Du(t,e){if(XC(t=Vt(t)))return dv("Unsupported field value:",e,t),QC(t,e);if(t instanceof av)return function(r,i){if(!KC(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let h=Du(u,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:Zh(i.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,a)}}if(r instanceof lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:uC(i.serializer,r._byteString)};if(r instanceof mn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cv)return function(l,u){return{mapValue:{fields:{[jI]:{stringValue:FI},[Yh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.gc("VectorValues must only contain numeric values.");return $y(u.serializer,p)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${kf(r)}`)}(t,e)}function QC(t,e){const n={};return NI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(t,(r,i)=>{const a=Du(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof lv||t instanceof al||t instanceof mn||t instanceof av||t instanceof cv)}function dv(t,e,n){if(!XC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Fg(t,e,n){if((e=Vt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return hv(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const WL=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(WL)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new fe(ee.INVALID_ARGUMENT,u+t+h)}function JC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HL extends ZC{data(){return super.data()}}function Lf(t,e){return typeof e=="string"?hv(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class e1 extends fv{}function qL(t,e,...n){let r=[];e instanceof fv&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof pv).length,u=a.filter(h=>h instanceof jf).length;if(l>1||l>0&&u>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jf extends e1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jf(e,n,r)}_apply(e){const n=this._parse(e);return t1(e._query,n),new Bo(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=Vf(e.firestore);return function(a,l,u,h,p,m,y){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){lE(y,m);const b=[];for(const S of y)b.push(aE(h,a,S));_={arrayValue:{values:b}}}else _=aE(h,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||lE(y,m),_=$L(u,l,y,m==="in"||m==="not-in");return At.create(p,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KL(t,e,n){const r=e,i=Lf("where",t);return jf._create(i,r,n)}class pv extends fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)t1(l,h),l=bg(l,h)}(e._query,n),new Bo(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends e1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mv(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,l)}(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new wl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YL(t,e="asc"){const n=e,r=Lf("orderBy",t);return mv._create(r,n)}function aE(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!Ee.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ex(t,new Ee(r))}if(n instanceof mn)return Ex(t,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t1(t,e){const n=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QL{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Yh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>vt(l.doubleValue));return new cv(a)}convertGeoPoint(e){return new lv(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Qe(gC(r),9688,{name:e});const i=new tu(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(n)||Ti(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r1 extends ZC{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends r1{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new Ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Ch(i._firestore,i._userDataWriter,u.doc.key,u.doc,new kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:JL(u.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){t=Yr(t,mn);const e=Yr(t.firestore,xl);return NL(ov(e),t._key).then(n=>ij(e,t,n))}class i1 extends QL{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function ej(t){t=Yr(t,Bo);const e=Yr(t.firestore,xl),n=ov(e),r=new i1(e);return GL(t._query),DL(n,t._query).then(i=>new XL(e,r,t,i))}function tj(t,e,n){t=Yr(t,mn);const r=Yr(t.firestore,xl),i=n1(t.converter,e);return gv(r,[YC(Vf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xr.none())])}function nj(t,e,n,...r){t=Yr(t,mn);const i=Yr(t.firestore,xl),a=Vf(i);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Of?zL(a,"updateDoc",t._key,e,n,r):BL(a,"updateDoc",t._key,e),gv(i,[l.toMutation(t._key,xr.exists(!0))])}function rj(t,e){const n=Yr(t.firestore,xl),r=Df(t),i=n1(t.converter,e);return gv(n,[YC(Vf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function gv(t,e){return function(r,i){const a=new _i;return r.asyncQueue.enqueueAndForget(async()=>_L(await kL(r),i,a)),a.promise}(ov(t),e)}function ij(t,e,n){const r=n.docs.get(e._key),i=new i1(t);return new r1(t,i,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gl=i})(pl),Za(new Ro("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new xl(new WO(r.getProvider("auth-internal")),new qO(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),xs(ux,dx,e),xs(ux,dx,"esm2017")})();var sj="firebase",oj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(sj,oj,"app");const aj={apiKey:"demo-api-key",authDomain:"ai-nil-navigator-demo.firebaseapp.com",projectId:"ai-nil-navigator-demo",storageBucket:"ai-nil-navigator-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo123456"},s1=LS(aj),lh=UO(s1),ou=ML(s1),o1=A.createContext(void 0);function El(){const t=A.useContext(o1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function lj({children:t}){const[e,n]=A.useState(null),[r,i]=A.useState(!0);async function a(p,m,y,_){const b=(await E2(lh,p,m)).user;await I2(b,{displayName:`${y} ${_}`}),await tj(Df(ou,"users",b.uid),{firstName:y,lastName:_,email:p,createdAt:new Date,hasCompletedProfile:!1})}async function l(p,m){await T2(lh,p,m)}async function u(){await R2(lh)}A.useEffect(()=>b2(lh,m=>{n(m),i(!1)}),[]);const h={currentUser:e,signup:a,login:l,logout:u,loading:r};return x.jsx(o1.Provider,{value:h,children:!r&&t})}function cE({children:t}){const{currentUser:e}=El();return e?x.jsx(x.Fragment,{children:t}):x.jsx(CS,{to:"/login"})}const a1=A.createContext({});function cj(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const yv=typeof window<"u",uj=yv?A.useLayoutEffect:A.useEffect,vv=A.createContext(null);function wv(t,e){t.indexOf(e)===-1&&t.push(e)}function _v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ii=(t,e,n)=>n>e?e:n<t?t:n;let xv=()=>{};const Ci={},l1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function c1(t){return typeof t=="object"&&t!==null}const u1=t=>/^0[^.\s]+$/u.test(t);function Ev(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zn=t=>t,dj=(t,e)=>n=>e(t(n)),Ou=(...t)=>t.reduce(dj),au=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Tv{constructor(){this.subscriptions=[]}add(e){return wv(this.subscriptions,e),()=>_v(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $r=t=>t*1e3,Wr=t=>t/1e3;function d1(t,e){return e?t*(1e3/e):0}const h1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hj=1e-7,fj=12;function pj(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=h1(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>hj&&++u<fj);return l}function Vu(t,e,n,r){if(t===e&&n===r)return Zn;const i=a=>pj(a,0,1,t,n);return a=>a===0||a===1?a:h1(i(a),e,r)}const f1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p1=t=>e=>1-t(1-e),m1=Vu(.33,1.53,.69,.99),Sv=p1(m1),g1=f1(Sv),y1=t=>(t*=2)<1?.5*Sv(t):.5*(2-Math.pow(2,-10*(t-1))),Iv=t=>1-Math.sin(Math.acos(t)),v1=p1(Iv),w1=f1(Iv),mj=Vu(.42,0,1,1),gj=Vu(0,0,.58,1),_1=Vu(.42,0,.58,1),yj=t=>Array.isArray(t)&&typeof t[0]!="number",x1=t=>Array.isArray(t)&&typeof t[0]=="number",vj={linear:Zn,easeIn:mj,easeInOut:_1,easeOut:gj,circIn:Iv,circInOut:w1,circOut:v1,backIn:Sv,backInOut:g1,backOut:m1,anticipate:y1},wj=t=>typeof t=="string",uE=t=>{if(x1(t)){xv(t.length===4);const[e,n,r,i]=t;return Vu(e,n,r,i)}else if(wj(t))return vj[t];return t},ch=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],dE={value:null};function _j(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function p(y){l.has(y)&&(m.schedule(y),t()),h++,y(u)}const m={schedule:(y,_=!1,T=!1)=>{const S=T&&i?n:r;return _&&l.add(y),S.has(y)||S.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(u=y,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&dE.value&&dE.value.frameloop[e].push(h),h=0,n.clear(),i=!1,a&&(a=!1,m.process(y))}};return m}const xj=40;function E1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ch.reduce((V,W)=>(V[W]=_j(a,e?W:void 0),V),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:_,render:T,postRender:b}=l,S=()=>{const V=Ci.useManualTiming?i.timestamp:performance.now();n=!1,Ci.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(V-i.timestamp,xj),1)),i.timestamp=V,i.isProcessing=!0,u.process(i),h.process(i),p.process(i),m.process(i),y.process(i),_.process(i),T.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:ch.reduce((V,W)=>{const q=l[W];return V[W]=(J,k=!1,R=!1)=>(n||C(),q.schedule(J,k,R)),V},{}),cancel:V=>{for(let W=0;W<ch.length;W++)l[ch[W]].cancel(V)},state:i,steps:l}}const{schedule:ut,cancel:ks,state:qt,steps:Um}=E1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let Ah;function Ej(){Ah=void 0}const Cn={now:()=>(Ah===void 0&&Cn.set(qt.isProcessing||Ci.useManualTiming?qt.timestamp:performance.now()),Ah),set:t=>{Ah=t,queueMicrotask(Ej)}},T1=t=>e=>typeof e=="string"&&e.startsWith(t),Cv=T1("--"),Tj=T1("var(--"),Av=t=>Tj(t)?Sj.test(t.split("/*")[0].trim()):!1,Sj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Tl,transform:t=>Ii(0,1,t)},uh={...Tl,default:1},zc=t=>Math.round(t*1e5)/1e5,bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ij(t){return t==null}const Cj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rv=(t,e)=>n=>!!(typeof n=="string"&&Cj.test(n)&&n.startsWith(t)||e&&!Ij(n)&&Object.prototype.hasOwnProperty.call(n,e)),S1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,u]=r.match(bv);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Aj=t=>Ii(0,255,t),Bm={...Tl,transform:t=>Math.round(Aj(t))},To={test:Rv("rgb","red"),parse:S1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bm.transform(t)+", "+Bm.transform(e)+", "+Bm.transform(n)+", "+zc(lu.transform(r))+")"};function bj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ug={test:Rv("#"),parse:bj,transform:To.transform},Mu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=Mu("deg"),Hr=Mu("%"),be=Mu("px"),Rj=Mu("vh"),Pj=Mu("vw"),hE={...Hr,parse:t=>Hr.parse(t)/100,transform:t=>Hr.transform(t*100)},Ba={test:Rv("hsl","hue"),parse:S1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hr.transform(zc(e))+", "+Hr.transform(zc(n))+", "+zc(lu.transform(r))+")"},It={test:t=>To.test(t)||Ug.test(t)||Ba.test(t),parse:t=>To.test(t)?To.parse(t):Ba.test(t)?Ba.parse(t):Ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?To.transform(t):Ba.transform(t),getAnimatableNone:t=>{const e=It.parse(t);return e.alpha=0,It.transform(e)}},kj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bv))==null?void 0:e.length)||0)+(((n=t.match(kj))==null?void 0:n.length)||0)>0}const I1="number",C1="color",Dj="var",Oj="var(",fE="${}",Vj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(Vj,h=>(It.test(h)?(r.color.push(a),i.push(C1),n.push(It.parse(h))):h.startsWith(Oj)?(r.var.push(a),i.push(Dj),n.push(h)):(r.number.push(a),i.push(I1),n.push(parseFloat(h))),++a,fE)).split(fE);return{values:n,split:u,indexes:r,types:i}}function A1(t){return cu(t).values}function b1(t){const{split:e,types:n}=cu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const u=n[l];u===I1?a+=zc(i[l]):u===C1?a+=It.transform(i[l]):a+=i[l]}return a}}const Mj=t=>typeof t=="number"?0:It.test(t)?It.getAnimatableNone(t):t;function Lj(t){const e=A1(t);return b1(t)(e.map(Mj))}const Ns={test:Nj,parse:A1,createTransformer:b1,getAnimatableNone:Lj};function zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=zm(h,u,t+1/3),a=zm(h,u,t),l=zm(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sf(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,$m=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Fj=[Ug,To,Ba],Uj=t=>Fj.find(e=>e.test(t));function pE(t){const e=Uj(t);if(!e)return!1;let n=e.parse(t);return e===Ba&&(n=jj(n)),n}const mE=(t,e)=>{const n=pE(t),r=pE(e);if(!n||!r)return sf(t,e);const i={...n};return a=>(i.red=$m(n.red,r.red,a),i.green=$m(n.green,r.green,a),i.blue=$m(n.blue,r.blue,a),i.alpha=ct(n.alpha,r.alpha,a),To.transform(i))},Bg=new Set(["none","hidden"]);function Bj(t,e){return Bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zj(t,e){return n=>ct(t,e,n)}function Pv(t){return typeof t=="number"?zj:typeof t=="string"?Av(t)?sf:It.test(t)?mE:Hj:Array.isArray(t)?R1:typeof t=="object"?It.test(t)?mE:$j:sf}function R1(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Pv(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function $j(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Pv(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Wj(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],u=t.values[l]??0;n[i]=u,r[a]++}return n}const Hj=(t,e)=>{const n=Ns.createTransformer(e),r=cu(t),i=cu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Bg.has(t)&&!i.values.length||Bg.has(e)&&!r.values.length?Bj(t,e):Ou(R1(Wj(r,i),i.values),n):sf(t,e)};function P1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):Pv(t)(t,e)}const Gj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>ks(e),now:()=>qt.isProcessing?qt.timestamp:Cn.now()}},k1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},of=2e4;function kv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<of;)e+=n,r=t.next(e);return e>=of?1/0:e}function qj(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(kv(r),of);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Wr(i)}}const Kj=5;function N1(t,e,n){const r=Math.max(e-Kj,0);return d1(n-t(r),e-r)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gE=.001;function Yj({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:r=pt.mass}){let i,a,l=1-e;l=Ii(pt.minDamping,pt.maxDamping,l),t=Ii(pt.minDuration,pt.maxDuration,Wr(t)),l<1?(i=p=>{const m=p*l,y=m*t,_=m-n,T=zg(p,l),b=Math.exp(-y);return gE-_/T*b},a=p=>{const y=p*l*t,_=y*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,b=Math.exp(-y),S=zg(Math.pow(p,2),l);return(-i(p)+gE>0?-1:1)*((_-T)*b)/S}):(i=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-.001+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,h=Xj(i,a,u);if(t=$r(t),isNaN(h))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const Qj=12;function Xj(t,e,n){let r=n;for(let i=1;i<Qj;i++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const Jj=["duration","bounce"],Zj=["stiffness","damping","mass"];function yE(t,e){return e.some(n=>t[n]!==void 0)}function e4(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!yE(t,Zj)&&yE(t,Jj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ii(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:pt.mass,stiffness:i,damping:a}}else{const n=Yj(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function af(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:y,velocity:_,isResolvedFromDuration:T}=e4({...n,velocity:-Wr(n.velocity||0)}),b=_||0,S=p/(2*Math.sqrt(h*m)),C=l-a,N=Wr(Math.sqrt(h/m)),L=Math.abs(C)<5;r||(r=L?pt.restSpeed.granular:pt.restSpeed.default),i||(i=L?pt.restDelta.granular:pt.restDelta.default);let V;if(S<1){const q=zg(N,S);V=J=>{const k=Math.exp(-S*N*J);return l-k*((b+S*N*C)/q*Math.sin(q*J)+C*Math.cos(q*J))}}else if(S===1)V=q=>l-Math.exp(-N*q)*(C+(b+N*C)*q);else{const q=N*Math.sqrt(S*S-1);V=J=>{const k=Math.exp(-S*N*J),R=Math.min(q*J,300);return l-k*((b+S*N*C)*Math.sinh(R)+q*C*Math.cosh(R))/q}}const W={calculatedDuration:T&&y||null,next:q=>{const J=V(q);if(T)u.done=q>=y;else{let k=q===0?b:0;S<1&&(k=q===0?$r(b):N1(V,q,J));const R=Math.abs(k)<=r,D=Math.abs(l-J)<=i;u.done=R&&D}return u.value=u.done?l:J,u},toString:()=>{const q=Math.min(kv(W),of),J=k1(k=>W.next(q*k).value,q,30);return q+"ms "+J},toTransition:()=>{}};return W}af.applyToOptions=t=>{const e=qj(t,100,af);return t.ease=e.ease,t.duration=$r(e.duration),t.type="keyframes",t};function $g({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},T=R=>u!==void 0&&R<u||h!==void 0&&R>h,b=R=>u===void 0?h:h===void 0||Math.abs(u-R)<Math.abs(h-R)?u:h;let S=n*e;const C=y+S,N=l===void 0?C:l(C);N!==C&&(S=N-y);const L=R=>-S*Math.exp(-R/r),V=R=>N+L(R),W=R=>{const D=L(R),j=V(R);_.done=Math.abs(D)<=p,_.value=_.done?N:j};let q,J;const k=R=>{T(_.value)&&(q=R,J=af({keyframes:[_.value,b(_.value)],velocity:N1(V,R,_.value),damping:i,stiffness:a,restDelta:p,restSpeed:m}))};return k(0),{calculatedDuration:null,next:R=>{let D=!1;return!J&&q===void 0&&(D=!0,W(R),k(R)),q!==void 0&&R>=q?J.next(R-q):(!D&&W(R),_)}}}function t4(t,e,n){const r=[],i=n||Ci.mix||P1,a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Zn:e;u=Ou(h,u)}r.push(u)}return r}function n4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(xv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=t4(e,r,i),h=u.length,p=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=au(t[y],t[y+1],m);return u[y](_)};return n?m=>p(Ii(t[0],t[a-1],m)):p}function r4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=au(0,e,r);t.push(ct(n,1,i))}}function i4(t){const e=[0];return r4(e,t.length-1),e}function s4(t,e){return t.map(n=>n*e)}function o4(t,e){return t.map(()=>e||_1).splice(0,t.length-1)}function $c({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yj(r)?r.map(uE):uE(r),a={done:!1,value:e[0]},l=s4(n&&n.length===e.length?n:i4(e),t),u=n4(l,e,{ease:Array.isArray(i)?i:o4(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const a4=t=>t!==null;function Nv(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(a4),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const l4={decay:$g,inertia:$g,tween:$c,keyframes:$c,spring:af};function D1(t){typeof t.type=="string"&&(t.type=l4[t.type])}class Dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const c4=t=>t/100;class Ov extends Dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;D1(e);const{type:n=$c,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||$c;h!==$c&&typeof u[0]!="number"&&(this.mixKeyframes=Ou(c4,P1(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=kv(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:_,repeatDelay:T,type:b,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-p*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let V=this.currentTime,W=r;if(y){const R=Math.min(this.currentTime,i)/u;let D=Math.floor(R),j=R%1;!j&&R>=1&&(j=1),j===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(_==="reverse"?(j=1-j,T&&(j-=T/u)):_==="mirror"&&(W=l)),V=Ii(0,1,j)*u}const q=L?{done:!1,value:m[0]}:W.next(V);a&&(q.value=a(q.value));let{done:J}=q;!L&&h!==null&&(J=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return k&&b!==$g&&(q.value=Nv(m,this.options,C,this.speed)),S&&S(q.value),k&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Wr(this.calculatedDuration)}get time(){return Wr(this.currentTime)}set time(e){var n;e=$r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=Gj,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function u4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const So=t=>t*180/Math.PI,Wg=t=>{const e=So(Math.atan2(t[1],t[0]));return Hg(e)},d4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wg,rotateZ:Wg,skewX:t=>So(Math.atan(t[1])),skewY:t=>So(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hg=t=>(t=t%360,t<0&&(t+=360),t),vE=Wg,wE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_E=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),h4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wE,scaleY:_E,scale:t=>(wE(t)+_E(t))/2,rotateX:t=>Hg(So(Math.atan2(t[6],t[5]))),rotateY:t=>Hg(So(Math.atan2(-t[2],t[0]))),rotateZ:vE,rotate:vE,skewX:t=>So(Math.atan(t[4])),skewY:t=>So(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gg(t){return t.includes("scale")?1:0}function qg(t,e){if(!t||t==="none")return Gg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=h4,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=d4,i=u}if(!i)return Gg(e);const a=r[e],l=i[1].split(",").map(p4);return typeof a=="function"?a(l):l[a]}const f4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qg(n,e)};function p4(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Sl),xE=t=>t===Tl||t===be,m4=new Set(["x","y","z"]),g4=Sl.filter(t=>!m4.has(t));function y4(t){const e=[];return g4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qg(e,"x"),y:(t,{transform:e})=>qg(e,"y")};Co.translateX=Co.x;Co.translateY=Co.y;const Ao=new Set;let Kg=!1,Yg=!1,Qg=!1;function O1(){if(Yg){const t=Array.from(Ao).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=y4(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yg=!1,Kg=!1,Ao.forEach(t=>t.complete(Qg)),Ao.clear()}function V1(){Ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yg=!0)})}function v4(){Qg=!0,V1(),O1(),Qg=!1}class Vv{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ao.add(this),Kg||(Kg=!0,ut.read(V1),ut.resolveKeyframes(O1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}u4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ao.delete(this)}cancel(){this.state==="scheduled"&&(Ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const w4=t=>t.startsWith("--");function _4(t,e,n){w4(e)?t.style.setProperty(e,n):t.style[e]=n}const x4=Ev(()=>window.ScrollTimeline!==void 0),E4={};function T4(t,e){const n=Ev(t);return()=>E4[e]??n()}const M1=T4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function L1(t,e){if(t)return typeof t=="function"?M1()?k1(t,e):"ease-out":x1(t)?Nc(t):Array.isArray(t)?t.map(n=>L1(n,e)||EE.easeOut):EE[t]}function S4(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const y=L1(u,i);Array.isArray(y)&&(m.easing=y);const _={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(m,_)}function j1(t){return typeof t=="function"&&"applyToOptions"in t}function I4({type:t,...e}){return j1(t)&&M1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C4 extends Dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,xv(typeof e.type!="string");const p=I4(e);this.animation=S4(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Nv(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):_4(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wr(Number(e))}get time(){return Wr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&x4()?(this.animation.timeline=e,Zn):n(this)}}const F1={anticipate:y1,backInOut:g1,circInOut:w1};function A4(t){return t in F1}function b4(t){typeof t.ease=="string"&&A4(t.ease)&&(t.ease=F1[t.ease])}const TE=10;class R4 extends C4{constructor(e){b4(e),D1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Ov({...l,autoplay:!1}),h=$r(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-TE).value,u.sample(h).value,TE),u.stop()}}const SE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ns.test(t)||t==="0")&&!t.startsWith("url("));function P4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function k4(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=SE(i,e),u=SE(a,e);return!l||!u?!1:P4(t)||(n==="spring"||j1(n))&&r}function U1(t){return c1(t)&&"offsetHeight"in t}const N4=new Set(["opacity","clipPath","filter","transform"]),D4=Ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O4(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!U1((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return D4()&&n&&N4.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const V4=40;class M4 extends Dv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:m,...y}){var b;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Cn.now();const _={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:m,...y},T=(m==null?void 0:m.KeyframeResolver)||Vv;this.keyframeResolver=new T(u,(S,C,N)=>this.onKeyframesResolved(S,C,_,!N),h,p,m),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:m}=r;this.resolvedAt=Cn.now(),k4(e,a,l,u)||((Ci.instantAnimations||!h)&&(m==null||m(Nv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const _={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>V4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&O4(_)?new R4({..._,element:_.motionValue.owner.current}):new Ov(_);T.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),v4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const L4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j4(t){const e=L4.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function B1(t,e,n=1){const[r,i]=j4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return l1(l)?parseFloat(l):l}return Av(i)?B1(i,e,n+1):i}function Mv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const z1=new Set(["width","height","top","left","right","bottom",...Sl]),F4={test:t=>t==="auto",parse:t=>t},$1=t=>e=>e.test(t),W1=[Tl,be,Hr,ss,Pj,Rj,F4],IE=t=>W1.find($1(t));function U4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||u1(t):!0}const B4=new Set(["brightness","contrast","saturate","opacity"]);function z4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bv)||[];if(!r)return t;const i=n.replace(r,"");let a=B4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const $4=/\b([a-z-]*)\(.*?\)/gu,Xg={...Ns,getAnimatableNone:t=>{const e=t.match($4);return e?e.map(z4).join(" "):t}},CE={...Tl,transform:Math.round},W4={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:ss,skewX:ss,skewY:ss,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:lu,originX:hE,originY:hE,originZ:be},Lv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...W4,zIndex:CE,fillOpacity:lu,strokeOpacity:lu,numOctaves:CE},H4={...Lv,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:Xg,WebkitFilter:Xg},H1=t=>H4[t];function G1(t,e){let n=H1(t);return n!==Xg&&(n=Ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G4=new Set(["auto","none","0"]);function q4(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!G4.has(a)&&cu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=G1(n,i)}class K4 extends Vv{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Av(p))){const m=B1(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!z1.has(r)||e.length!==2)return;const[i,a]=e,l=IE(i),u=IE(a);if(l!==u)if(xE(l)&&xE(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||U4(e[i]))&&r.push(i);r.length&&q4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function Y4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const q1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,AE=30,Q4=t=>!isNaN(parseFloat(t));class X4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,u;const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AE);return d1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(t,e){return new X4(t,e)}const{schedule:jv}=E1(queueMicrotask,!1),vr={x:!1,y:!1};function K1(){return vr.x||vr.y}function J4(t){return t==="x"||t==="y"?vr[t]?null:(vr[t]=!0,()=>{vr[t]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function Y1(t,e){const n=Y4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function bE(t){return!(t.pointerType==="touch"||K1())}function Z4(t,e,n={}){const[r,i,a]=Y1(t,n),l=u=>{if(!bE(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=y=>{bE(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),a}const Q1=(t,e)=>e?t===e?!0:Q1(t,e.parentElement):!1,Fv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tF(t){return eF.has(t.tagName)||t.tabIndex!==-1}const bh=new WeakSet;function RE(t){return e=>{e.key==="Enter"&&t(e)}}function Wm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=RE(()=>{if(bh.has(n))return;Wm(n,"down");const i=RE(()=>{Wm(n,"up")}),a=()=>Wm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function PE(t){return Fv(t)&&!K1()}function rF(t,e,n={}){const[r,i,a]=Y1(t,n),l=u=>{const h=u.currentTarget;if(!PE(u))return;bh.add(h);const p=e(h,u),m=(T,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),bh.has(h)&&bh.delete(h),PE(T)&&typeof p=="function"&&p(T,{success:b})},y=T=>{m(T,h===window||h===document||n.useGlobalTarget||Q1(h,T.target))},_=T=>{m(T,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),U1(u)&&(u.addEventListener("focus",p=>nF(p,i)),!tF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function X1(t){return c1(t)&&"ownerSVGElement"in t}function iF(t){return X1(t)&&t.tagName==="svg"}const ln=t=>!!(t&&t.getVelocity),sF=[...W1,It,Ns],oF=t=>sF.find($1(t)),J1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function aF(t=!0){const e=A.useContext(vv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=A.useId();A.useEffect(()=>{if(t)return i(a)},[t]);const l=A.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Z1=A.createContext({strict:!1}),kE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in kE)cl[t]={isEnabled:e=>kE[t].some(n=>!!e[n])};function lF(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const cF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cF.has(t)}let eA=t=>!lf(t);function uF(t){typeof t=="function"&&(eA=e=>e.startsWith("on")?!lf(e):t(e))}try{uF(require("@emotion/is-prop-valid").default)}catch{}function dF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(eA(i)||n===!0&&lf(i)||!e&&!lf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function hF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ff=A.createContext({});function Uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uu(t){return typeof t=="string"||Array.isArray(t)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bv=["initial",...Uv];function Bf(t){return Uf(t.animate)||Bv.some(e=>uu(t[e]))}function tA(t){return!!(Bf(t)||t.variants)}function fF(t,e){if(Bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uu(n)?n:void 0,animate:uu(r)?r:void 0}}return t.inherit!==!1?e:{}}function pF(t){const{initial:e,animate:n}=fF(t,A.useContext(Ff));return A.useMemo(()=>({initial:e,animate:n}),[NE(e),NE(n)])}function NE(t){return Array.isArray(t)?t.join(" "):t}const mF=Symbol.for("motionComponentSymbol");function za(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gF(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):za(n)&&(n.current=r))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yF="framerAppearId",nA="data-"+zv(yF),rA=A.createContext({});function vF(t,e,n,r,i){var S,C;const{visualElement:a}=A.useContext(Ff),l=A.useContext(Z1),u=A.useContext(vv),h=A.useContext(J1).reducedMotion,p=A.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=A.useContext(rA);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&wF(p.current,n,i,y);const _=A.useRef(!1);A.useInsertionEffect(()=>{m&&_.current&&m.update(n,u)});const T=n[nA],b=A.useRef(!!T&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,T))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,T)));return uj(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),jv.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,T)}),b.current=!1))}),m}function wF(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||u&&za(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:p})}function iA(t){if(t)return t.options.allowProjection!==!1?t.projection:iA(t.parent)}function _F({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&lF(t);function a(u,h){let p;const m={...A.useContext(J1),...u,layoutId:xF(u)},{isStatic:y}=m,_=pF(u),T=r(u,y);if(!y&&yv){EF();const b=TF(m);p=b.MeasureLayout,_.visualElement=vF(i,T,m,e,b.ProjectionNode)}return x.jsxs(Ff.Provider,{value:_,children:[p&&_.visualElement?x.jsx(p,{visualElement:_.visualElement,...m}):null,n(i,u,gF(T,_.visualElement,h),T,y,_.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=A.forwardRef(a);return l[mF]=i,l}function xF({layoutId:t}){const e=A.useContext(a1).id;return e&&t!==void 0?e+"-"+t:t}function EF(t,e){A.useContext(Z1).strict}function TF(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const du={};function SF(t){for(const e in t)du[e]=t[e],Cv(e)&&(du[e].isCSSVariable=!0)}function sA(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!du[t]||t==="opacity")}const IF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CF=Sl.length;function AF(t,e,n){let r="",i=!0;for(let a=0;a<CF;a++){const l=Sl[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=q1(u,Lv[l]);if(!h){i=!1;const m=IF[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function $v(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const p=e[h];if(Il.has(h)){l=!0;continue}else if(Cv(h)){i[h]=p;continue}else{const m=q1(p,Lv[h]);h.startsWith("origin")?(u=!0,a[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=AF(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const Wv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oA(t,e,n){for(const r in e)!ln(e[r])&&!sA(r,n)&&(t[r]=e[r])}function bF({transformTemplate:t},e){return A.useMemo(()=>{const n=Wv();return $v(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RF(t,e){const n=t.style||{},r={};return oA(r,n,t),Object.assign(r,bF(t,e)),r}function PF(t,e){const n={},r=RF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kF={offset:"stroke-dashoffset",array:"stroke-dasharray"},NF={offset:"strokeDashoffset",array:"strokeDasharray"};function DF(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?kF:NF;t[a.offset]=be.transform(-r);const l=be.transform(e),u=be.transform(n);t[a.array]=`${l} ${u}`}function aA(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},h,p,m){if($v(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&DF(y,i,a,l,!1)}const lA=()=>({...Wv(),attrs:{}}),cA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OF(t,e,n,r){const i=A.useMemo(()=>{const a=lA();return aA(a,e,cA(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};oA(a,t.style,t),i.style={...a,...i.style}}return i}const VF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hv(t){return typeof t!="string"||t.includes("-")?!1:!!(VF.indexOf(t)>-1||/[A-Z]/u.test(t))}function MF(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(Hv(n)?OF:PF)(r,a,l,n),p=dF(r,typeof n=="string",t),m=n!==A.Fragment?{...p,...h,ref:i}:{},{children:y}=r,_=A.useMemo(()=>ln(y)?y.get():y,[y]);return A.createElement(n,{...m,children:_})}}function DE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Gv(t,e,n,r){if(typeof e=="function"){const[i,a]=DE(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=DE(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Rh(t){return ln(t)?t.get():t}function LF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:jF(n,r,i,t),renderState:e()}}const uA=t=>(e,n)=>{const r=A.useContext(Ff),i=A.useContext(vv),a=()=>LF(t,e,r,i);return n?a():cj(a)};function jF(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=Rh(a[_]);let{initial:l,animate:u}=t;const h=Bf(t),p=tA(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Uf(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const b=Gv(t,_[T]);if(b){const{transitionEnd:S,transition:C,...N}=b;for(const L in N){let V=N[L];if(Array.isArray(V)){const W=m?V.length-1:0;V=V[W]}V!==null&&(i[L]=V)}for(const L in S)i[L]=S[L]}}}return i}function qv(t,e,n){var a;const{style:r}=t,i={};for(const l in r)(ln(r[l])||e.style&&ln(e.style[l])||sA(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const FF={useVisualState:uA({scrapeMotionValuesFromProps:qv,createRenderState:Wv})};function dA(t,e,n){const r=qv(t,e,n);for(const i in t)if(ln(t[i])||ln(e[i])){const a=Sl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const UF={useVisualState:uA({scrapeMotionValuesFromProps:dA,createRenderState:lA})};function BF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Hv(r)?UF:FF,preloadedFeatures:t,useRender:MF(i),createVisualElement:e,Component:r};return _F(l)}}function hu(t,e,n){const r=t.getProps();return Gv(r,e,n!==void 0?n:r.custom,t)}const Jg=t=>Array.isArray(t);function zF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ll(n))}function $F(t){return Jg(t)?t[t.length-1]||0:t}function WF(t,e){const n=hu(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const u=$F(a[l]);zF(t,l,u)}}function HF(t){return!!(ln(t)&&t.add)}function Zg(t,e){const n=t.getValue("willChange");if(HF(n))return n.add(e);if(!n&&Ci.WillChange){const r=new Ci.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function hA(t){return t.props[nA]}const GF=t=>t!==null;function qF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(GF),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const KF={type:"spring",stiffness:500,damping:25,restSpeed:10},YF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QF={type:"keyframes",duration:.8},XF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JF=(t,{keyframes:e})=>e.length>2?QF:Il.has(t)?t.startsWith("scale")?YF(e[1]):KF:XF;function ZF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const Kv=(t,e,n,r={},i,a)=>l=>{const u=Mv(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-$r(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};ZF(u)||Object.assign(m,JF(t,m)),m.duration&&(m.duration=$r(m.duration)),m.repeatDelay&&(m.repeatDelay=$r(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(Ci.instantAnimations||Ci.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const _=qF(m.keyframes,u);if(_!==void 0){ut.update(()=>{m.onUpdate(_),m.onComplete()});return}}return u.isSync?new Ov(m):new M4(m)};function e3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),_=u[m];if(_===void 0||p&&e3(p,m))continue;const T={delay:n,...Mv(a||{},m)},b=y.get();if(b!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===b&&!T.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=hA(t);if(N){const L=window.MotionHandoffAnimation(N,m,ut);L!==null&&(T.startTime=L,S=!0)}}Zg(t,m),y.start(Kv(m,y,_,t.shouldReduceMotion&&z1.has(m)?{type:!1}:T,t,S));const C=y.animation;C&&h.push(C)}return l&&Promise.all(h).then(()=>{ut.update(()=>{l&&WF(t,l)})}),h}function ey(t,e,n={}){var h;const r=hu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(fA(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=i;return t3(t,e,m+p,y,_,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function t3(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>u-p*r;return Array.from(t.variantChildren).sort(n3).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(ey(p,e,{...a,delay:n+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function n3(t,e){return t.sortNodePosition(e)}function r3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ey(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=ey(t,e,n);else{const i=typeof e=="function"?hu(t,e,n.custom):e;r=Promise.all(fA(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function pA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const i3=Bv.length;function mA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i3;n++){const r=Bv[n],i=t.props[r];(uu(i)||i===!1)&&(e[r]=i)}return e}const s3=[...Uv].reverse(),o3=Uv.length;function a3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>r3(t,n,r)))}function l3(t){let e=a3(t),n=OE(),r=!0;const i=h=>(p,m)=>{var _;const y=hu(t,m,h==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:T,transitionEnd:b,...S}=y;p={...p,...S,...b}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,m=mA(t.parent)||{},y=[],_=new Set;let T={},b=1/0;for(let C=0;C<o3;C++){const N=s3[C],L=n[N],V=p[N]!==void 0?p[N]:m[N],W=uu(V),q=N===h?L.isActive:null;q===!1&&(b=C);let J=V===m[N]&&V!==p[N]&&W;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),L.protectedKeys={...T},!L.isActive&&q===null||!V&&!L.prevProp||Uf(V)||typeof V=="boolean")continue;const k=c3(L.prevProp,V);let R=k||N===h&&L.isActive&&!J&&W||C>b&&W,D=!1;const j=Array.isArray(V)?V:[V];let U=j.reduce(i(N),{});q===!1&&(U={});const{prevResolvedValues:F={}}=L,O={...F,...U},ve=ce=>{R=!0,_.has(ce)&&(D=!0,_.delete(ce)),L.needsAnimating[ce]=!0;const X=t.getValue(ce);X&&(X.liveStyle=!1)};for(const ce in O){const X=U[ce],oe=F[ce];if(T.hasOwnProperty(ce))continue;let se=!1;Jg(X)&&Jg(oe)?se=!pA(X,oe):se=X!==oe,se?X!=null?ve(ce):_.add(ce):X!==void 0&&_.has(ce)?ve(ce):L.protectedKeys[ce]=!0}L.prevProp=V,L.prevResolvedValues=U,L.isActive&&(T={...T,...U}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(J&&k)||D)&&y.push(...j.map(ce=>({animation:ce,options:{type:N}})))}if(_.size){const C={};if(typeof p.initial!="boolean"){const N=hu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(C.transition=N.transition)}_.forEach(N=>{const L=t.getBaseTarget(N),V=t.getValue(N);V&&(V.liveStyle=!0),C[N]=L??null}),y.push({animation:C})}let S=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,p){var y;if(n[h].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(h,p)}),n[h].isActive=p;const m=l(h);for(const _ in n)n[_].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=OE(),r=!0}}}function c3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pA(e,t):!1}function vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OE(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class Bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u3 extends Bs{constructor(e){super(e),e.animationState||(e.animationState=l3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let d3=0;class h3 extends Bs{constructor(){super(...arguments),this.id=d3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const f3={animation:{Feature:u3},exit:{Feature:h3}};function fu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const p3=t=>e=>Fv(e)&&t(e,Lu(e));function Wc(t,e,n,r){return fu(t,e,p3(n),r)}function gA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function m3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yA=1e-4,y3=1-yA,v3=1+yA,vA=.01,w3=0-vA,_3=0+vA;function pn(t){return t.max-t.min}function x3(t,e,n){return Math.abs(t-e)<=n}function VE(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y3&&t.scale<=v3||isNaN(t.scale))&&(t.scale=1),(t.translate>=w3&&t.translate<=_3||isNaN(t.translate))&&(t.translate=0)}function Hc(t,e,n,r){VE(t.x,e.x,n.x,r?r.originX:void 0),VE(t.y,e.y,n.y,r?r.originY:void 0)}function ME(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function E3(t,e,n){ME(t.x,e.x,n.x),ME(t.y,e.y,n.y)}function LE(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Gc(t,e,n){LE(t.x,e.x,n.x),LE(t.y,e.y,n.y)}const jE=()=>({translate:0,scale:1,origin:0,originPoint:0}),$a=()=>({x:jE(),y:jE()}),FE=()=>({min:0,max:0}),yt=()=>({x:FE(),y:FE()});function Qn(t){return[t("x"),t("y")]}function Hm(t){return t===void 0||t===1}function ty({scale:t,scaleX:e,scaleY:n}){return!Hm(t)||!Hm(e)||!Hm(n)}function xo(t){return ty(t)||wA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wA(t){return UE(t.x)||UE(t.y)}function UE(t){return t&&t!=="0%"}function cf(t,e,n){const r=t-n,i=e*r;return n+i}function BE(t,e,n,r,i){return i!==void 0&&(t=cf(t,i,r)),cf(t,n,r)+e}function ny(t,e=0,n=1,r,i){t.min=BE(t.min,e,n,r,i),t.max=BE(t.max,e,n,r,i)}function _A(t,{x:e,y:n}){ny(t.x,e.translate,e.scale,e.originPoint),ny(t.y,n.translate,n.scale,n.originPoint)}const zE=.999999999999,$E=1.0000000000001;function T3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ha(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_A(t,l)),r&&xo(a.latestValues)&&Ha(t,a.latestValues))}e.x<$E&&e.x>zE&&(e.x=1),e.y<$E&&e.y>zE&&(e.y=1)}function Wa(t,e){t.min=t.min+e,t.max=t.max+e}function WE(t,e,n,r,i=.5){const a=ct(t.min,t.max,i);ny(t,e,n,a,r)}function Ha(t,e){WE(t.x,e.x,e.scaleX,e.scale,e.originX),WE(t.y,e.y,e.scaleY,e.scale,e.originY)}function xA(t,e){return gA(g3(t.getBoundingClientRect(),e))}function S3(t,e,n){const r=xA(t,n),{scroll:i}=e;return i&&(Wa(r.x,i.offset.x),Wa(r.y,i.offset.y)),r}const EA=({current:t})=>t?t.ownerDocument.defaultView:null,HE=(t,e)=>Math.abs(t-e);function I3(t,e){const n=HE(t.x,e.x),r=HE(t.y,e.y);return Math.sqrt(n**2+r**2)}class TA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=qm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=I3(y.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:b}=y,{timestamp:S}=qt;this.history.push({...b,timestamp:S});const{onStart:C,onMove:N}=this.handlers;_||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Gm(_,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:T,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=qm(y.type==="pointercancel"?this.lastMoveEventInfo:Gm(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,C),b&&b(y,C)},!Fv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Lu(e),u=Gm(l,this.transformPagePoint),{point:h}=u,{timestamp:p}=qt;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,qm(u,this.history)),this.removeListeners=Ou(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function Gm(t,e){return e?{point:e(t.point)}:t}function GE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qm({point:t},e){return{point:t,delta:GE(t,SA(e)),offset:GE(t,C3(e)),velocity:A3(e,.1)}}function C3(t){return t[0]}function SA(t){return t[t.length-1]}function A3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$r(e)));)n--;if(!r)return{x:0,y:0};const a=Wr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function b3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function qE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R3(t,{top:e,left:n,bottom:r,right:i}){return{x:qE(t.x,n,i),y:qE(t.y,e,r)}}function KE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function P3(t,e){return{x:KE(t.x,e.x),y:KE(t.y,e.y)}}function k3(t,e){let n=.5;const r=pn(t),i=pn(e);return i>r?n=au(e.min,e.max-r,t.min):r>i&&(n=au(t.min,t.max-i,e.min)),Ii(0,1,n)}function N3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ry=.35;function D3(t=ry){return t===!1?t=0:t===!0&&(t=ry),{x:YE(t,"left","right"),y:YE(t,"top","bottom")}}function YE(t,e,n){return{min:QE(t,e),max:QE(t,n)}}function QE(t,e){return typeof t=="number"?t:t[e]||0}const O3=new WeakMap;class V3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(m).point)},a=(m,y)=>{const{drag:_,dragPropagation:T,onDragStart:b}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J4(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(C=>{let N=this.getAxisMotionValue(C).get()||0;if(Hr.test(N)){const{projection:L}=this.visualElement;if(L&&L.layout){const V=L.layout.layoutBox[C];V&&(N=pn(V)*(parseFloat(N)/100))}}this.originPoint[C]=N}),b&&ut.postRender(()=>b(m,y)),Zg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:b,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=y;if(T&&this.currentDirection===null){this.currentDirection=M3(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(m,y)},u=(m,y)=>this.stop(m,y),h=()=>Qn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new TA(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:EA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ut.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!dh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=b3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&za(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=R3(r.layoutBox,e):this.constraints=!1,this.elastic=D3(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=N3(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!za(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=S3(r,i.root,this.visualElement.getTransformPagePoint());let l=P3(i.layout.layoutBox,a);if(n){const u=n(m3(l));this.hasMutatedConstraints=!!u,u&&(l=gA(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Qn(m=>{if(!dh(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const _=i?200:1e6,T=i?40:1e7,b={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,b)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zg(this.visualElement,e),r.start(Kv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qn(n=>{const{drag:r}=this.getProps();if(!dh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-ct(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!za(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=k3({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(l=>{if(!dh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(ct(h,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;O3.set(this.visualElement,this);const e=this.visualElement.current,n=Wc(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();za(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ut.read(r);const l=fu(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=ry,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function dh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function M3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class L3 extends Bs{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new V3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const XE=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class j3 extends Bs{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new TA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XE(e),onStart:XE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&ut.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=JE(t,e.target.x),r=JE(t,e.target.y);return`${n}% ${r}%`}},F3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ns.parse(t);if(i.length>5)return r;const a=Ns.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const p=ct(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};class U3 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;SF(B3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ut.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IA(t){const[e,n]=aF(),r=A.useContext(a1);return x.jsx(U3,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(rA),isPresent:e,safeToRemove:n})}const B3={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:F3};function z3(t,e,n){const r=ln(t)?t:ll(t);return r.start(Kv("",r,e,n)),r.animation}const $3=(t,e)=>t.depth-e.depth;class W3{constructor(){this.children=[],this.isDirty=!1}add(e){wv(this.children,e),this.isDirty=!0}remove(e){_v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($3),this.isDirty=!1,this.children.forEach(e)}}function H3(t,e){const n=Cn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ks(r),t(a-e))};return ut.setup(r,!0),()=>ks(r)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],G3=CA.length,ZE=t=>typeof t=="string"?parseFloat(t):t,eT=t=>typeof t=="number"||be.test(t);function q3(t,e,n,r,i,a){i?(t.opacity=ct(0,n.opacity??1,K3(r)),t.opacityExit=ct(e.opacity??1,0,Y3(r))):a&&(t.opacity=ct(e.opacity??1,n.opacity??1,r));for(let l=0;l<G3;l++){const u=`border${CA[l]}Radius`;let h=tT(e,u),p=tT(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||eT(h)===eT(p)?(t[u]=Math.max(ct(ZE(h),ZE(p),r),0),(Hr.test(p)||Hr.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function tT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const K3=AA(0,.5,v1),Y3=AA(.5,.95,Zn);function AA(t,e,n){return r=>r<t?0:r>e?1:n(au(t,e,r))}function nT(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){nT(t.x,e.x),nT(t.y,e.y)}function rT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iT(t,e,n,r,i){return t-=e,t=cf(t,1/n,r),i!==void 0&&(t=cf(t,1/i,r)),t}function Q3(t,e=0,n=1,r=.5,i,a=t,l=t){if(Hr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ct(a.min,a.max,r);t===a&&(u-=e),t.min=iT(t.min,e,n,u,i),t.max=iT(t.max,e,n,u,i)}function sT(t,e,[n,r,i],a,l){Q3(t,e[n],e[r],e[i],e.scale,a,l)}const X3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function oT(t,e,n,r){sT(t.x,e,X3,n?n.x:void 0,r?r.x:void 0),sT(t.y,e,J3,n?n.y:void 0,r?r.y:void 0)}function aT(t){return t.translate===0&&t.scale===1}function bA(t){return aT(t.x)&&aT(t.y)}function lT(t,e){return t.min===e.min&&t.max===e.max}function Z3(t,e){return lT(t.x,e.x)&&lT(t.y,e.y)}function cT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RA(t,e){return cT(t.x,e.x)&&cT(t.y,e.y)}function uT(t){return pn(t.x)/pn(t.y)}function dT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eU{constructor(){this.members=[]}add(e){wv(this.members,e),e.scheduleRender()}remove(e){if(_v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tU(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:_,skewX:T,skewY:b}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),b&&(r+=`skewY(${b}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Km=["","X","Y","Z"],nU={visibility:"hidden"},rU=1e3;let iU=0;function Ym(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PA(r)}function kA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=iU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aU),this.nodes.forEach(hU),this.nodes.forEach(fU),this.nodes.forEach(lU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new W3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Tv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=X1(l)&&!iF(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=H3(y,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(fT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||vU,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=p.getProps(),N=!this.targetLayout||!RA(this.targetLayout,T),L=!y&&_;if(this.options.layoutRoot||this.resumeFrom||L||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Mv(b,"layout"),onPlay:S,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(m,L)}else y||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hT);return}this.isUpdating||this.nodes.forEach(uU),this.isUpdating=!1,this.nodes.forEach(dU),this.nodes.forEach(sU),this.nodes.forEach(oU),this.clearAllSnapshots();const u=Cn.now();qt.delta=Ii(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,Um.update.process(qt),Um.preRender.process(qt),Um.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cU),this.sharedNodes.forEach(mU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!bA(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||xo(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),wU(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return yt();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(_U))){const{scroll:m}=this.root;m&&(Wa(u.x,m.offset.x),Wa(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=yt();if(Yn(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Yn(u,l),Wa(u.x,y.offset.x),Wa(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const h=yt();Yn(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ha(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),xo(m.latestValues)&&Ha(h,m.latestValues)}return xo(this.latestValues)&&Ha(h,this.latestValues),h}removeTransform(l){const u=yt();Yn(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!xo(p.latestValues))continue;ty(p.latestValues)&&p.updateSnapshot();const m=yt(),y=p.measurePageBox();Yn(m,y),oT(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return xo(this.latestValues)&&oT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),_A(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Gc(this.relativeTargetOrigin,this.target,T.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ty(this.parent.latestValues)||wA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Yn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;T3(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=yt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rT(this.prevProjectionDelta.x,this.projectionDelta.x),rT(this.prevProjectionDelta.y,this.projectionDelta.y)),Hc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!dT(this.projectionDelta.x,this.prevProjectionDelta.x)||!dT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$a(),this.projectionDelta=$a(),this.projectionDeltaWithTransform=$a()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=$a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=yt(),T=h?h.source:void 0,b=this.layout?this.layout.source:void 0,S=T!==b,C=this.getStack(),N=!C||C.members.length<=1,L=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(yU));this.animationProgress=0;let V;this.mixTargetDelta=W=>{const q=W/1e3;pT(y.x,l.x,q),pT(y.y,l.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gU(this.relativeTarget,this.relativeTargetOrigin,_,q),V&&Z3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=yt()),Yn(V,this.relativeTarget)),S&&(this.animationValues=m,q3(m,p,this.latestValues,q,L,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ll(0)),this.currentAnimation=z3(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&NA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||yt();const y=pn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=pn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Yn(u,h),Ha(u,m),Hc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new eU),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&Ym("z",l,p,this.animationValues);for(let m=0;m<Km.length;m++)Ym(`rotate${Km[m]}`,l,p,this.animationValues),Ym(`skew${Km[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nU;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Rh(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Rh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!xo(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=tU(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:_}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in du){if(m[T]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:C}=du[T],N=u.transform==="none"?m[T]:b(m[T],p);if(S){const L=S.length;for(let V=0;V<L;V++)u[S[V]]=N}else C?this.options.visualElement.renderState.vars[T]=N:u[T]=N}return this.options.layoutId&&(u.pointerEvents=p===this?Rh(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(hT),this.root.sharedNodes.clear()}}}function sU(t){t.updateLayout()}function oU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(_);_.min=r[y].min,_.max=_.min+T}):NA(a,e.layoutBox,r)&&Qn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(r[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=$a();Hc(u,r,e.layoutBox);const h=$a();l?Hc(h,t.applyTransform(i,!0),e.measuredBox):Hc(h,r,e.layoutBox);const p=!bA(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const b=yt();Gc(b,e.layoutBox,_.layoutBox);const S=yt();Gc(S,r,T.layoutBox),RA(b,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cU(t){t.clearSnapshot()}function hT(t){t.clearMeasurements()}function uU(t){t.isLayoutDirty=!1}function dU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hU(t){t.resolveTargetDelta()}function fU(t){t.calcProjection()}function pU(t){t.resetSkewAndRotation()}function mU(t){t.removeLeadSnapshot()}function pT(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mT(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function gU(t,e,n,r){mT(t.x,e.x,n.x,r),mT(t.y,e.y,n.y,r)}function yU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vU={duration:.45,ease:[.4,0,.1,1]},gT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yT=gT("applewebkit/")&&!gT("chrome/")?Math.round:Zn;function vT(t){t.min=yT(t.min),t.max=yT(t.max)}function wU(t){vT(t.x),vT(t.y)}function NA(t,e,n){return t==="position"||t==="preserve-aspect"&&!x3(uT(e),uT(n),.2)}function _U(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xU=kA({attachResizeListener:(t,e)=>fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qm={current:void 0},DA=kA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qm.current){const t=new xU({});t.mount(window),t.setOptions({layoutScroll:!0}),Qm.current=t}return Qm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EU={pan:{Feature:j3},drag:{Feature:L3,ProjectionNode:DA,MeasureLayout:IA}};function wT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&ut.postRender(()=>a(e,Lu(e)))}class TU extends Bs{mount(){const{current:e}=this.node;e&&(this.unmount=Z4(e,(n,r)=>(wT(this.node,r,"Start"),i=>wT(this.node,i,"End"))))}unmount(){}}class SU extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _T(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&ut.postRender(()=>a(e,Lu(e)))}class IU extends Bs{mount(){const{current:e}=this.node;e&&(this.unmount=rF(e,(n,r)=>(_T(this.node,r,"Start"),(i,{success:a})=>_T(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iy=new WeakMap,Xm=new WeakMap,CU=t=>{const e=iy.get(t.target);e&&e(t)},AU=t=>{t.forEach(CU)};function bU({root:t,...e}){const n=t||document;Xm.has(n)||Xm.set(n,{});const r=Xm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AU,{root:t,...e})),r[i]}function RU(t,e,n){const r=bU(e);return iy.set(t,n),r.observe(t),()=>{iy.delete(t),r.unobserve(t)}}const PU={some:0,all:1};class kU extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PU[i]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=p?m:y;_&&_(h)};return RU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NU(e,n))&&this.startObserver()}unmount(){}}function NU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DU={inView:{Feature:kU},tap:{Feature:IU},focus:{Feature:SU},hover:{Feature:TU}},OU={layout:{ProjectionNode:DA,MeasureLayout:IA}},sy={current:null},OA={current:!1};function VU(){if(OA.current=!0,!!yv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addListener(e),e()}else sy.current=!1}const MU=new WeakMap;function LU(t,e,n){for(const r in e){const i=e[r],a=n[r];if(ln(i))t.addValue(r,i);else if(ln(a))t.addValue(r,ll(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ll(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Cn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Bf(n),this.isVariantNode=tA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const T=y[_];h[_]!==void 0&&ln(T)&&T.set(h[_],!1)}}mount(e){this.current=e,MU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OA.current||VU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Il.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xT.length;r++){const i=xT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=LU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ll(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(l1(r)||u1(r))?r=parseFloat(r):!oF(r)&&Ns.test(n)&&(r=G1(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Gv(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ln(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VA extends jU{constructor(){super(...arguments),this.KeyframeResolver=K4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function FU(t){return window.getComputedStyle(t)}class UU extends VA{constructor(){super(...arguments),this.type="html",this.renderInstance=MA}readValueFromInstance(e,n){var r;if(Il.has(n))return(r=this.projection)!=null&&r.isProjecting?Gg(n):f4(e,n);{const i=FU(e),a=(Cv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xA(e,n)}build(e,n,r){$v(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qv(e,n,r)}}const LA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BU(t,e,n,r){MA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(LA.has(i)?i:zv(i),e.attrs[i])}class zU extends VA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const r=H1(n);return r&&r.default||0}return n=LA.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dA(e,n,r)}build(e,n,r){aA(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){BU(e,n,r,i)}mount(e){this.isSVGTag=cA(e.tagName),super.mount(e)}}const $U=(t,e)=>Hv(t)?new zU(e):new UU(e,{allowProjection:t!==A.Fragment}),WU=BF({...f3,...DU,...EU,...OU},$U),Ke=hF(WU);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:h,...p},m)=>A.createElement("svg",{ref:m,...HU,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${GU(t)}`,u].join(" "),...p},[...e.map(([y,_])=>A.createElement(y,_)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=_t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=_t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=_t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=_t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=_t("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=_t("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=_t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=_t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=_t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=_t("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=_t("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=_t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=_t("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=_t("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ET(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WA(...t){return e=>{let n=!1;const r=t.map(i=>{const a=ET(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():ET(t[i],null)}}}}function Jt(...t){return A.useCallback(WA(...t),t)}function mu(t){const e=t6(t),n=A.forwardRef((r,i)=>{const{children:a,...l}=r,u=A.Children.toArray(a),h=u.find(r6);if(h){const p=h.props.children,m=u.map(y=>y===h?A.Children.count(p)>1?A.Children.only(null):A.isValidElement(p)?p.props.children:null:y);return x.jsx(e,{...l,ref:i,children:A.isValidElement(p)?A.cloneElement(p,void 0,m):null})}return x.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var e6=mu("Slot");function t6(t){const e=A.forwardRef((n,r)=>{const{children:i,...a}=n;if(A.isValidElement(i)){const l=s6(i),u=i6(a,i.props);return i.type!==A.Fragment&&(u.ref=r?WA(r,l):l),A.cloneElement(i,u)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n6=Symbol("radix.slottable");function r6(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n6}function i6(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function s6(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function HA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function GA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HA(t))&&(r&&(r+=" "),r+=e);return r}const TT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ST=GA,Yv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ST(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const m=n==null?void 0:n[p],y=a==null?void 0:a[p];if(m===null)return null;const _=TT(m)||TT(y);return i[p][_]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,_]=m;return _===void 0||(p[y]=_),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:y,className:_,...T}=m;return Object.entries(T).every(b=>{let[S,C]=b;return Array.isArray(C)?C.includes({...a,...u}[S]):{...a,...u}[S]===C})?[...p,y,_]:p},[]);return ST(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},Qv="-",o6=t=>{const e=l6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(Qv);return u[0]===""&&u.length!==1&&u.shift(),qA(u,e)||a6(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},qA=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?qA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Qv);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},IT=/^\[(.+)\]$/,a6=t=>{if(IT.test(t)){const e=IT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},l6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return u6(Object.entries(t.classGroups),n).forEach(([a,l])=>{cy(l,r,a,e)}),r},cy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:CT(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(c6(i)){cy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{cy(l,CT(e,a),n,r)})})},CT=(t,e)=>{let n=t;return e.split(Qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},c6=t=>t.isThemeGetter,u6=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[n,i]}):t,d6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},KA="!",h6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,l=u=>{const h=[];let p=0,m=0,y;for(let C=0;C<u.length;C++){let N=u[C];if(p===0){if(N===i&&(r||u.slice(C,C+a)===e)){h.push(u.slice(m,C)),m=C+a;continue}if(N==="/"){y=C;continue}}N==="["?p++:N==="]"&&p--}const _=h.length===0?u:u.substring(m),T=_.startsWith(KA),b=T?_.substring(1):_,S=y&&y>m?y-m:void 0;return{modifiers:h,hasImportantModifier:T,baseClassName:b,maybePostfixModifierPosition:S}};return n?u=>n({className:u,parseClassName:l}):l},f6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},p6=t=>({cache:d6(t.cacheSize),parseClassName:h6(t),...o6(t)}),m6=/\s+/,g6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(m6);let u="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:m,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:T}=n(p);let b=!!T,S=r(b?_.substring(0,T):_);if(!S){if(!b){u=p+(u.length>0?" "+u:u);continue}if(S=r(_),!S){u=p+(u.length>0?" "+u:u);continue}b=!1}const C=f6(m).join(":"),N=y?C+KA:C,L=N+S;if(a.includes(L))continue;a.push(L);const V=i(S,b);for(let W=0;W<V.length;++W){const q=V[W];a.push(N+q)}u=p+(u.length>0?" "+u:u)}return u};function y6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=YA(e))&&(r&&(r+=" "),r+=n);return r}const YA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=YA(t[r]))&&(n&&(n+=" "),n+=e);return n};function v6(t,...e){let n,r,i,a=l;function l(h){const p=e.reduce((m,y)=>y(m),t());return n=p6(p),r=n.cache.get,i=n.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const m=g6(h,n);return i(h,m),m}return function(){return a(y6.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},QA=/^\[(?:([a-z-]+):)?(.+)\]$/i,w6=/^\d+\/\d+$/,_6=new Set(["px","full","screen"]),x6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=t=>Qa(t)||_6.has(t)||w6.test(t),rs=t=>Cl(t,"length",D6),Qa=t=>!!t&&!Number.isNaN(Number(t)),Jm=t=>Cl(t,"number",Qa),Sc=t=>!!t&&Number.isInteger(Number(t)),C6=t=>t.endsWith("%")&&Qa(t.slice(0,-1)),Le=t=>QA.test(t),is=t=>x6.test(t),A6=new Set(["length","size","percentage"]),b6=t=>Cl(t,A6,XA),R6=t=>Cl(t,"position",XA),P6=new Set(["image","url"]),k6=t=>Cl(t,P6,V6),N6=t=>Cl(t,"",O6),Ic=()=>!0,Cl=(t,e,n)=>{const r=QA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D6=t=>E6.test(t)&&!T6.test(t),XA=()=>!1,O6=t=>S6.test(t),V6=t=>I6.test(t),M6=()=>{const t=rt("colors"),e=rt("spacing"),n=rt("blur"),r=rt("brightness"),i=rt("borderColor"),a=rt("borderRadius"),l=rt("borderSpacing"),u=rt("borderWidth"),h=rt("contrast"),p=rt("grayscale"),m=rt("hueRotate"),y=rt("invert"),_=rt("gap"),T=rt("gradientColorStops"),b=rt("gradientColorStopPositions"),S=rt("inset"),C=rt("margin"),N=rt("opacity"),L=rt("padding"),V=rt("saturate"),W=rt("scale"),q=rt("sepia"),J=rt("skew"),k=rt("space"),R=rt("translate"),D=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Le,e],F=()=>[Le,e],O=()=>["",mi,rs],ve=()=>["auto",Qa,Le],Oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Le],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Qa,Le];return{cacheSize:500,separator:":",theme:{colors:[Ic],spacing:[mi,rs],blur:["none","",is,Le],brightness:$(),borderColor:[t],borderRadius:["none","","full",is,Le],borderSpacing:F(),borderWidth:O(),contrast:$(),grayscale:oe(),hueRotate:$(),invert:oe(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[C6,rs],inset:U(),margin:U(),opacity:$(),padding:F(),saturate:$(),scale:$(),sepia:oe(),skew:$(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Oe(),Le]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sc,Le]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",Sc,Le]}],"grid-cols":[{"grid-cols":[Ic]}],"col-start-end":[{col:["auto",{span:["full",Sc,Le]},Le]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[Ic]}],"row-start-end":[{row:["auto",{span:[Sc,Le]},Le]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jm]}],"font-family":[{font:[Ic]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Qa,Jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mi,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mi,rs]}],"underline-offset":[{"underline-offset":["auto",mi,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Oe(),R6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},k6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:_e()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[mi,Le]}],"outline-w":[{outline:[mi,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[mi,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,N6]}],"shadow-color":[{shadow:[Ic]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",is,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[V]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[W]}],"scale-x":[{"scale-x":[W]}],"scale-y":[{"scale-y":[W]}],rotate:[{rotate:[Sc,Le]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mi,rs,Jm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L6=v6(M6);function Mt(...t){return L6(GA(t))}const j6=Yv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Qt=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?e6:"button";return x.jsx(l,{className:Mt(j6({variant:e,size:n,className:t})),ref:a,...i})});Qt.displayName="Button";function F6(){const t=Lo();return x.jsxs("div",{className:"min-h-screen bg-white",children:[x.jsxs("nav",{className:"flex items-center justify-between px-6 py-4 lg:px-8",children:[x.jsxs(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-8 h-8 bg-elite-lime rounded-lg flex items-center justify-center",children:x.jsx(Gr,{className:"w-5 h-5 text-black"})}),x.jsx("span",{className:"text-xl font-heading font-bold text-black",children:"NIL Navigator"})]}),x.jsxs(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center space-x-4",children:[x.jsx(Qt,{variant:"ghost",onClick:()=>t("/login"),className:"text-black hover:text-elite-gray-700",children:"Sign In"}),x.jsx(Qt,{onClick:()=>t("/signup"),className:"bg-black text-white hover:bg-elite-gray-800",children:"Get Started"})]})]}),x.jsxs("div",{className:"relative overflow-hidden",children:[x.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16 lg:px-8 lg:py-24",children:x.jsx("div",{className:"text-center",children:x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[x.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-heading font-black text-black leading-tight",children:["Your Elite",x.jsx("span",{className:"block text-elite-lime",children:"NIL Navigator"})]}),x.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl text-elite-gray-600 font-body leading-relaxed",children:"Professional AI advisor for high school athletes. Generate personalized NIL action plans, maximize your potential, and build your brand with precision."}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[x.jsxs(Qt,{size:"lg",onClick:()=>t("/signup"),className:"bg-elite-lime text-black hover:bg-elite-lime/90 font-heading font-semibold px-8 py-4 text-lg",children:["Start Your Journey",x.jsx(oy,{className:"ml-2 w-5 h-5"})]}),x.jsx(Qt,{size:"lg",variant:"outline",onClick:()=>t("/learn-more"),className:"border-2 border-black text-black hover:bg-black hover:text-white font-heading font-semibold px-8 py-4 text-lg",children:"See How It Works"})]})]})})}),x.jsxs("div",{className:"absolute inset-0 -z-10",children:[x.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-elite-lime/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-black/5 rounded-full blur-3xl"})]})]}),x.jsx("div",{className:"py-16 lg:py-24 bg-elite-gray-50",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[x.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-black mb-4",children:"Elite Features for Elite Athletes"}),x.jsx("p",{className:"text-xl text-elite-gray-600 max-w-2xl mx-auto",children:"Cutting-edge AI technology meets athletic excellence"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:zf,title:"Personalized Strategy",description:"AI-generated action plans tailored to your sport, location, and goals"},{icon:$f,title:"Instant Results",description:"Get comprehensive NIL strategies in seconds, not weeks"},{icon:Gr,title:"Elite Standards",description:"Professional-grade advice that meets the highest athletic standards"},{icon:ZU,title:"Community Focus",description:"Strategies that leverage your local sports community and connections"}].map((e,n)=>x.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},viewport:{once:!0},className:"bg-white p-8 rounded-2xl shadow-sm border border-elite-gray-200 hover:shadow-lg transition-all duration-300",children:[x.jsx("div",{className:"w-12 h-12 bg-elite-lime rounded-xl flex items-center justify-center mb-6",children:x.jsx(e.icon,{className:"w-6 h-6 text-black"})}),x.jsx("h3",{className:"text-xl font-heading font-semibold text-black mb-3",children:e.title}),x.jsx("p",{className:"text-elite-gray-600 leading-relaxed",children:e.description})]},e.title))})]})}),x.jsx("div",{className:"py-16 lg:py-24 bg-black",children:x.jsx("div",{className:"max-w-4xl mx-auto text-center px-6 lg:px-8",children:x.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-8",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-white",children:"Ready to Dominate Your NIL Game?"}),x.jsx("p",{className:"text-xl text-elite-gray-300 max-w-2xl mx-auto",children:"Join elite high school athletes who are already maximizing their potential with AI-powered NIL strategies."}),x.jsxs(Qt,{size:"lg",onClick:()=>t("/signup"),className:"bg-elite-lime text-black hover:bg-elite-lime/90 font-heading font-semibold px-8 py-4 text-lg",children:["Start Your Elite Journey",x.jsx(oy,{className:"ml-2 w-5 h-5"})]})]})})})]})}const hs=A.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Mt("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:r,...n}));hs.displayName="Input";var U6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=U6.reduce((t,e)=>{const n=mu(`Primitive.${e}`),r=A.forwardRef((i,a)=>{const{asChild:l,...u}=i,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function B6(t,e){t&&_u.flushSync(()=>t.dispatchEvent(e))}var z6="Label",JA=A.forwardRef((t,e)=>x.jsx(xt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JA.displayName=z6;var ZA=JA;const $6=Yv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jn=A.forwardRef(({className:t,...e},n)=>x.jsx(ZA,{ref:n,className:Mt($6(),t),...e}));Jn.displayName=ZA.displayName;function W6(){const t=Lo(),{login:e}=El(),[n,r]=A.useState({email:"",password:""}),[i,a]=A.useState(!1),[l,u]=A.useState(!1),[h,p]=A.useState(""),m=async _=>{_.preventDefault(),u(!0),p("");try{await e(n.email,n.password),t("/dashboard")}catch(T){p(T.message||"Failed to sign in")}finally{u(!1)}},y=_=>{r({...n,[_.target.name]:_.target.value})};return x.jsxs("div",{className:"min-h-screen bg-white flex",children:[x.jsx("div",{className:"flex-1 flex items-center justify-center px-6 lg:px-8",children:x.jsxs(Ke.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"w-full max-w-md space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs(Vc,{to:"/",className:"inline-flex items-center text-black hover:text-elite-gray-700 mb-8",children:[x.jsx(pu,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-12 h-12 bg-elite-lime rounded-xl flex items-center justify-center",children:x.jsx(Gr,{className:"w-7 h-7 text-black"})})}),x.jsx("h1",{className:"text-3xl font-heading font-bold text-black",children:"Welcome Back"}),x.jsx("p",{className:"mt-2 text-elite-gray-600",children:"Sign in to continue your elite NIL journey"})]}),h&&x.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:h}),x.jsxs("form",{onSubmit:m,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"email",className:"text-black font-medium",children:"Email Address"}),x.jsx(hs,{id:"email",name:"email",type:"email",value:n.email,onChange:y,required:!0,className:"mt-2 border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime",placeholder:"your.email@example.com"})]}),x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"password",className:"text-black font-medium",children:"Password"}),x.jsxs("div",{className:"relative mt-2",children:[x.jsx(hs,{id:"password",name:"password",type:i?"text":"password",value:n.password,onChange:y,required:!0,className:"border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime pr-10",placeholder:"Enter your password"}),x.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-elite-gray-500 hover:text-elite-gray-700",children:i?x.jsx(ay,{className:"w-5 h-5"}):x.jsx(ly,{className:"w-5 h-5"})})]})]}),x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("div",{className:"text-sm",children:x.jsx(Vc,{to:"/forgot-password",className:"text-elite-lime hover:text-elite-lime/80 font-medium",children:"Forgot your password?"})})}),x.jsx(Qt,{type:"submit",disabled:l,className:"w-full bg-black text-white hover:bg-elite-gray-800 font-heading font-semibold py-3",children:l?"Signing In...":"Sign In"})]}),x.jsxs("div",{className:"text-center text-sm",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Don't have an account? "}),x.jsx(Vc,{to:"/signup",className:"text-elite-lime hover:text-elite-lime/80 font-medium",children:"Sign up here"})]})]})}),x.jsxs("div",{className:"hidden lg:flex flex-1 bg-black relative overflow-hidden",children:[x.jsx(Ke.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex-1 flex items-center justify-center p-12",children:x.jsxs("div",{className:"text-center space-y-6",children:[x.jsxs("h2",{className:"text-4xl font-heading font-bold text-white leading-tight",children:["Elite Athletes",x.jsx("span",{className:"block text-elite-lime",children:"Choose Excellence"})]}),x.jsx("p",{className:"text-xl text-elite-gray-300 max-w-md",children:"Join the elite community of high school athletes maximizing their NIL potential with AI precision."})]})}),x.jsxs("div",{className:"absolute inset-0 -z-10",children:[x.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-elite-lime/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-72 h-72 bg-white/5 rounded-full blur-3xl"})]})]})]})}function H6(){const t=Lo(),{signup:e}=El(),[n,r]=A.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,a]=A.useState(!1),[l,u]=A.useState(!1),[h,p]=A.useState(!1),[m,y]=A.useState(""),_=async S=>{if(S.preventDefault(),p(!0),y(""),n.password!==n.confirmPassword){y("Passwords do not match"),p(!1);return}if(n.password.length<6){y("Password must be at least 6 characters"),p(!1);return}try{await e(n.email,n.password,n.firstName,n.lastName),t("/profile-setup")}catch(C){y(C.message||"Failed to create account")}finally{p(!1)}},T=S=>{r({...n,[S.target.name]:S.target.value})},b=[{text:"At least 6 characters",met:n.password.length>=6},{text:"Contains letters and numbers",met:/(?=.*[a-zA-Z])(?=.*\d)/.test(n.password)}];return x.jsxs("div",{className:"min-h-screen bg-white flex",children:[x.jsxs("div",{className:"hidden lg:flex flex-1 bg-black relative overflow-hidden",children:[x.jsx(Ke.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex-1 flex items-center justify-center p-12",children:x.jsxs("div",{className:"text-center space-y-6",children:[x.jsxs("h2",{className:"text-4xl font-heading font-bold text-white leading-tight",children:["Start Your",x.jsx("span",{className:"block text-elite-lime",children:"Elite Journey"})]}),x.jsx("p",{className:"text-xl text-elite-gray-300 max-w-md",children:"Join thousands of high school athletes who are maximizing their NIL potential with professional AI guidance."}),x.jsxs("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:[x.jsxs("div",{className:"flex items-center text-elite-gray-300",children:[x.jsx(Dc,{className:"w-5 h-5 text-elite-lime mr-3"}),"Personalized NIL strategies"]}),x.jsxs("div",{className:"flex items-center text-elite-gray-300",children:[x.jsx(Dc,{className:"w-5 h-5 text-elite-lime mr-3"}),"Professional brand building"]}),x.jsxs("div",{className:"flex items-center text-elite-gray-300",children:[x.jsx(Dc,{className:"w-5 h-5 text-elite-lime mr-3"}),"AI-powered action plans"]})]})]})}),x.jsxs("div",{className:"absolute inset-0 -z-10",children:[x.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-elite-lime/10 rounded-full blur-3xl"}),x.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-72 h-72 bg-white/5 rounded-full blur-3xl"})]})]}),x.jsx("div",{className:"flex-1 flex items-center justify-center px-6 lg:px-8",children:x.jsxs(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6},className:"w-full max-w-md space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs(Vc,{to:"/",className:"inline-flex items-center text-black hover:text-elite-gray-700 mb-8",children:[x.jsx(pu,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-12 h-12 bg-elite-lime rounded-xl flex items-center justify-center",children:x.jsx(Gr,{className:"w-7 h-7 text-black"})})}),x.jsx("h1",{className:"text-3xl font-heading font-bold text-black",children:"Create Your Account"}),x.jsx("p",{className:"mt-2 text-elite-gray-600",children:"Join the elite community of high school athletes"})]}),m&&x.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:m}),x.jsxs("form",{onSubmit:_,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"firstName",className:"text-black font-medium",children:"First Name"}),x.jsx(hs,{id:"firstName",name:"firstName",type:"text",value:n.firstName,onChange:T,required:!0,className:"mt-2 border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime",placeholder:"John"})]}),x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"lastName",className:"text-black font-medium",children:"Last Name"}),x.jsx(hs,{id:"lastName",name:"lastName",type:"text",value:n.lastName,onChange:T,required:!0,className:"mt-2 border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime",placeholder:"Doe"})]})]}),x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"email",className:"text-black font-medium",children:"Email Address"}),x.jsx(hs,{id:"email",name:"email",type:"email",value:n.email,onChange:T,required:!0,className:"mt-2 border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime",placeholder:"your.email@example.com"})]}),x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"password",className:"text-black font-medium",children:"Password"}),x.jsxs("div",{className:"relative mt-2",children:[x.jsx(hs,{id:"password",name:"password",type:i?"text":"password",value:n.password,onChange:T,required:!0,className:"border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime pr-10",placeholder:"Create a strong password"}),x.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-elite-gray-500 hover:text-elite-gray-700",children:i?x.jsx(ay,{className:"w-5 h-5"}):x.jsx(ly,{className:"w-5 h-5"})})]}),n.password&&x.jsx("div",{className:"mt-2 space-y-1",children:b.map((S,C)=>x.jsxs("div",{className:"flex items-center text-sm",children:[x.jsx(Dc,{className:`w-4 h-4 mr-2 ${S.met?"text-green-500":"text-elite-gray-400"}`}),x.jsx("span",{className:S.met?"text-green-600":"text-elite-gray-500",children:S.text})]},C))})]}),x.jsxs("div",{children:[x.jsx(Jn,{htmlFor:"confirmPassword",className:"text-black font-medium",children:"Confirm Password"}),x.jsxs("div",{className:"relative mt-2",children:[x.jsx(hs,{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",value:n.confirmPassword,onChange:T,required:!0,className:"border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime pr-10",placeholder:"Confirm your password"}),x.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-elite-gray-500 hover:text-elite-gray-700",children:l?x.jsx(ay,{className:"w-5 h-5"}):x.jsx(ly,{className:"w-5 h-5"})})]})]}),x.jsx(Qt,{type:"submit",disabled:h,className:"w-full bg-black text-white hover:bg-elite-gray-800 font-heading font-semibold py-3",children:h?"Creating Account...":"Create Account"})]}),x.jsxs("div",{className:"text-center text-sm",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Already have an account? "}),x.jsx(Vc,{to:"/login",className:"text-elite-lime hover:text-elite-lime/80 font-medium",children:"Sign in here"})]})]})})]})}function AT(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ct(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Xv(t,e=[]){let n=[];function r(a,l){const u=A.createContext(l),h=n.length;n=[...n,l];const p=y=>{var N;const{scope:_,children:T,...b}=y,S=((N=_==null?void 0:_[t])==null?void 0:N[h])||u,C=A.useMemo(()=>b,Object.values(b));return x.jsx(S.Provider,{value:C,children:T})};p.displayName=a+"Provider";function m(y,_){var S;const T=((S=_==null?void 0:_[t])==null?void 0:S[h])||u,b=A.useContext(T);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const i=()=>{const a=n.map(l=>A.createContext(l));return function(u){const h=(u==null?void 0:u[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[r,G6(i,...e)]}function G6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...u,...y}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function q6(t){const e=t+"CollectionProvider",[n,r]=Xv(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:C,children:N}=S,L=gi.useRef(null),V=gi.useRef(new Map).current;return x.jsx(i,{scope:C,itemMap:V,collectionRef:L,children:N})};l.displayName=e;const u=t+"CollectionSlot",h=mu(u),p=gi.forwardRef((S,C)=>{const{scope:N,children:L}=S,V=a(u,N),W=Jt(C,V.collectionRef);return x.jsx(h,{ref:W,children:L})});p.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",_=mu(m),T=gi.forwardRef((S,C)=>{const{scope:N,children:L,...V}=S,W=gi.useRef(null),q=Jt(C,W),J=a(m,N);return gi.useEffect(()=>(J.itemMap.set(W,{ref:W,...V}),()=>void J.itemMap.delete(W))),x.jsx(_,{[y]:"",ref:q,children:L})});T.displayName=m;function b(S){const C=a(t+"CollectionConsumer",S);return gi.useCallback(()=>{const L=C.collectionRef.current;if(!L)return[];const V=Array.from(L.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((J,k)=>V.indexOf(J.ref.current)-V.indexOf(k.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:p,ItemSlot:T},b,r]}var K6=A.createContext(void 0);function Y6(t){const e=A.useContext(K6);return t||e||"ltr"}function Ai(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Q6(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var X6="DismissableLayer",uy="dismissableLayer.update",J6="dismissableLayer.pointerDownOutside",Z6="dismissableLayer.focusOutside",bT,eb=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tb=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,p=A.useContext(eb),[m,y]=A.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=A.useState({}),b=Jt(e,k=>y(k)),S=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(C),L=m?S.indexOf(m):-1,V=p.layersWithOutsidePointerEventsDisabled.size>0,W=L>=N,q=n5(k=>{const R=k.target,D=[...p.branches].some(j=>j.contains(R));!W||D||(i==null||i(k),l==null||l(k),k.defaultPrevented||u==null||u())},_),J=r5(k=>{const R=k.target;[...p.branches].some(j=>j.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||u==null||u())},_);return Q6(k=>{L===p.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},_),A.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(bT=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),RT(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=bT)}},[m,_,n,p]),A.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),RT())},[m,p]),A.useEffect(()=>{const k=()=>T({});return document.addEventListener(uy,k),()=>document.removeEventListener(uy,k)},[]),x.jsx(xt.div,{...h,ref:b,style:{pointerEvents:V?W?"auto":"none":void 0,...t.style},onFocusCapture:Ct(t.onFocusCapture,J.onFocusCapture),onBlurCapture:Ct(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Ct(t.onPointerDownCapture,q.onPointerDownCapture)})});tb.displayName=X6;var e5="DismissableLayerBranch",t5=A.forwardRef((t,e)=>{const n=A.useContext(eb),r=A.useRef(null),i=Jt(e,r);return A.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),x.jsx(xt.div,{...t,ref:i})});t5.displayName=e5;function n5(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){nb(J6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function r5(t,e=globalThis==null?void 0:globalThis.document){const n=Ai(t),r=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!r.current&&nb(Z6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RT(){const t=new CustomEvent(uy);document.dispatchEvent(t)}function nb(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?B6(i,a):i.dispatchEvent(a)}var Zm=0;function i5(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PT()),document.body.insertAdjacentElement("beforeend",t[1]??PT()),Zm++,()=>{Zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zm--}},[])}function PT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var eg="focusScope.autoFocusOnMount",tg="focusScope.autoFocusOnUnmount",kT={bubbles:!1,cancelable:!0},s5="FocusScope",rb=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[u,h]=A.useState(null),p=Ai(i),m=Ai(a),y=A.useRef(null),_=Jt(e,S=>h(S)),T=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let S=function(V){if(T.paused||!u)return;const W=V.target;u.contains(W)?y.current=W:os(y.current,{select:!0})},C=function(V){if(T.paused||!u)return;const W=V.relatedTarget;W!==null&&(u.contains(W)||os(y.current,{select:!0}))},N=function(V){if(document.activeElement===document.body)for(const q of V)q.removedNodes.length>0&&os(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const L=new MutationObserver(N);return u&&L.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),L.disconnect()}}},[r,u,T.paused]),A.useEffect(()=>{if(u){DT.add(T);const S=document.activeElement;if(!u.contains(S)){const N=new CustomEvent(eg,kT);u.addEventListener(eg,p),u.dispatchEvent(N),N.defaultPrevented||(o5(d5(ib(u)),{select:!0}),document.activeElement===S&&os(u))}return()=>{u.removeEventListener(eg,p),setTimeout(()=>{const N=new CustomEvent(tg,kT);u.addEventListener(tg,m),u.dispatchEvent(N),N.defaultPrevented||os(S??document.body,{select:!0}),u.removeEventListener(tg,m),DT.remove(T)},0)}}},[u,p,m,T]);const b=A.useCallback(S=>{if(!n&&!r||T.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(C&&N){const L=S.currentTarget,[V,W]=a5(L);V&&W?!S.shiftKey&&N===W?(S.preventDefault(),n&&os(V,{select:!0})):S.shiftKey&&N===V&&(S.preventDefault(),n&&os(W,{select:!0})):N===L&&S.preventDefault()}},[n,r,T.paused]);return x.jsx(xt.div,{tabIndex:-1,...l,ref:_,onKeyDown:b})});rb.displayName=s5;function o5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(os(r,{select:e}),document.activeElement!==n)return}function a5(t){const e=ib(t),n=NT(e,t),r=NT(e.reverse(),t);return[n,r]}function ib(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NT(t,e){for(const n of t)if(!l5(n,{upTo:e}))return n}function l5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c5(t){return t instanceof HTMLInputElement&&"select"in t}function os(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&c5(t)&&e&&t.select()}}var DT=u5();function u5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=OT(t,e),t.unshift(e)},remove(e){var n;t=OT(t,e),(n=t[0])==null||n.resume()}}}function OT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function d5(t){return t.filter(e=>e.tagName!=="A")}var Ln=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},h5=pS[" useId ".trim().toString()]||(()=>{}),f5=0;function Jv(t){const[e,n]=A.useState(h5());return Ln(()=>{n(r=>r??String(f5++))},[t]),e?`radix-${e}`:""}const p5=["top","right","bottom","left"],Ds=Math.min,On=Math.max,uf=Math.round,hh=Math.floor,qr=t=>({x:t,y:t}),m5={left:"right",right:"left",bottom:"top",top:"bottom"},g5={start:"end",end:"start"};function dy(t,e,n){return On(t,Ds(e,n))}function bi(t,e){return typeof t=="function"?t(e):t}function Ri(t){return t.split("-")[0]}function Al(t){return t.split("-")[1]}function Zv(t){return t==="x"?"y":"x"}function e0(t){return t==="y"?"height":"width"}function Os(t){return["top","bottom"].includes(Ri(t))?"y":"x"}function t0(t){return Zv(Os(t))}function y5(t,e,n){n===void 0&&(n=!1);const r=Al(t),i=t0(t),a=e0(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=df(l)),[l,df(l)]}function v5(t){const e=df(t);return[hy(t),e,hy(e)]}function hy(t){return t.replace(/start|end/g,e=>g5[e])}function w5(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function _5(t,e,n,r){const i=Al(t);let a=w5(Ri(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(hy)))),a}function df(t){return t.replace(/left|right|bottom|top/g,e=>m5[e])}function x5(t){return{top:0,right:0,bottom:0,left:0,...t}}function sb(t){return typeof t!="number"?x5(t):{top:t,right:t,bottom:t,left:t}}function hf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function VT(t,e,n){let{reference:r,floating:i}=t;const a=Os(e),l=t0(e),u=e0(l),h=Ri(e),p=a==="y",m=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,_=r[u]/2-i[u]/2;let T;switch(h){case"top":T={x:m,y:r.y-i.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y};break;case"left":T={x:r.x-i.width,y};break;default:T={x:r.x,y:r.y}}switch(Al(e)){case"start":T[l]-=_*(n&&p?-1:1);break;case"end":T[l]+=_*(n&&p?-1:1);break}return T}const E5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y}=VT(p,r,h),_=r,T={},b=0;for(let S=0;S<u.length;S++){const{name:C,fn:N}=u[S],{x:L,y:V,data:W,reset:q}=await N({x:m,y,initialPlacement:r,placement:_,strategy:i,middlewareData:T,rects:p,platform:l,elements:{reference:t,floating:e}});m=L??m,y=V??y,T={...T,[C]:{...T[C],...W}},q&&b<=50&&(b++,typeof q=="object"&&(q.placement&&(_=q.placement),q.rects&&(p=q.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:m,y}=VT(p,_,h)),S=-1)}return{x:m,y,placement:_,strategy:i,middlewareData:T}};async function gu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:T=0}=bi(e,t),b=sb(T),C=u[_?y==="floating"?"reference":"floating":y],N=hf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),L=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),W=await(a.isElement==null?void 0:a.isElement(V))?await(a.getScale==null?void 0:a.getScale(V))||{x:1,y:1}:{x:1,y:1},q=hf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:L,offsetParent:V,strategy:h}):L);return{top:(N.top-q.top+b.top)/W.y,bottom:(q.bottom-N.bottom+b.bottom)/W.y,left:(N.left-q.left+b.left)/W.x,right:(q.right-N.right+b.right)/W.x}}const T5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=bi(t,e)||{};if(p==null)return{};const y=sb(m),_={x:n,y:r},T=t0(i),b=e0(T),S=await l.getDimensions(p),C=T==="y",N=C?"top":"left",L=C?"bottom":"right",V=C?"clientHeight":"clientWidth",W=a.reference[b]+a.reference[T]-_[T]-a.floating[b],q=_[T]-a.reference[T],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let k=J?J[V]:0;(!k||!await(l.isElement==null?void 0:l.isElement(J)))&&(k=u.floating[V]||a.floating[b]);const R=W/2-q/2,D=k/2-S[b]/2-1,j=Ds(y[N],D),U=Ds(y[L],D),F=j,O=k-S[b]-U,ve=k/2-S[b]/2+R,Oe=dy(F,ve,O),_e=!h.arrow&&Al(i)!=null&&ve!==Oe&&a.reference[b]/2-(ve<F?j:U)-S[b]/2<0,ce=_e?ve<F?ve-F:ve-O:0;return{[T]:_[T]+ce,data:{[T]:Oe,centerOffset:ve-Oe-ce,..._e&&{alignmentOffset:ce}},reset:_e}}}),S5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:S=!0,...C}=bi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Ri(i),L=Os(u),V=Ri(u)===u,W=await(h.isRTL==null?void 0:h.isRTL(p.floating)),q=_||(V||!S?[df(u)]:v5(u)),J=b!=="none";!_&&J&&q.push(..._5(u,S,b,W));const k=[u,...q],R=await gu(e,C),D=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&D.push(R[N]),y){const ve=y5(i,l,W);D.push(R[ve[0]],R[ve[1]])}if(j=[...j,{placement:i,overflows:D}],!D.every(ve=>ve<=0)){var U,F;const ve=(((U=a.flip)==null?void 0:U.index)||0)+1,Oe=k[ve];if(Oe)return{data:{index:ve,overflows:j},reset:{placement:Oe}};let _e=(F=j.filter(ce=>ce.overflows[0]<=0).sort((ce,X)=>ce.overflows[1]-X.overflows[1])[0])==null?void 0:F.placement;if(!_e)switch(T){case"bestFit":{var O;const ce=(O=j.filter(X=>{if(J){const oe=Os(X.placement);return oe===L||oe==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(oe=>oe>0).reduce((oe,se)=>oe+se,0)]).sort((X,oe)=>X[1]-oe[1])[0])==null?void 0:O[0];ce&&(_e=ce);break}case"initialPlacement":_e=u;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function MT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LT(t){return p5.some(e=>t[e]>=0)}const I5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=bi(t,e);switch(r){case"referenceHidden":{const a=await gu(e,{...i,elementContext:"reference"}),l=MT(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:LT(l)}}}case"escaped":{const a=await gu(e,{...i,altBoundary:!0}),l=MT(a,n.floating);return{data:{escapedOffsets:l,escaped:LT(l)}}}default:return{}}}}};async function C5(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ri(n),u=Al(n),h=Os(n)==="y",p=["left","top"].includes(l)?-1:1,m=a&&h?-1:1,y=bi(e,t);let{mainAxis:_,crossAxis:T,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof b=="number"&&(T=u==="end"?b*-1:b),h?{x:T*m,y:_*p}:{x:_*p,y:T*m}}const A5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=e,h=await C5(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},b5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:N,y:L}=C;return{x:N,y:L}}},...h}=bi(t,e),p={x:n,y:r},m=await gu(e,h),y=Os(Ri(i)),_=Zv(y);let T=p[_],b=p[y];if(a){const C=_==="y"?"top":"left",N=_==="y"?"bottom":"right",L=T+m[C],V=T-m[N];T=dy(L,T,V)}if(l){const C=y==="y"?"top":"left",N=y==="y"?"bottom":"right",L=b+m[C],V=b-m[N];b=dy(L,b,V)}const S=u.fn({...e,[_]:T,[y]:b});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[_]:a,[y]:l}}}}}},R5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=bi(t,e),m={x:n,y:r},y=Os(i),_=Zv(y);let T=m[_],b=m[y];const S=bi(u,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const V=_==="y"?"height":"width",W=a.reference[_]-a.floating[V]+C.mainAxis,q=a.reference[_]+a.reference[V]-C.mainAxis;T<W?T=W:T>q&&(T=q)}if(p){var N,L;const V=_==="y"?"width":"height",W=["top","left"].includes(Ri(i)),q=a.reference[y]-a.floating[V]+(W&&((N=l.offset)==null?void 0:N[y])||0)+(W?0:C.crossAxis),J=a.reference[y]+a.reference[V]+(W?0:((L=l.offset)==null?void 0:L[y])||0)-(W?C.crossAxis:0);b<q?b=q:b>J&&(b=J)}return{[_]:T,[y]:b}}}},P5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=bi(t,e),m=await gu(e,p),y=Ri(i),_=Al(i),T=Os(i)==="y",{width:b,height:S}=a.floating;let C,N;y==="top"||y==="bottom"?(C=y,N=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=y,C=_==="end"?"top":"bottom");const L=S-m.top-m.bottom,V=b-m.left-m.right,W=Ds(S-m[C],L),q=Ds(b-m[N],V),J=!e.middlewareData.shift;let k=W,R=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=L),J&&!_){const j=On(m.left,0),U=On(m.right,0),F=On(m.top,0),O=On(m.bottom,0);T?R=b-2*(j!==0||U!==0?j+U:On(m.left,m.right)):k=S-2*(F!==0||O!==0?F+O:On(m.top,m.bottom))}await h({...e,availableWidth:R,availableHeight:k});const D=await l.getDimensions(u.floating);return b!==D.width||S!==D.height?{reset:{rects:!0}}:{}}}};function Wf(){return typeof window<"u"}function bl(t){return ob(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xr(t){var e;return(e=(ob(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ob(t){return Wf()?t instanceof Node||t instanceof Mn(t).Node:!1}function Sr(t){return Wf()?t instanceof Element||t instanceof Mn(t).Element:!1}function Qr(t){return Wf()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function jT(t){return!Wf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}function ju(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function k5(t){return["table","td","th"].includes(bl(t))}function Hf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function n0(t){const e=r0(),n=Sr(t)?Ir(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N5(t){let e=Vs(t);for(;Qr(e)&&!ul(e);){if(n0(e))return e;if(Hf(e))return null;e=Vs(e)}return null}function r0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ul(t){return["html","body","#document"].includes(bl(t))}function Ir(t){return Mn(t).getComputedStyle(t)}function Gf(t){return Sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vs(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jT(t)&&t.host||Xr(t);return jT(e)?e.host:e}function ab(t){const e=Vs(t);return ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&ju(e)?e:ab(e)}function yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ab(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=Mn(i);if(a){const u=fy(l);return e.concat(l,l.visualViewport||[],ju(i)?i:[],u&&n?yu(u):[])}return e.concat(i,yu(i,[],n))}function fy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lb(t){const e=Ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qr(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=uf(n)!==a||uf(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function i0(t){return Sr(t)?t:t.contextElement}function Xa(t){const e=i0(t);if(!Qr(e))return qr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=lb(e);let l=(a?uf(n.width):n.width)/r,u=(a?uf(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const D5=qr(0);function cb(t){const e=Mn(t);return!r0()||!e.visualViewport?D5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mn(t)?!1:e}function Oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=i0(t);let l=qr(1);e&&(r?Sr(r)&&(l=Xa(r)):l=Xa(t));const u=O5(a,n,r)?cb(a):qr(0);let h=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(a){const _=Mn(a),T=r&&Sr(r)?Mn(r):r;let b=_,S=fy(b);for(;S&&r&&T!==b;){const C=Xa(S),N=S.getBoundingClientRect(),L=Ir(S),V=N.left+(S.clientLeft+parseFloat(L.paddingLeft))*C.x,W=N.top+(S.clientTop+parseFloat(L.paddingTop))*C.y;h*=C.x,p*=C.y,m*=C.x,y*=C.y,h+=V,p+=W,b=Mn(S),S=fy(b)}}return hf({width:m,height:y,x:h,y:p})}function s0(t,e){const n=Gf(t).scrollLeft;return e?e.left+n:Oo(Xr(t)).left+n}function ub(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:s0(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function V5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Xr(r),u=e?Hf(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=qr(1);const m=qr(0),y=Qr(r);if((y||!y&&!a)&&((bl(r)!=="body"||ju(l))&&(h=Gf(r)),Qr(r))){const T=Oo(r);p=Xa(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const _=l&&!y&&!a?ub(l,h,!0):qr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+m.x+_.x,y:n.y*p.y-h.scrollTop*p.y+m.y+_.y}}function M5(t){return Array.from(t.getClientRects())}function L5(t){const e=Xr(t),n=Gf(t),r=t.ownerDocument.body,i=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+s0(t);const u=-n.scrollTop;return Ir(r).direction==="rtl"&&(l+=On(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function j5(t,e){const n=Mn(t),r=Xr(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){a=i.width,l=i.height;const p=r0();(!p||p&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:u,y:h}}function F5(t,e){const n=Oo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Qr(t)?Xa(t):qr(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=i*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function FT(t,e,n){let r;if(e==="viewport")r=j5(t,n);else if(e==="document")r=L5(Xr(t));else if(Sr(e))r=F5(e,n);else{const i=cb(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hf(r)}function db(t,e){const n=Vs(t);return n===e||!Sr(n)||ul(n)?!1:Ir(n).position==="fixed"||db(n,e)}function U5(t,e){const n=e.get(t);if(n)return n;let r=yu(t,[],!1).filter(u=>Sr(u)&&bl(u)!=="body"),i=null;const a=Ir(t).position==="fixed";let l=a?Vs(t):t;for(;Sr(l)&&!ul(l);){const u=Ir(l),h=n0(l);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ju(l)&&!h&&db(t,l))?r=r.filter(m=>m!==l):i=u,l=Vs(l)}return e.set(t,r),r}function B5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?Hf(e)?[]:U5(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,m)=>{const y=FT(e,m,i);return p.top=On(y.top,p.top),p.right=Ds(y.right,p.right),p.bottom=Ds(y.bottom,p.bottom),p.left=On(y.left,p.left),p},FT(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function z5(t){const{width:e,height:n}=lb(t);return{width:e,height:n}}function $5(t,e,n){const r=Qr(e),i=Xr(e),a=n==="fixed",l=Oo(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=qr(0);if(r||!r&&!a)if((bl(e)!=="body"||ju(i))&&(u=Gf(e)),r){const _=Oo(e,!0,a,e);h.x=_.x+e.clientLeft,h.y=_.y+e.clientTop}else i&&(h.x=s0(i));const p=i&&!r&&!a?ub(i,u):qr(0),m=l.left+u.scrollLeft-h.x-p.x,y=l.top+u.scrollTop-h.y-p.y;return{x:m,y,width:l.width,height:l.height}}function ng(t){return Ir(t).position==="static"}function UT(t,e){if(!Qr(t)||Ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Xr(t)===n&&(n=n.ownerDocument.body),n}function hb(t,e){const n=Mn(t);if(Hf(t))return n;if(!Qr(t)){let i=Vs(t);for(;i&&!ul(i);){if(Sr(i)&&!ng(i))return i;i=Vs(i)}return n}let r=UT(t,e);for(;r&&k5(r)&&ng(r);)r=UT(r,e);return r&&ul(r)&&ng(r)&&!n0(r)?n:r||N5(t)||n}const W5=async function(t){const e=this.getOffsetParent||hb,n=this.getDimensions,r=await n(t.floating);return{reference:$5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H5(t){return Ir(t).direction==="rtl"}const G5={convertOffsetParentRelativeRectToViewportRelativeRect:V5,getDocumentElement:Xr,getClippingRect:B5,getOffsetParent:hb,getElementRects:W5,getClientRects:M5,getDimensions:z5,getScale:Xa,isElement:Sr,isRTL:H5};function fb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function q5(t,e){let n=null,r;const i=Xr(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:_,height:T}=p;if(u||e(),!_||!T)return;const b=hh(y),S=hh(i.clientWidth-(m+_)),C=hh(i.clientHeight-(y+T)),N=hh(m),V={rootMargin:-b+"px "+-S+"px "+-C+"px "+-N+"px",threshold:On(0,Ds(1,h))||1};let W=!0;function q(J){const k=J[0].intersectionRatio;if(k!==h){if(!W)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!fb(p,t.getBoundingClientRect())&&l(),W=!1}try{n=new IntersectionObserver(q,{...V,root:i.ownerDocument})}catch{n=new IntersectionObserver(q,V)}n.observe(t)}return l(!0),a}function K5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=i0(t),m=i||a?[...p?yu(p):[],...yu(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const y=p&&u?q5(p,n):null;let _=-1,T=null;l&&(T=new ResizeObserver(N=>{let[L]=N;L&&L.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var V;(V=T)==null||V.observe(e)})),n()}),p&&!h&&T.observe(p),T.observe(e));let b,S=h?Oo(t):null;h&&C();function C(){const N=Oo(t);S&&!fb(S,N)&&n(),S=N,b=requestAnimationFrame(C)}return n(),()=>{var N;m.forEach(L=>{i&&L.removeEventListener("scroll",n),a&&L.removeEventListener("resize",n)}),y==null||y(),(N=T)==null||N.disconnect(),T=null,h&&cancelAnimationFrame(b)}}const Y5=A5,Q5=b5,X5=S5,J5=P5,Z5=I5,BT=T5,eB=R5,tB=(t,e,n)=>{const r=new Map,i={platform:G5,...n},a={...i.platform,_c:r};return E5(t,e,{...i,platform:a})};var kh=typeof document<"u"?A.useLayoutEffect:A.useEffect;function ff(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ff(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!ff(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function pb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zT(t,e){const n=pb(t);return Math.round(e*n)/n}function rg(t){const e=A.useRef(t);return kh(()=>{e.current=t}),e}function nB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[m,y]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=A.useState(r);ff(_,r)||T(r);const[b,S]=A.useState(null),[C,N]=A.useState(null),L=A.useCallback(X=>{X!==J.current&&(J.current=X,S(X))},[]),V=A.useCallback(X=>{X!==k.current&&(k.current=X,N(X))},[]),W=a||b,q=l||C,J=A.useRef(null),k=A.useRef(null),R=A.useRef(m),D=h!=null,j=rg(h),U=rg(i),F=rg(p),O=A.useCallback(()=>{if(!J.current||!k.current)return;const X={placement:e,strategy:n,middleware:_};U.current&&(X.platform=U.current),tB(J.current,k.current,X).then(oe=>{const se={...oe,isPositioned:F.current!==!1};ve.current&&!ff(R.current,se)&&(R.current=se,_u.flushSync(()=>{y(se)}))})},[_,e,n,U,F]);kh(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,y(X=>({...X,isPositioned:!1})))},[p]);const ve=A.useRef(!1);kh(()=>(ve.current=!0,()=>{ve.current=!1}),[]),kh(()=>{if(W&&(J.current=W),q&&(k.current=q),W&&q){if(j.current)return j.current(W,q,O);O()}},[W,q,O,j,D]);const Oe=A.useMemo(()=>({reference:J,floating:k,setReference:L,setFloating:V}),[L,V]),_e=A.useMemo(()=>({reference:W,floating:q}),[W,q]),ce=A.useMemo(()=>{const X={position:n,left:0,top:0};if(!_e.floating)return X;const oe=zT(_e.floating,m.x),se=zT(_e.floating,m.y);return u?{...X,transform:"translate("+oe+"px, "+se+"px)",...pb(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:se}},[n,u,_e.floating,m.x,m.y]);return A.useMemo(()=>({...m,update:O,refs:Oe,elements:_e,floatingStyles:ce}),[m,O,Oe,_e,ce])}const rB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BT({element:r.current,padding:i}).fn(n):{}:r?BT({element:r,padding:i}).fn(n):{}}}},iB=(t,e)=>({...Y5(t),options:[t,e]}),sB=(t,e)=>({...Q5(t),options:[t,e]}),oB=(t,e)=>({...eB(t),options:[t,e]}),aB=(t,e)=>({...X5(t),options:[t,e]}),lB=(t,e)=>({...J5(t),options:[t,e]}),cB=(t,e)=>({...Z5(t),options:[t,e]}),uB=(t,e)=>({...rB(t),options:[t,e]});var dB="Arrow",mb=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return x.jsx(xt.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});mb.displayName=dB;var hB=mb;function fB(t){const[e,n]=A.useState(void 0);return Ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var o0="Popper",[gb,yb]=Xv(o0),[pB,vb]=gb(o0),wb=t=>{const{__scopePopper:e,children:n}=t,[r,i]=A.useState(null);return x.jsx(pB,{scope:e,anchor:r,onAnchorChange:i,children:n})};wb.displayName=o0;var _b="PopperAnchor",xb=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=vb(_b,n),l=A.useRef(null),u=Jt(e,l);return A.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:x.jsx(xt.div,{...i,ref:u})});xb.displayName=_b;var a0="PopperContent",[mB,gB]=gb(a0),Eb=A.forwardRef((t,e)=>{var ue,xe,Ve,ke,Fe,$e;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:b,...S}=t,C=vb(a0,n),[N,L]=A.useState(null),V=Jt(e,ht=>L(ht)),[W,q]=A.useState(null),J=fB(W),k=(J==null?void 0:J.width)??0,R=(J==null?void 0:J.height)??0,D=r+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(p)?p:[p],F=U.length>0,O={padding:j,boundary:U.filter(vB),altBoundary:F},{refs:ve,floatingStyles:Oe,placement:_e,isPositioned:ce,middlewareData:X}=nB({strategy:"fixed",placement:D,whileElementsMounted:(...ht)=>K5(...ht,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[iB({mainAxis:i+R,alignmentAxis:l}),h&&sB({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?oB():void 0,...O}),h&&aB({...O}),lB({...O,apply:({elements:ht,rects:Lt,availableWidth:jn,availableHeight:er})=>{const{width:tr,height:zo}=Lt.reference,nr=ht.floating.style;nr.setProperty("--radix-popper-available-width",`${jn}px`),nr.setProperty("--radix-popper-available-height",`${er}px`),nr.setProperty("--radix-popper-anchor-width",`${tr}px`),nr.setProperty("--radix-popper-anchor-height",`${zo}px`)}}),W&&uB({element:W,padding:u}),wB({arrowWidth:k,arrowHeight:R}),_&&cB({strategy:"referenceHidden",...O})]}),[oe,se]=Ib(_e),$=Ai(b);Ln(()=>{ce&&($==null||$())},[ce,$]);const Z=(ue=X.arrow)==null?void 0:ue.x,ge=(xe=X.arrow)==null?void 0:xe.y,Ae=((Ve=X.arrow)==null?void 0:Ve.centerOffset)!==0,[Pe,Me]=A.useState();return Ln(()=>{N&&Me(window.getComputedStyle(N).zIndex)},[N]),x.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:ce?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(ke=X.transformOrigin)==null?void 0:ke.x,(Fe=X.transformOrigin)==null?void 0:Fe.y].join(" "),...(($e=X.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(mB,{scope:n,placedSide:oe,onArrowChange:q,arrowX:Z,arrowY:ge,shouldHideArrow:Ae,children:x.jsx(xt.div,{"data-side":oe,"data-align":se,...S,ref:V,style:{...S.style,animation:ce?void 0:"none"}})})})});Eb.displayName=a0;var Tb="PopperArrow",yB={top:"bottom",right:"left",bottom:"top",left:"right"},Sb=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=gB(Tb,r),l=yB[a.placedSide];return x.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:x.jsx(hB,{...i,ref:n,style:{...i.style,display:"block"}})})});Sb.displayName=Tb;function vB(t){return t!==null}var wB=t=>({name:"transformOrigin",options:t,fn(e){var C,N,L;const{placement:n,rects:r,middlewareData:i}=e,l=((C=i.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,m]=Ib(n),y={start:"0%",center:"50%",end:"100%"}[m],_=(((N=i.arrow)==null?void 0:N.x)??0)+u/2,T=(((L=i.arrow)==null?void 0:L.y)??0)+h/2;let b="",S="";return p==="bottom"?(b=l?y:`${_}px`,S=`${-h}px`):p==="top"?(b=l?y:`${_}px`,S=`${r.floating.height+h}px`):p==="right"?(b=`${-h}px`,S=l?y:`${T}px`):p==="left"&&(b=`${r.floating.width+h}px`,S=l?y:`${T}px`),{data:{x:b,y:S}}}});function Ib(t){const[e,n="center"]=t.split("-");return[e,n]}var _B=wb,xB=xb,EB=Eb,TB=Sb,SB="Portal",Cb=A.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[i,a]=A.useState(!1);Ln(()=>a(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?FP.createPortal(x.jsx(xt.div,{...r,ref:e}),l):null});Cb.displayName=SB;function $T({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=IB({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,u=Ai(n),h=A.useCallback(p=>{if(a){const y=typeof p=="function"?p(t):p;y!==t&&u(y)}else i(p)},[a,t,i,u]);return[l,h]}function IB({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,i=A.useRef(r),a=Ai(e);return A.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function CB(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AB="VisuallyHidden",Ab=A.forwardRef((t,e)=>x.jsx(xt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ab.displayName=AB;var bB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Na=new WeakMap,fh=new WeakMap,ph={},ig=0,bb=function(t){return t&&(t.host||bb(t.parentNode))},RB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},PB=function(t,e,n,r){var i=RB(e,Array.isArray(t)?t:[t]);ph[n]||(ph[n]=new WeakMap);var a=ph[n],l=[],u=new Set,h=new Set(i),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};i.forEach(p);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(_){if(u.has(_))m(_);else try{var T=_.getAttribute(r),b=T!==null&&T!=="false",S=(Na.get(_)||0)+1,C=(a.get(_)||0)+1;Na.set(_,S),a.set(_,C),l.push(_),S===1&&b&&fh.set(_,!0),C===1&&_.setAttribute(n,"true"),b||_.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",_,N)}})};return m(e),u.clear(),ig++,function(){l.forEach(function(y){var _=Na.get(y)-1,T=a.get(y)-1;Na.set(y,_),a.set(y,T),_||(fh.has(y)||y.removeAttribute(r),fh.delete(y)),T||y.removeAttribute(n)}),ig--,ig||(Na=new WeakMap,Na=new WeakMap,fh=new WeakMap,ph={})}},kB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=bB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),PB(r,i,n,"aria-hidden")):function(){return null}},Nh="right-scroll-bar-position",Dh="width-before-scroll-bar",NB="with-scroll-bars-hidden",DB="--removed-body-scroll-bar-size";function sg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function OB(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var VB=typeof window<"u"?A.useLayoutEffect:A.useEffect,WT=new WeakMap;function MB(t,e){var n=OB(null,function(r){return t.forEach(function(i){return sg(i,r)})});return VB(function(){var r=WT.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(u){a.has(u)||sg(u,null)}),a.forEach(function(u){i.has(u)||sg(u,l)})}WT.set(n,t)},[t]),n}function LB(t){return t}function jB(t,e){e===void 0&&(e=LB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),n}}}};return i}function FB(t){t===void 0&&(t={});var e=jB(null);return e.options=jr({async:!0,ssr:!1},t),e}var Rb=function(t){var e=t.sideCar,n=Su(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,jr({},n))};Rb.isSideCarExport=!0;function UB(t,e){return t.useMedium(e),Rb}var Pb=FB(),og=function(){},qf=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:og,onWheelCapture:og,onTouchMoveCapture:og}),i=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,_=t.sideCar,T=t.noIsolation,b=t.inert,S=t.allowPinchZoom,C=t.as,N=C===void 0?"div":C,L=t.gapMode,V=Su(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=_,q=MB([n,e]),J=jr(jr({},V),i);return A.createElement(A.Fragment,null,m&&A.createElement(W,{sideCar:Pb,removeScrollBar:p,shards:y,noIsolation:T,inert:b,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:L}),l?A.cloneElement(A.Children.only(u),jr(jr({},J),{ref:q})):A.createElement(N,jr({},J,{className:h,ref:q}),u))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:Dh,zeroRight:Nh};var BB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BB();return e&&t.setAttribute("nonce",e),t}function $B(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function WB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var HB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zB())&&($B(e,n),WB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},GB=function(){var t=HB();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kb=function(){var t=GB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},qB={left:0,top:0,right:0,gap:0},ag=function(t){return parseInt(t||"",10)||0},KB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ag(n),ag(r),ag(i)]},YB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qB;var e=KB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},QB=kb(),Ja="data-scroll-locked",XB=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Dh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Nh," .").concat(Nh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ja,`] {
    `).concat(DB,": ").concat(u,`px;
  }
`)},HT=function(){var t=parseInt(document.body.getAttribute(Ja)||"0",10);return isFinite(t)?t:0},JB=function(){A.useEffect(function(){return document.body.setAttribute(Ja,(HT()+1).toString()),function(){var t=HT()-1;t<=0?document.body.removeAttribute(Ja):document.body.setAttribute(Ja,t.toString())}},[])},ZB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;JB();var a=A.useMemo(function(){return YB(i)},[i]);return A.createElement(QB,{styles:XB(a,!e,i,n?"":"!important")})},py=!1;if(typeof window<"u")try{var mh=Object.defineProperty({},"passive",{get:function(){return py=!0,!0}});window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{py=!1}var Da=py?{passive:!1}:!1,e9=function(t){return t.tagName==="TEXTAREA"},Nb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!e9(t)&&n[e]==="visible")},t9=function(t){return Nb(t,"overflowY")},n9=function(t){return Nb(t,"overflowX")},GT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Db(t,r);if(i){var a=Ob(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},r9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},i9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Db=function(t,e){return t==="v"?t9(e):n9(e)},Ob=function(t,e){return t==="v"?r9(e):i9(e)},s9=function(t,e){return t==="h"&&e==="rtl"?-1:1},o9=function(t,e,n,r,i){var a=s9(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),p=!1,m=l>0,y=0,_=0;do{var T=Ob(t,u),b=T[0],S=T[1],C=T[2],N=S-C-a*b;(b||N)&&Db(t,u)&&(y+=N,_+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(_)<1)&&(p=!0),p},gh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qT=function(t){return[t.deltaX,t.deltaY]},KT=function(t){return t&&"current"in t?t.current:t},a9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},l9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c9=0,Oa=[];function u9(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(c9++)[0],a=A.useState(kb)[0],l=A.useRef(t);A.useEffect(function(){l.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=SD([t.lockRef.current],(t.shards||[]).map(KT),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=A.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var N=gh(S),L=n.current,V="deltaX"in S?S.deltaX:L[0]-N[0],W="deltaY"in S?S.deltaY:L[1]-N[1],q,J=S.target,k=Math.abs(V)>Math.abs(W)?"h":"v";if("touches"in S&&k==="h"&&J.type==="range")return!1;var R=GT(k,J);if(!R)return!0;if(R?q=k:(q=k==="v"?"h":"v",R=GT(k,J)),!R)return!1;if(!r.current&&"changedTouches"in S&&(V||W)&&(r.current=q),!q)return!0;var D=r.current||q;return o9(D,C,S,D==="h"?V:W)},[]),h=A.useCallback(function(S){var C=S;if(!(!Oa.length||Oa[Oa.length-1]!==a)){var N="deltaY"in C?qT(C):gh(C),L=e.current.filter(function(q){return q.name===C.type&&(q.target===C.target||C.target===q.shadowParent)&&a9(q.delta,N)})[0];if(L&&L.should){C.cancelable&&C.preventDefault();return}if(!L){var V=(l.current.shards||[]).map(KT).filter(Boolean).filter(function(q){return q.contains(C.target)}),W=V.length>0?u(C,V[0]):!l.current.noIsolation;W&&C.cancelable&&C.preventDefault()}}},[]),p=A.useCallback(function(S,C,N,L){var V={name:S,delta:C,target:N,should:L,shadowParent:d9(N)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(W){return W!==V})},1)},[]),m=A.useCallback(function(S){n.current=gh(S),r.current=void 0},[]),y=A.useCallback(function(S){p(S.type,qT(S),S.target,u(S,t.lockRef.current))},[]),_=A.useCallback(function(S){p(S.type,gh(S),S.target,u(S,t.lockRef.current))},[]);A.useEffect(function(){return Oa.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Da),document.addEventListener("touchmove",h,Da),document.addEventListener("touchstart",m,Da),function(){Oa=Oa.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,Da),document.removeEventListener("touchmove",h,Da),document.removeEventListener("touchstart",m,Da)}},[]);var T=t.removeScrollBar,b=t.inert;return A.createElement(A.Fragment,null,b?A.createElement(a,{styles:l9(i)}):null,T?A.createElement(ZB,{gapMode:t.gapMode}):null)}function d9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const h9=UB(Pb,u9);var Vb=A.forwardRef(function(t,e){return A.createElement(qf,jr({},t,{ref:e,sideCar:h9}))});Vb.classNames=qf.classNames;var f9=[" ","Enter","ArrowUp","ArrowDown"],p9=[" ","Enter"],Fu="Select",[Kf,Yf,m9]=q6(Fu),[Rl,Vz]=Xv(Fu,[m9,yb]),Qf=yb(),[g9,zs]=Rl(Fu),[y9,v9]=Rl(Fu),Mb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:m,autoComplete:y,disabled:_,required:T,form:b}=t,S=Qf(e),[C,N]=A.useState(null),[L,V]=A.useState(null),[W,q]=A.useState(!1),J=Y6(p),[k=!1,R]=$T({prop:r,defaultProp:i,onChange:a}),[D,j]=$T({prop:l,defaultProp:u,onChange:h}),U=A.useRef(null),F=C?b||!!C.closest("form"):!0,[O,ve]=A.useState(new Set),Oe=Array.from(O).map(_e=>_e.props.value).join(";");return x.jsx(_B,{...S,children:x.jsxs(g9,{required:T,scope:e,trigger:C,onTriggerChange:N,valueNode:L,onValueNodeChange:V,valueNodeHasChildren:W,onValueNodeHasChildrenChange:q,contentId:Jv(),value:D,onValueChange:j,open:k,onOpenChange:R,dir:J,triggerPointerDownPosRef:U,disabled:_,children:[x.jsx(Kf.Provider,{scope:e,children:x.jsx(y9,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(_e=>{ve(ce=>new Set(ce).add(_e))},[]),onNativeOptionRemove:A.useCallback(_e=>{ve(ce=>{const X=new Set(ce);return X.delete(_e),X})},[]),children:n})}),F?x.jsxs(aR,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:y,value:D,onChange:_e=>j(_e.target.value),disabled:_,form:b,children:[D===void 0?x.jsx("option",{value:""}):null,Array.from(O)]},Oe):null]})})};Mb.displayName=Fu;var Lb="SelectTrigger",jb=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Qf(n),l=zs(Lb,n),u=l.disabled||r,h=Jt(e,l.onTriggerChange),p=Yf(n),m=A.useRef("touch"),[y,_,T]=lR(S=>{const C=p().filter(V=>!V.disabled),N=C.find(V=>V.value===l.value),L=cR(C,S,N);L!==void 0&&l.onValueChange(L.value)}),b=S=>{u||(l.onOpenChange(!0),T()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return x.jsx(xB,{asChild:!0,...a,children:x.jsx(xt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":oR(l.value)?"":void 0,...i,ref:h,onClick:Ct(i.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&b(S)}),onPointerDown:Ct(i.onPointerDown,S=>{m.current=S.pointerType;const C=S.target;C.hasPointerCapture(S.pointerId)&&C.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(b(S),S.preventDefault())}),onKeyDown:Ct(i.onKeyDown,S=>{const C=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&_(S.key),!(C&&S.key===" ")&&f9.includes(S.key)&&(b(),S.preventDefault())})})})});jb.displayName=Lb;var Fb="SelectValue",Ub=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...u}=t,h=zs(Fb,n),{onValueNodeHasChildrenChange:p}=h,m=a!==void 0,y=Jt(e,h.onValueNodeChange);return Ln(()=>{p(m)},[p,m]),x.jsx(xt.span,{...u,ref:y,style:{pointerEvents:"none"},children:oR(h.value)?x.jsx(x.Fragment,{children:l}):a})});Ub.displayName=Fb;var w9="SelectIcon",Bb=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return x.jsx(xt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Bb.displayName=w9;var _9="SelectPortal",zb=t=>x.jsx(Cb,{asChild:!0,...t});zb.displayName=_9;var Vo="SelectContent",$b=A.forwardRef((t,e)=>{const n=zs(Vo,t.__scopeSelect),[r,i]=A.useState();if(Ln(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?_u.createPortal(x.jsx(Wb,{scope:t.__scopeSelect,children:x.jsx(Kf.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),a):null}return x.jsx(Hb,{...t,ref:e})});$b.displayName=Vo;var wr=10,[Wb,$s]=Rl(Vo),x9="SelectContentImpl",E9=mu("SelectContent.RemoveScroll"),Hb=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:b,hideWhenDetached:S,avoidCollisions:C,...N}=t,L=zs(Vo,n),[V,W]=A.useState(null),[q,J]=A.useState(null),k=Jt(e,ue=>W(ue)),[R,D]=A.useState(null),[j,U]=A.useState(null),F=Yf(n),[O,ve]=A.useState(!1),Oe=A.useRef(!1);A.useEffect(()=>{if(V)return kB(V)},[V]),i5();const _e=A.useCallback(ue=>{const[xe,...Ve]=F().map($e=>$e.ref.current),[ke]=Ve.slice(-1),Fe=document.activeElement;for(const $e of ue)if($e===Fe||($e==null||$e.scrollIntoView({block:"nearest"}),$e===xe&&q&&(q.scrollTop=0),$e===ke&&q&&(q.scrollTop=q.scrollHeight),$e==null||$e.focus(),document.activeElement!==Fe))return},[F,q]),ce=A.useCallback(()=>_e([R,V]),[_e,R,V]);A.useEffect(()=>{O&&ce()},[O,ce]);const{onOpenChange:X,triggerPointerDownPosRef:oe}=L;A.useEffect(()=>{if(V){let ue={x:0,y:0};const xe=ke=>{var Fe,$e;ue={x:Math.abs(Math.round(ke.pageX)-(((Fe=oe.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(ke.pageY)-((($e=oe.current)==null?void 0:$e.y)??0))}},Ve=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():V.contains(ke.target)||X(!1),document.removeEventListener("pointermove",xe),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[V,X,oe]),A.useEffect(()=>{const ue=()=>X(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[X]);const[se,$]=lR(ue=>{const xe=F().filter(Fe=>!Fe.disabled),Ve=xe.find(Fe=>Fe.ref.current===document.activeElement),ke=cR(xe,ue,Ve);ke&&setTimeout(()=>ke.ref.current.focus())}),Z=A.useCallback((ue,xe,Ve)=>{const ke=!Oe.current&&!Ve;(L.value!==void 0&&L.value===xe||ke)&&(D(ue),ke&&(Oe.current=!0))},[L.value]),ge=A.useCallback(()=>V==null?void 0:V.focus(),[V]),Ae=A.useCallback((ue,xe,Ve)=>{const ke=!Oe.current&&!Ve;(L.value!==void 0&&L.value===xe||ke)&&U(ue)},[L.value]),Pe=r==="popper"?my:Gb,Me=Pe===my?{side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:b,hideWhenDetached:S,avoidCollisions:C}:{};return x.jsx(Wb,{scope:n,content:V,viewport:q,onViewportChange:J,itemRefCallback:Z,selectedItem:R,onItemLeave:ge,itemTextRefCallback:Ae,focusSelectedItem:ce,selectedItemText:j,position:r,isPositioned:O,searchRef:se,children:x.jsx(Vb,{as:E9,allowPinchZoom:!0,children:x.jsx(rb,{asChild:!0,trapped:L.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ct(i,ue=>{var xe;(xe=L.trigger)==null||xe.focus({preventScroll:!0}),ue.preventDefault()}),children:x.jsx(tb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:x.jsx(Pe,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ue=>ue.preventDefault(),...N,...Me,onPlaced:()=>ve(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ct(N.onKeyDown,ue=>{const xe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!xe&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=F().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Fe=ue.target,$e=ke.indexOf(Fe);ke=ke.slice($e+1)}setTimeout(()=>_e(ke)),ue.preventDefault()}})})})})})})});Hb.displayName=x9;var T9="SelectItemAlignedPosition",Gb=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=zs(Vo,n),l=$s(Vo,n),[u,h]=A.useState(null),[p,m]=A.useState(null),y=Jt(e,k=>m(k)),_=Yf(n),T=A.useRef(!1),b=A.useRef(!0),{viewport:S,selectedItem:C,selectedItemText:N,focusSelectedItem:L}=l,V=A.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&S&&C&&N){const k=a.trigger.getBoundingClientRect(),R=p.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),j=N.getBoundingClientRect();if(a.dir!=="rtl"){const Fe=j.left-R.left,$e=D.left-Fe,ht=k.left-$e,Lt=k.width+ht,jn=Math.max(Lt,R.width),er=window.innerWidth-wr,tr=AT($e,[wr,Math.max(wr,er-jn)]);u.style.minWidth=Lt+"px",u.style.left=tr+"px"}else{const Fe=R.right-j.right,$e=window.innerWidth-D.right-Fe,ht=window.innerWidth-k.right-$e,Lt=k.width+ht,jn=Math.max(Lt,R.width),er=window.innerWidth-wr,tr=AT($e,[wr,Math.max(wr,er-jn)]);u.style.minWidth=Lt+"px",u.style.right=tr+"px"}const U=_(),F=window.innerHeight-wr*2,O=S.scrollHeight,ve=window.getComputedStyle(p),Oe=parseInt(ve.borderTopWidth,10),_e=parseInt(ve.paddingTop,10),ce=parseInt(ve.borderBottomWidth,10),X=parseInt(ve.paddingBottom,10),oe=Oe+_e+O+X+ce,se=Math.min(C.offsetHeight*5,oe),$=window.getComputedStyle(S),Z=parseInt($.paddingTop,10),ge=parseInt($.paddingBottom,10),Ae=k.top+k.height/2-wr,Pe=F-Ae,Me=C.offsetHeight/2,ue=C.offsetTop+Me,xe=Oe+_e+ue,Ve=oe-xe;if(xe<=Ae){const Fe=U.length>0&&C===U[U.length-1].ref.current;u.style.bottom="0px";const $e=p.clientHeight-S.offsetTop-S.offsetHeight,ht=Math.max(Pe,Me+(Fe?ge:0)+$e+ce),Lt=xe+ht;u.style.height=Lt+"px"}else{const Fe=U.length>0&&C===U[0].ref.current;u.style.top="0px";const ht=Math.max(Ae,Oe+S.offsetTop+(Fe?Z:0)+Me)+Ve;u.style.height=ht+"px",S.scrollTop=xe-Ae+S.offsetTop}u.style.margin=`${wr}px 0`,u.style.minHeight=se+"px",u.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[_,a.trigger,a.valueNode,u,p,S,C,N,a.dir,r]);Ln(()=>V(),[V]);const[W,q]=A.useState();Ln(()=>{p&&q(window.getComputedStyle(p).zIndex)},[p]);const J=A.useCallback(k=>{k&&b.current===!0&&(V(),L==null||L(),b.current=!1)},[V,L]);return x.jsx(I9,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:J,children:x.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:x.jsx(xt.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Gb.displayName=T9;var S9="SelectPopperPosition",my=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=wr,...a}=t,l=Qf(n);return x.jsx(EB,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=S9;var[I9,l0]=Rl(Vo,{}),gy="SelectViewport",qb=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=$s(gy,n),l=l0(gy,n),u=Jt(e,a.onViewportChange),h=A.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(Kf.Slot,{scope:n,children:x.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ct(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=l;if(_!=null&&_.current&&y){const T=Math.abs(h.current-m.scrollTop);if(T>0){const b=window.innerHeight-wr*2,S=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),N=Math.max(S,C);if(N<b){const L=N+T,V=Math.min(b,L),W=L-V;y.style.height=V+"px",y.style.bottom==="0px"&&(m.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});qb.displayName=gy;var Kb="SelectGroup",[C9,A9]=Rl(Kb),b9=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jv();return x.jsx(C9,{scope:n,id:i,children:x.jsx(xt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});b9.displayName=Kb;var Yb="SelectLabel",Qb=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=A9(Yb,n);return x.jsx(xt.div,{id:i.id,...r,ref:e})});Qb.displayName=Yb;var pf="SelectItem",[R9,Xb]=Rl(pf),Jb=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,u=zs(pf,n),h=$s(pf,n),p=u.value===r,[m,y]=A.useState(a??""),[_,T]=A.useState(!1),b=Jt(e,L=>{var V;return(V=h.itemRefCallback)==null?void 0:V.call(h,L,r,i)}),S=Jv(),C=A.useRef("touch"),N=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(R9,{scope:n,value:r,disabled:i,textId:S,isSelected:p,onItemTextChange:A.useCallback(L=>{y(V=>V||((L==null?void 0:L.textContent)??"").trim())},[]),children:x.jsx(Kf.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:x.jsx(xt.div,{role:"option","aria-labelledby":S,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:Ct(l.onFocus,()=>T(!0)),onBlur:Ct(l.onBlur,()=>T(!1)),onClick:Ct(l.onClick,()=>{C.current!=="mouse"&&N()}),onPointerUp:Ct(l.onPointerUp,()=>{C.current==="mouse"&&N()}),onPointerDown:Ct(l.onPointerDown,L=>{C.current=L.pointerType}),onPointerMove:Ct(l.onPointerMove,L=>{var V;C.current=L.pointerType,i?(V=h.onItemLeave)==null||V.call(h):C.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(l.onPointerLeave,L=>{var V;L.currentTarget===document.activeElement&&((V=h.onItemLeave)==null||V.call(h))}),onKeyDown:Ct(l.onKeyDown,L=>{var W;((W=h.searchRef)==null?void 0:W.current)!==""&&L.key===" "||(p9.includes(L.key)&&N(),L.key===" "&&L.preventDefault())})})})})});Jb.displayName=pf;var Oc="SelectItemText",Zb=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=zs(Oc,n),u=$s(Oc,n),h=Xb(Oc,n),p=v9(Oc,n),[m,y]=A.useState(null),_=Jt(e,N=>y(N),h.onItemTextChange,N=>{var L;return(L=u.itemTextRefCallback)==null?void 0:L.call(u,N,h.value,h.disabled)}),T=m==null?void 0:m.textContent,b=A.useMemo(()=>x.jsx("option",{value:h.value,disabled:h.disabled,children:T},h.value),[h.disabled,h.value,T]),{onNativeOptionAdd:S,onNativeOptionRemove:C}=p;return Ln(()=>(S(b),()=>C(b)),[S,C,b]),x.jsxs(x.Fragment,{children:[x.jsx(xt.span,{id:h.textId,...a,ref:_}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?_u.createPortal(a.children,l.valueNode):null]})});Zb.displayName=Oc;var eR="SelectItemIndicator",tR=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Xb(eR,n).isSelected?x.jsx(xt.span,{"aria-hidden":!0,...r,ref:e}):null});tR.displayName=eR;var yy="SelectScrollUpButton",nR=A.forwardRef((t,e)=>{const n=$s(yy,t.__scopeSelect),r=l0(yy,t.__scopeSelect),[i,a]=A.useState(!1),l=Jt(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?x.jsx(iR,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});nR.displayName=yy;var vy="SelectScrollDownButton",rR=A.forwardRef((t,e)=>{const n=$s(vy,t.__scopeSelect),r=l0(vy,t.__scopeSelect),[i,a]=A.useState(!1),l=Jt(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<p;a(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?x.jsx(iR,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});rR.displayName=vy;var iR=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=$s("SelectScrollButton",n),l=A.useRef(null),u=Yf(n),h=A.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return A.useEffect(()=>()=>h(),[h]),Ln(()=>{var m;const p=u().find(y=>y.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),x.jsx(xt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ct(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ct(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ct(i.onPointerLeave,()=>{h()})})}),P9="SelectSeparator",sR=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.jsx(xt.div,{"aria-hidden":!0,...r,ref:e})});sR.displayName=P9;var wy="SelectArrow",k9=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Qf(n),a=zs(wy,n),l=$s(wy,n);return a.open&&l.position==="popper"?x.jsx(TB,{...i,...r,ref:e}):null});k9.displayName=wy;function oR(t){return t===""||t===void 0}var aR=A.forwardRef((t,e)=>{const{value:n,...r}=t,i=A.useRef(null),a=Jt(e,i),l=CB(n);return A.useEffect(()=>{const u=i.current,h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==n&&m){const y=new Event("change",{bubbles:!0});m.call(u,n),u.dispatchEvent(y)}},[l,n]),x.jsx(Ab,{asChild:!0,children:x.jsx("select",{...r,ref:a,defaultValue:n})})});aR.displayName="BubbleSelect";function lR(t){const e=Ai(t),n=A.useRef(""),r=A.useRef(0),i=A.useCallback(l=>{const u=n.current+l;e(u),function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[e]),a=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function cR(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=N9(t,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function N9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var D9=Mb,uR=jb,O9=Ub,V9=Bb,M9=zb,dR=$b,L9=qb,hR=Qb,fR=Jb,j9=Zb,F9=tR,pR=nR,mR=rR,gR=sR;const lg=D9,cg=O9,Oh=A.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(uR,{ref:r,className:Mt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",t),...n,children:[e,x.jsx(V9,{asChild:!0,children:x.jsx(FA,{className:"h-4 w-4 opacity-50"})})]}));Oh.displayName=uR.displayName;const yR=A.forwardRef(({className:t,...e},n)=>x.jsx(pR,{ref:n,className:Mt("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(qU,{className:"h-4 w-4"})}));yR.displayName=pR.displayName;const vR=A.forwardRef(({className:t,...e},n)=>x.jsx(mR,{ref:n,className:Mt("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(FA,{className:"h-4 w-4"})}));vR.displayName=mR.displayName;const Vh=A.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>x.jsx(M9,{children:x.jsxs(dR,{ref:i,className:Mt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[x.jsx(yR,{}),x.jsx(L9,{className:Mt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(vR,{})]})}));Vh.displayName=dR.displayName;const U9=A.forwardRef(({className:t,...e},n)=>x.jsx(hR,{ref:n,className:Mt("px-2 py-1.5 text-sm font-semibold",t),...e}));U9.displayName=hR.displayName;const Mh=A.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(fR,{ref:r,className:Mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",t),...n,children:[x.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(F9,{children:x.jsx(Dc,{className:"h-4 w-4"})})}),x.jsx(j9,{children:e})]}));Mh.displayName=fR.displayName;const B9=A.forwardRef(({className:t,...e},n)=>x.jsx(gR,{ref:n,className:Mt("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",t),...e}));B9.displayName=gR.displayName;const wR=A.forwardRef(({className:t,...e},n)=>x.jsx("textarea",{className:Mt("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:n,...e}));wR.displayName="Textarea";const z9=["Basketball","Football","Soccer","Baseball","Softball","Tennis","Golf","Swimming","Track and Field","Cross Country","Wrestling","Volleyball","Lacrosse","Hockey","Gymnastics","Cheerleading","Other"],$9=["Freshman","Sophomore","Junior","Senior"],W9=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];function H9(){const t=Lo(),{currentUser:e}=El(),[n,r]=A.useState(!1),[i,a]=A.useState(""),[l,u]=A.useState({sport:"",schoolYear:"",state:"",goals:""}),h=async y=>{y.preventDefault(),r(!0),a("");try{if(!e)throw new Error("No user logged in");await nj(Df(ou,"users",e.uid),{...l,hasCompletedProfile:!0,profileCompletedAt:new Date}),t("/dashboard")}catch(_){a(_.message||"Failed to save profile")}finally{r(!1)}},p=(y,_)=>{u({...l,[y]:_})},m=l.sport&&l.schoolYear&&l.state&&l.goals.trim();return x.jsxs("div",{className:"min-h-screen bg-white",children:[x.jsx("div",{className:"bg-black text-white py-6",children:x.jsx("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-10 h-10 bg-elite-lime rounded-lg flex items-center justify-center",children:x.jsx(Gr,{className:"w-6 h-6 text-black"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-heading font-bold",children:"NIL Navigator"}),x.jsx("p",{className:"text-elite-gray-300 text-sm",children:"Profile Setup"})]})]})})}),x.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-12",children:[x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-black mb-4",children:"Complete Your Athlete Profile"}),x.jsx("p",{className:"text-xl text-elite-gray-600 max-w-2xl mx-auto",children:"Help us create the perfect NIL strategy tailored specifically to your athletic journey and goals."})]}),i&&x.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm mb-8 max-w-2xl mx-auto",children:i}),x.jsx(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"max-w-2xl mx-auto",children:x.jsxs("form",{onSubmit:h,className:"space-y-8",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs(Jn,{className:"flex items-center text-lg font-heading font-semibold text-black",children:[x.jsx($A,{className:"w-5 h-5 mr-2 text-elite-lime"}),"What sport do you play?"]}),x.jsxs(lg,{onValueChange:y=>p("sport",y),children:[x.jsx(Oh,{className:"h-12 border-2 border-elite-gray-300 focus:border-elite-lime",children:x.jsx(cg,{placeholder:"Select your primary sport"})}),x.jsx(Vh,{children:z9.map(y=>x.jsx(Mh,{value:y,children:y},y))})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs(Jn,{className:"flex items-center text-lg font-heading font-semibold text-black",children:[x.jsx(jA,{className:"w-5 h-5 mr-2 text-elite-lime"}),"What year are you in high school?"]}),x.jsxs(lg,{onValueChange:y=>p("schoolYear",y),children:[x.jsx(Oh,{className:"h-12 border-2 border-elite-gray-300 focus:border-elite-lime",children:x.jsx(cg,{placeholder:"Select your current school year"})}),x.jsx(Vh,{children:$9.map(y=>x.jsx(Mh,{value:y,children:y},y))})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs(Jn,{className:"flex items-center text-lg font-heading font-semibold text-black",children:[x.jsx(zA,{className:"w-5 h-5 mr-2 text-elite-lime"}),"Which state do you live in?"]}),x.jsxs(lg,{onValueChange:y=>p("state",y),children:[x.jsx(Oh,{className:"h-12 border-2 border-elite-gray-300 focus:border-elite-lime",children:x.jsx(cg,{placeholder:"Select your state"})}),x.jsx(Vh,{className:"max-h-60",children:W9.map(y=>x.jsx(Mh,{value:y,children:y},y))})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs(Jn,{className:"flex items-center text-lg font-heading font-semibold text-black",children:[x.jsx(zf,{className:"w-5 h-5 mr-2 text-elite-lime"}),"What are your athletic and NIL goals?"]}),x.jsx(wR,{value:l.goals,onChange:y=>p("goals",y.target.value),placeholder:"Describe your goals... (e.g., 'I want to get a college scholarship, build my social media following, and eventually pursue professional athletics. I'm also interested in partnering with local businesses and building my personal brand.')",className:"min-h-32 border-2 border-elite-gray-300 focus:border-elite-lime focus:ring-elite-lime resize-none",required:!0}),x.jsx("p",{className:"text-sm text-elite-gray-500",children:"Be specific about your aspirations - this helps us create a more personalized strategy."})]}),x.jsx("div",{className:"pt-8",children:x.jsx(Qt,{type:"submit",disabled:n||!m,className:"w-full bg-black text-white hover:bg-elite-gray-800 font-heading font-semibold py-4 text-lg",children:n?"Creating Your Profile...":x.jsxs(x.Fragment,{children:["Generate My NIL Strategy",x.jsx(oy,{className:"ml-2 w-5 h-5"})]})})})]})})]})]})}const ms=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t),...e}));ms.displayName="Card";const Io=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("flex flex-col space-y-1.5 p-6",t),...e}));Io.displayName="CardHeader";const gs=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("font-semibold leading-none tracking-tight",t),...e}));gs.displayName="CardTitle";const qc=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));qc.displayName="CardDescription";const ys=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("p-6 pt-0",t),...e}));ys.displayName="CardContent";const G9=A.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Mt("flex items-center p-6 pt-0",t),...e}));G9.displayName="CardFooter";var YT;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(YT||(YT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QT;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(QT||(QT={}));var XT;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(XT||(XT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=["user","model","function","system"];var ZT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ZT||(ZT={}));var eS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(eS||(eS={}));var tS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tS||(tS={}));var nS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(nS||(nS={}));var Kc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Kc||(Kc={}));var rS;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(rS||(rS={}));var iS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(iS||(iS={}));var sS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sS||(sS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Va extends an{constructor(e,n){super(e),this.response=n}}class _R extends an{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Ss extends an{}class xR extends an{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="https://generativelanguage.googleapis.com",K9="v1beta",Y9="0.24.1",Q9="genai-js";var Mo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Mo||(Mo={}));class X9{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||K9;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||q9}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function J9(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Q9}/${Y9}`),e.join(" ")}async function Z9(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",J9(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ss(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Ss(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ss(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function ez(t,e,n,r,i,a){const l=new X9(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},iz(a)),{method:"POST",headers:await Z9(l),body:i})}}async function Uu(t,e,n,r,i,a={},l=fetch){const{url:u,fetchOptions:h}=await ez(t,e,n,r,i,a);return tz(u,h,l)}async function tz(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){nz(i,t)}return r.ok||await rz(r,t),r}function nz(t,e){let n=t;throw n.name==="AbortError"?(n=new xR(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof _R||t instanceof Ss||(n=new an(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function rz(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new _R(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function iz(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Lh(t.candidates[0]))throw new Va(`${as(t)}`,t);return sz(t)}else if(t.promptFeedback)throw new Va(`Text not available. ${as(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Lh(t.candidates[0]))throw new Va(`${as(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),oS(t)[0]}else if(t.promptFeedback)throw new Va(`Function call not available. ${as(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Lh(t.candidates[0]))throw new Va(`${as(t)}`,t);return oS(t)}else if(t.promptFeedback)throw new Va(`Function call not available. ${as(t)}`,t)},t}function sz(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function oS(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const oz=[Kc.RECITATION,Kc.SAFETY,Kc.LANGUAGE];function Lh(t){return!!t.finishReason&&oz.includes(t.finishReason)}function as(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];Lh(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function vu(t){return this instanceof vu?(this.v=t,this):new vu(t)}function az(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(_){r[_]&&(i[_]=function(T){return new Promise(function(b,S){a.push([_,T,b,S])>1||u(_,T)})})}function u(_,T){try{h(r[_](T))}catch(b){y(a[0][3],b)}}function h(_){_.value instanceof vu?Promise.resolve(_.value.v).then(p,m):y(a[0][2],_)}function p(_){u("next",_)}function m(_){u("throw",_)}function y(_,T){_(T),a.shift(),a.length&&u(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function lz(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=dz(e),[r,i]=n.tee();return{stream:uz(r),response:cz(i)}}async function cz(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return c0(hz(e));e.push(i)}}function uz(t){return az(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield vu(n.read());if(i)break;yield yield vu(c0(r))}})}function dz(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new an("Failed to parse stream"));return}r.close();return}i+=l;let h=i.match(aS),p;for(;h;){try{p=JSON.parse(h[1])}catch{r.error(new an(`Error parsing JSON response: "${h[1]}"`));return}r.enqueue(p),i=i.substring(h[0].length),h=i.match(aS)}return a()}).catch(l=>{let u=l;throw u.stack=l.stack,u.name==="AbortError"?u=new xR("Request aborted when reading from the stream"):u=new an("Error reading from the stream"),u})}}})}function hz(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const l={};for(const u of a.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[i].content.parts.push(l)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e,n,r){const i=await Uu(e,Mo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return lz(i)}async function TR(t,e,n,r){const a=await(await Uu(e,Mo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:c0(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function wu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return fz(e)}function fz(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new an("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new an("No content is provided for sending chat message.");return r?e:n}function pz(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ss("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=wu(t);r.contents=[a]}return{generateContentRequest:r}}function lS(t){let e;return t.contents?e=t:e={contents:[wu(t)]},t.systemInstruction&&(e.systemInstruction=SR(t.systemInstruction)),e}function mz(t){return typeof t=="string"||Array.isArray(t)?{content:wu(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],gz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function yz(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new an(`First content should be with role 'user', got ${r}`);if(!JT.includes(r))throw new an(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(JT)}`);if(!Array.isArray(i))throw new an("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new an("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of i)for(const h of cS)h in u&&(a[h]+=1);const l=gz[r];for(const u of cS)if(!l.includes(u)&&a[u]>0)throw new an(`Content with role '${r}' can't contain '${u}' part`);e=!0}}function uS(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="SILENT_ERROR";class vz{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(yz(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,l,u,h;await this._sendPromise;const p=wu(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),n);let _;return this._sendPromise=this._sendPromise.then(()=>TR(this._apiKey,this.model,m,y)).then(T=>{var b;if(uS(T.response)){this._history.push(p);const S=Object.assign({parts:[],role:"model"},(b=T.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(S)}else{const S=as(T.response);S&&console.warn(`sendMessage() was unsuccessful. ${S}. Inspect response object for details.`)}_=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,_}async sendMessageStream(e,n={}){var r,i,a,l,u,h;await this._sendPromise;const p=wu(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),n),_=ER(this._apiKey,this.model,m,y);return this._sendPromise=this._sendPromise.then(()=>_).catch(T=>{throw new Error(dS)}).then(T=>T.response).then(T=>{if(uS(T)){this._history.push(p);const b=Object.assign({},T.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=as(T);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(T=>{T.message!==dS&&console.error(T)}),_}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e,n,r){return(await Uu(e,Mo.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e,n,r){return(await Uu(e,Mo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function xz(t,e,n,r){const i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Uu(e,Mo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=SR(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=lS(e),a=Object.assign(Object.assign({},this._requestOptions),n);return TR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=lS(e),a=Object.assign(Object.assign({},this._requestOptions),n);return ER(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new vz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=pz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return wz(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=mz(e),i=Object.assign(Object.assign({},this._requestOptions),n);return _z(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return xz(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new an("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new hS(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ss("Cached content must contain a `name` field.");if(!e.model)throw new Ss("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(n!=null&&n[l]&&e[l]&&(n==null?void 0:n[l])!==e[l]){if(l==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===h)continue}throw new Ss(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new hS(this.apiKey,a,r)}}const Tz="demo-gemini-key",Sz=new Ez(Tz);async function Iz(t){try{const e=Sz.getGenerativeModel({model:"gemini-pro"}),n=`
You are an expert NIL (Name, Image, Likeness) advisor for high school athletes. Generate a comprehensive, personalized NIL action plan for the following athlete:

Sport: ${t.sport}
School Year: ${t.schoolYear}
State: ${t.state}
Goals: ${t.goals}

Create a detailed NIL action plan that includes:

1. A compelling title for their NIL journey
2. An executive overview of their NIL potential
3. 4-5 specific phases of development with:
   - Phase name
   - Clear title
   - Detailed description
   - Timeline (e.g., "Months 1-2", "Junior Year", etc.)
   - 3-5 specific action items
4. 3-5 quick wins they can implement immediately
5. 3-5 long-term strategic goals

Make it specific to their sport, location, and goals. Focus on realistic, actionable strategies that a high school athlete can actually implement. Consider state-specific NIL regulations and opportunities.

Return the response in this exact JSON format:
{
  "title": "Your NIL Success Blueprint",
  "overview": "Executive summary of NIL potential and strategy",
  "steps": [
    {
      "phase": "Phase 1",
      "title": "Foundation Building",
      "description": "Detailed description of this phase",
      "timeline": "Months 1-2",
      "actions": ["Action 1", "Action 2", "Action 3"]
    }
  ],
  "quickWins": ["Quick win 1", "Quick win 2", "Quick win 3"],
  "longTermGoals": ["Long-term goal 1", "Long-term goal 2", "Long-term goal 3"]
}
`,l=(await(await e.generateContent(n)).response).text().match(/\{[\s\S]*\}/);if(!l)throw new Error("No valid JSON found in response");return JSON.parse(l[0])}catch(e){return console.error("Error generating NIL plan:",e),{title:`${t.sport} NIL Success Blueprint`,overview:`A comprehensive action plan designed specifically for a ${t.schoolYear} ${t.sport} athlete in ${t.state}. This plan focuses on building your personal brand, maximizing NIL opportunities, and achieving your goals of ${t.goals}.`,steps:[{phase:"Phase 1",title:"Foundation Building",description:"Establish your digital presence and personal brand foundation across key platforms.",timeline:"Months 1-2",actions:["Create professional social media profiles on Instagram, TikTok, and Twitter","Develop a consistent visual brand with colors, fonts, and style","Set up basic content creation equipment (phone tripod, ring light)","Research and follow successful athletes in your sport","Create a content calendar for regular posting"]},{phase:"Phase 2",title:"Content Creation & Engagement",description:"Build an engaged following through consistent, high-quality content.",timeline:"Months 3-6",actions:["Post training content 3-4 times per week","Share behind-the-scenes moments from competitions","Engage with your local sports community online","Collaborate with teammates and other local athletes","Start a weekly series highlighting your journey"]},{phase:"Phase 3",title:"Local Partnership Development",description:"Identify and pursue partnerships with local businesses and brands.",timeline:"Months 6-12",actions:["Research local businesses that align with your values","Create a professional media kit with your stats and reach","Reach out to local sports retailers and fitness centers","Offer to promote local events and fundraisers","Develop partnership proposal templates"]},{phase:"Phase 4",title:"Brand Expansion",description:"Scale your influence and pursue larger opportunities.",timeline:"Year 2+",actions:["Apply for regional and national brand partnerships","Launch your own merchandise line","Start a podcast or YouTube channel","Mentor younger athletes in your community","Explore speaking opportunities at local events"]}],quickWins:["Optimize all social media bios with sport, school, and contact info","Post a professional headshot and action shot on all platforms","Share your training schedule and upcoming competitions","Tag local businesses you already support in your posts","Connect with college coaches and recruiters in your sport"],longTermGoals:["Build a following of 10,000+ engaged fans across platforms","Secure 3-5 regular local business partnerships","Generate $5,000+ annually from NIL activities","Become a recognized leader in your local sports community","Use NIL success to support college recruitment goals"]}}}function Cz({userProfile:t,onPlanGenerated:e,onCancel:n}){const{currentUser:r}=El(),[i,a]=A.useState(!1),[l,u]=A.useState(""),[h,p]=A.useState(0),m=async()=>{a(!0),u(""),p(0);try{const y=setInterval(()=>{p(C=>C>=90?(clearInterval(y),C):C+Math.random()*20)},500),_={sport:t.sport,schoolYear:t.schoolYear,state:t.state,goals:t.goals,name:`${t.firstName} ${t.lastName}`},T=await Iz(_);clearInterval(y),p(100);const S={id:(await rj(GC(ou,"nilPlans"),{...T,userId:r.uid,createdAt:new Date,athleteProfile:_})).id,...T,createdAt:new Date};setTimeout(()=>{e(S)},1e3)}catch(y){console.error("Error generating NIL plan:",y),u(y.message||"Failed to generate NIL plan. Please try again."),a(!1),p(0)}};return x.jsxs("div",{className:"min-h-screen bg-white",children:[x.jsx("div",{className:"bg-black text-white py-6",children:x.jsx("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-10 h-10 bg-elite-lime rounded-lg flex items-center justify-center",children:x.jsx(Gr,{className:"w-6 h-6 text-black"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-heading font-bold",children:"NIL Navigator"}),x.jsx("p",{className:"text-elite-gray-300 text-sm",children:"AI Plan Generator"})]})]}),!i&&x.jsxs(Qt,{variant:"ghost",onClick:n,className:"text-white hover:text-elite-gray-300",children:[x.jsx(pu,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})})}),x.jsx("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-12",children:i?x.jsxs(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-elite-lime rounded-full flex items-center justify-center mx-auto mb-6",children:x.jsx(XU,{className:"w-10 h-10 text-black animate-pulse"})}),x.jsx("h2",{className:"text-3xl font-heading font-bold text-black",children:"Crafting Your Elite Strategy"}),x.jsx("p",{className:"text-xl text-elite-gray-600 max-w-2xl mx-auto",children:"Our AI is analyzing your profile and generating a personalized NIL action plan designed specifically for your success."})]}),x.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[x.jsx("div",{className:"w-full bg-elite-gray-200 rounded-full h-3",children:x.jsx(Ke.div,{initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5},className:"bg-elite-lime h-3 rounded-full"})}),x.jsxs("p",{className:"text-elite-gray-600",children:[h<30&&"Analyzing your athletic profile...",h>=30&&h<60&&"Researching NIL opportunities in your state...",h>=60&&h<90&&"Creating your personalized strategy...",h>=90&&"Finalizing your elite NIL plan..."]})]}),x.jsxs("div",{className:"bg-elite-gray-50 rounded-2xl p-8 max-w-2xl mx-auto",children:[x.jsx("h3",{className:"text-lg font-heading font-semibold text-black mb-4",children:"What's Being Created For You:"}),x.jsxs("div",{className:"space-y-3 text-left",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full"}),x.jsx("p",{className:"text-elite-gray-700",children:"Personalized NIL strategy roadmap"})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full"}),x.jsx("p",{className:"text-elite-gray-700",children:"Step-by-step action phases"})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full"}),x.jsx("p",{className:"text-elite-gray-700",children:"Quick wins you can implement today"})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full"}),x.jsx("p",{className:"text-elite-gray-700",children:"Long-term strategic goals"})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full"}),x.jsx("p",{className:"text-elite-gray-700",children:"Sport and location-specific opportunities"})]})]})]})]}):x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-black",children:"Generate Your Elite NIL Strategy"}),x.jsx("p",{className:"text-xl text-elite-gray-600 max-w-2xl mx-auto",children:"Our AI will analyze your profile and create a personalized, professional-grade NIL action plan designed specifically for your athletic journey."})]}),x.jsxs("div",{className:"bg-elite-gray-50 rounded-2xl p-8 max-w-2xl mx-auto",children:[x.jsx("h3",{className:"text-xl font-heading font-semibold text-black mb-6",children:"Your Profile Summary"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500 mb-1",children:"Athlete"}),x.jsxs("p",{className:"font-medium text-black",children:[t.firstName," ",t.lastName]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500 mb-1",children:"Sport"}),x.jsx("p",{className:"font-medium text-black",children:t.sport})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500 mb-1",children:"School Year"}),x.jsx("p",{className:"font-medium text-black",children:t.schoolYear})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500 mb-1",children:"State"}),x.jsx("p",{className:"font-medium text-black",children:t.state})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("p",{className:"text-sm text-elite-gray-500 mb-2",children:"Goals"}),x.jsx("p",{className:"text-black leading-relaxed",children:t.goals})]})]}),l&&x.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg max-w-2xl mx-auto",children:l}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs(Qt,{onClick:m,className:"bg-elite-lime text-black hover:bg-elite-lime/90 font-heading font-semibold px-8 py-4 text-lg",children:[x.jsx($f,{className:"w-5 h-5 mr-2"}),"Generate My Elite NIL Plan"]}),x.jsx("p",{className:"text-sm text-elite-gray-500",children:"This usually takes 30-60 seconds to create your personalized strategy"})]})]})})]})}const Az=Yv("inline-flex items-center rounded-md border border-zinc-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 shadow hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function bz({className:t,variant:e,...n}){return x.jsx("div",{className:Mt(Az({variant:e}),t),...n})}function Rz({plan:t,onBack:e}){var n,r;return x.jsxs("div",{className:"min-h-screen bg-elite-gray-50",children:[x.jsx("div",{className:"bg-white border-b border-elite-gray-200 sticky top-0 z-10",children:x.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:x.jsx("div",{className:"flex items-center justify-between py-6",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(Qt,{variant:"ghost",onClick:e,className:"text-black hover:text-elite-gray-700",children:[x.jsx(pu,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),x.jsx("div",{className:"w-8 h-8 bg-elite-lime rounded-lg flex items-center justify-center",children:x.jsx(Gr,{className:"w-5 h-5 text-black"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-heading font-bold text-black",children:"NIL Action Plan"}),x.jsxs("p",{className:"text-elite-gray-600 text-sm",children:["Generated ",(n=t.createdAt)==null?void 0:n.toDate().toLocaleDateString()]})]})]})})})}),x.jsxs("div",{className:"max-w-6xl mx-auto px-6 lg:px-8 py-8",children:[x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-black mb-4",children:t.title}),x.jsx("p",{className:"text-xl text-elite-gray-600 max-w-4xl mx-auto leading-relaxed",children:t.overview})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2 space-y-8",children:x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},children:[x.jsxs("h3",{className:"text-2xl font-heading font-bold text-black mb-6 flex items-center",children:[x.jsx(zf,{className:"w-6 h-6 text-elite-lime mr-3"}),"Strategic Development Phases"]}),x.jsx("div",{className:"space-y-6",children:t.steps.map((i,a)=>x.jsx(Ke.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.1*a},children:x.jsxs(ms,{className:"border-l-4 border-l-elite-lime hover:shadow-lg transition-shadow",children:[x.jsxs(Io,{children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{children:[x.jsx(bz,{variant:"outline",className:"mb-2",children:i.phase}),x.jsx(gs,{className:"text-xl font-heading font-bold text-black",children:i.title}),x.jsxs("div",{className:"flex items-center mt-2",children:[x.jsx(BA,{className:"w-4 h-4 text-elite-gray-500 mr-2"}),x.jsx("span",{className:"text-sm text-elite-gray-600",children:i.timeline})]})]})}),x.jsx(qc,{className:"text-elite-gray-700 leading-relaxed mt-3",children:i.description})]}),x.jsxs(ys,{children:[x.jsx("h4",{className:"font-heading font-semibold text-black mb-3",children:"Action Items:"}),x.jsx("div",{className:"space-y-2",children:i.actions.map((l,u)=>x.jsxs("div",{className:"flex items-start space-x-3 group",children:[x.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-elite-gray-300 flex-shrink-0 mt-0.5 group-hover:border-elite-lime transition-colors"}),x.jsx("p",{className:"text-elite-gray-700 leading-relaxed",children:l})]},u))})]})]})},a))})]})}),x.jsxs("div",{className:"space-y-6",children:[x.jsx(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:x.jsxs(ms,{className:"bg-elite-lime/10 border-elite-lime/20",children:[x.jsxs(Io,{children:[x.jsxs(gs,{className:"text-lg font-heading font-bold text-black flex items-center",children:[x.jsx($f,{className:"w-5 h-5 text-elite-lime mr-2"}),"Quick Wins"]}),x.jsx(qc,{children:"Start implementing these strategies immediately"})]}),x.jsx(ys,{children:x.jsx("div",{className:"space-y-3",children:t.quickWins.map((i,a)=>x.jsxs(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3+.1*a},className:"flex items-start space-x-3",children:[x.jsx(KU,{className:"w-5 h-5 text-elite-lime flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-sm text-elite-gray-700 leading-relaxed",children:i})]},a))})})]})}),x.jsx(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},children:x.jsxs(ms,{children:[x.jsxs(Io,{children:[x.jsxs(gs,{className:"text-lg font-heading font-bold text-black flex items-center",children:[x.jsx(JU,{className:"w-5 h-5 text-elite-lime mr-2"}),"Long-term Vision"]}),x.jsx(qc,{children:"Your ultimate NIL success milestones"})]}),x.jsx(ys,{children:x.jsx("div",{className:"space-y-3",children:t.longTermGoals.map((i,a)=>x.jsxs(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4+.1*a},className:"flex items-start space-x-3",children:[x.jsx(UA,{className:"w-5 h-5 text-elite-lime flex-shrink-0 mt-0.5"}),x.jsx("p",{className:"text-sm text-elite-gray-700 leading-relaxed",children:i})]},a))})})]})}),x.jsx(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},children:x.jsxs(ms,{children:[x.jsx(Io,{children:x.jsx(gs,{className:"text-lg font-heading font-bold text-black",children:"Plan Details"})}),x.jsxs(ys,{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Total Phases"}),x.jsx("span",{className:"font-semibold text-black",children:t.steps.length})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Quick Wins"}),x.jsx("span",{className:"font-semibold text-black",children:t.quickWins.length})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Long-term Goals"}),x.jsx("span",{className:"font-semibold text-black",children:t.longTermGoals.length})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Created"}),x.jsx("span",{className:"font-semibold text-black",children:(r=t.createdAt)==null?void 0:r.toDate().toLocaleDateString()})]})]})]})})]})]}),x.jsxs(Ke.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-12 bg-black rounded-2xl p-8 text-center",children:[x.jsx("h3",{className:"text-2xl font-heading font-bold text-white mb-4",children:"Ready to Dominate Your NIL Game?"}),x.jsx("p",{className:"text-elite-gray-300 mb-6 max-w-2xl mx-auto",children:"Your personalized strategy is ready. Start with the quick wins and build momentum towards your long-term vision."}),x.jsxs(Qt,{onClick:e,className:"bg-elite-lime text-black hover:bg-elite-lime/90 font-heading font-semibold px-6 py-3",children:[x.jsx(pu,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})]})]})}function Pz(){const{currentUser:t,logout:e}=El(),n=Lo(),[r,i]=A.useState(null),[a,l]=A.useState([]),[u,h]=A.useState(null),[p,m]=A.useState(!1),[y,_]=A.useState(!0);A.useEffect(()=>{t&&T()},[t]);const T=async()=>{try{const C=await ZL(Df(ou,"users",t.uid));if(C.exists()){const W=C.data();if(i(W),!W.hasCompletedProfile){n("/profile-setup");return}}const N=qL(GC(ou,"nilPlans"),KL("userId","==",t.uid),YL("createdAt","desc")),V=(await ej(N)).docs.map(W=>({id:W.id,...W.data()}));l(V)}catch(C){console.error("Error loading user data:",C)}finally{_(!1)}},b=async()=>{try{await e(),n("/")}catch(C){console.error("Error logging out:",C)}},S=C=>{l([C,...a]),h(C),m(!1)};return y?x.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-elite-lime rounded-xl flex items-center justify-center mb-4 mx-auto",children:x.jsx(Gr,{className:"w-7 h-7 text-black animate-pulse"})}),x.jsx("p",{className:"text-elite-gray-600",children:"Loading your dashboard..."})]})}):p?x.jsx(Cz,{userProfile:r,onPlanGenerated:S,onCancel:()=>m(!1)}):u?x.jsx(Rz,{plan:u,onBack:()=>h(null)}):x.jsxs("div",{className:"min-h-screen bg-elite-gray-50",children:[x.jsx("div",{className:"bg-white border-b border-elite-gray-200",children:x.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center justify-between py-6",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-10 h-10 bg-elite-lime rounded-lg flex items-center justify-center",children:x.jsx(Gr,{className:"w-6 h-6 text-black"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-heading font-bold text-black",children:"NIL Navigator"}),x.jsx("p",{className:"text-elite-gray-600 text-sm",children:"Your Elite Dashboard"})]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(Qt,{variant:"ghost",size:"sm",className:"text-black hover:text-elite-gray-700",children:[x.jsx($A,{className:"w-4 h-4 mr-2"}),r==null?void 0:r.firstName]}),x.jsxs(Qt,{variant:"ghost",size:"sm",onClick:b,className:"text-black hover:text-elite-gray-700",children:[x.jsx(YU,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})}),x.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[x.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsxs("h2",{className:"text-3xl font-heading font-bold text-black mb-2",children:["Welcome back, ",r==null?void 0:r.firstName,"!"]}),x.jsx("p",{className:"text-elite-gray-600 text-lg",children:"Ready to dominate your NIL game? Let's build your next strategic advantage."})]}),x.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 mb-8 border border-elite-gray-200",children:[x.jsx("h3",{className:"text-xl font-heading font-semibold text-black mb-4",children:"Your Profile"}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Gr,{className:"w-5 h-5 text-elite-lime"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500",children:"Sport"}),x.jsx("p",{className:"font-medium text-black",children:r==null?void 0:r.sport})]})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(jA,{className:"w-5 h-5 text-elite-lime"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500",children:"School Year"}),x.jsx("p",{className:"font-medium text-black",children:r==null?void 0:r.schoolYear})]})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(zA,{className:"w-5 h-5 text-elite-lime"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-elite-gray-500",children:"State"}),x.jsx("p",{className:"font-medium text-black",children:r==null?void 0:r.state})]})]})]})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[x.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h3",{className:"text-2xl font-heading font-bold text-black",children:"Your NIL Plans"}),x.jsxs(Qt,{onClick:()=>m(!0),className:"bg-elite-lime text-black hover:bg-elite-lime/90 font-heading font-semibold",children:[x.jsx(QU,{className:"w-4 h-4 mr-2"}),"Generate New Plan"]})]}),a.length===0?x.jsx(ms,{className:"border-2 border-dashed border-elite-gray-300 bg-elite-gray-50",children:x.jsxs(ys,{className:"py-12 text-center",children:[x.jsx(zf,{className:"w-12 h-12 text-elite-gray-400 mx-auto mb-4"}),x.jsx(gs,{className:"text-xl text-elite-gray-600 mb-2",children:"No NIL Plans Yet"}),x.jsx(qc,{className:"text-elite-gray-500 mb-6",children:"Generate your first personalized NIL strategy to start dominating your game."}),x.jsxs(Qt,{onClick:()=>m(!0),className:"bg-black text-white hover:bg-elite-gray-800",children:[x.jsx($f,{className:"w-4 h-4 mr-2"}),"Create Your First Plan"]})]})}):x.jsx("div",{className:"space-y-4",children:a.map((C,N)=>{var L;return x.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*N},onClick:()=>h(C),className:"bg-white rounded-xl p-6 border border-elite-gray-200 hover:border-elite-lime hover:shadow-lg transition-all duration-300 cursor-pointer group",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h4",{className:"text-lg font-heading font-semibold text-black mb-2 group-hover:text-elite-lime transition-colors",children:C.title}),x.jsx("p",{className:"text-elite-gray-600 text-sm mb-3 line-clamp-2",children:C.overview}),x.jsxs("div",{className:"flex items-center text-xs text-elite-gray-500",children:[x.jsx(BA,{className:"w-3 h-3 mr-1"}),(L=C.createdAt)==null?void 0:L.toDate().toLocaleDateString()]})]}),x.jsx(UA,{className:"w-5 h-5 text-elite-gray-400 group-hover:text-elite-lime transition-colors"})]})},C.id)})})]}),x.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[x.jsxs(ms,{children:[x.jsx(Io,{children:x.jsx(gs,{className:"text-lg font-heading",children:"Quick Stats"})}),x.jsxs(ys,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"NIL Plans Created"}),x.jsx("span",{className:"text-2xl font-heading font-bold text-black",children:a.length})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-elite-gray-600",children:"Profile Completion"}),x.jsx("span",{className:"text-2xl font-heading font-bold text-elite-lime",children:"100%"})]})]})]}),x.jsxs(ms,{children:[x.jsx(Io,{children:x.jsx(gs,{className:"text-lg font-heading",children:"Next Steps"})}),x.jsx(ys,{children:x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-lime rounded-full mt-2"}),x.jsx("p",{className:"text-sm text-elite-gray-600",children:"Generate your personalized NIL action plan"})]}),x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-gray-300 rounded-full mt-2"}),x.jsx("p",{className:"text-sm text-elite-gray-600",children:"Implement your quick wins strategy"})]}),x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-elite-gray-300 rounded-full mt-2"}),x.jsx("p",{className:"text-sm text-elite-gray-600",children:"Track your progress and results"})]})]})})]})]})]})]})]})}function kz(){return x.jsx(lj,{children:x.jsx(Lk,{children:x.jsx("div",{className:"App",children:x.jsxs(Pk,{children:[x.jsx(wo,{path:"/",element:x.jsx(F6,{})}),x.jsx(wo,{path:"/login",element:x.jsx(W6,{})}),x.jsx(wo,{path:"/signup",element:x.jsx(H6,{})}),x.jsx(wo,{path:"/profile-setup",element:x.jsx(cE,{children:x.jsx(H9,{})})}),x.jsx(wo,{path:"/dashboard",element:x.jsx(cE,{children:x.jsx(Pz,{})})}),x.jsx(wo,{path:"*",element:x.jsx(CS,{to:"/"})})]})})})})}MP.createRoot(document.getElementById("root")).render(x.jsx(A.StrictMode,{children:x.jsx(jP,{children:x.jsx(kz,{})})}));
